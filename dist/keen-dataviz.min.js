(function e(b,g,d){function c(n,k){if(!g[n]){if(!b[n]){var j=typeof require=="function"&&require;if(!k&&j){return j(n,!0)}if(a){return a(n,!0)}var m=new Error("Cannot find module '"+n+"'");throw m.code="MODULE_NOT_FOUND",m}var h=g[n]={exports:{}};b[n][0].call(h.exports,function(l){var o=b[n][1][l];return c(o?o:l)},h,h.exports,e,b,g,d)}return g[n].exports}var a=typeof require=="function"&&require;for(var f=0;f<d.length;f++){c(d[f])}return c})({1:[function(d,f,b){var g=d("./dataset");var j=d("./utils/extend");f.exports=function(k){if(!arguments.length){return this.dataset.data()}if(k instanceof g){this.dataset=k;return this}else{return h.call(this,k)}};function h(l){var m,n,s,k,t=[],p,r,q,o;n=this.indexBy()?this.indexBy():"timestamp.start";s=l.metadata||{};p=(typeof l.query!=="undefined")?l.query:{};p=j({analysis_type:null,event_collection:null,filters:[],group_by:null,interval:null,timeframe:null,timezone:null},p);if(p.analysis_type==="funnel"){k="funnel"}else{if(p.analysis_type==="extraction"){k="extraction"}else{if(p.analysis_type==="select_unique"){if(!p.group_by&&!p.interval){k="list"}}else{if(p.analysis_type){if(!p.group_by&&!p.interval){k="metric"}else{if(p.group_by&&!p.interval){if(p.group_by instanceof Array&&p.group_by.length>1){k="double-grouped-metric";t.push(p.group_by)}else{k="grouped-metric"}}else{if(p.interval&&!p.group_by){k="interval";t.push(n)}else{if(p.group_by&&p.interval){if(p.group_by instanceof Array&&p.group_by.length>1){k="double-grouped-interval";t.push(p.group_by);t.push(n)}else{k="grouped-interval";t.push(n)}}}}}}}}}if(!k){if(typeof l.result==="number"){k="metric"}if(l.result instanceof Array&&l.result.length>0){if(l.result[0].timeframe&&(typeof l.result[0].value=="number"||l.result[0].value==null)){k="interval";t.push(n)}if(typeof l.result[0].result=="number"){k="grouped-metric"}if(l.result[0].value instanceof Array){k="grouped-interval";t.push(n)}if(typeof l.result[0]==="number"&&typeof l.steps!=="undefined"){k="funnel";p.steps=l.steps}if((typeof l.result[0]==="string"||typeof l.result[0]=="number")&&typeof l.steps==="undefined"){k="list"}if(!k){k="extraction"}}}if(!this.title()){if(s.display_name){q=s.display_name}else{q=c(p)}this.title(q)}if(!this.type()){if(s.visualization&&s.visualization.chart_type){o=s.visualization.chart_type}else{o=a(k)}this.type(o)}r=g.parser.apply(this,[k].concat(t));m=r(j(l,{query:p}));if(k.indexOf("interval")>-1){m.updateColumn(0,function(v,u){return new Date(v)})}this.dataset=m;return this}function c(k){var m=k.analysis_type?k.analysis_type.replace("_"," "):"",l;l=m.replace(/\b./g,function(n){return n.toUpperCase()});if(k.event_collection){l+=" - "+k.event_collection}return l}function a(l){var k;switch(l){case"metric":k="metric";break;case"interval":k="area";break;case"grouped-metric":case"double-grouped-metric":k="bar";break;case"grouped-interval":case"double-grouped-interval":k="line";break;case"funnel":k="horizontal-bar";break;case"list":case"extraction":default:k="table"}return k}},{"./dataset":2,"./utils/extend":26}],2:[function(b,c,a){(function(d){(function(m){var h=b("./modifiers/append"),r=b("./modifiers/delete"),g=b("./modifiers/filter"),q=b("./modifiers/insert"),n=b("./modifiers/select"),k=b("./modifiers/sort"),j=b("./modifiers/update");var p=b("./utils/analyses"),l=b("../utils/extend"),o=b("./utils/parsers");function f(){if(this instanceof f===false){return new f()}this.matrix=[["Index"]];this.meta={type:undefined}}f.prototype.data=function(s){if(!arguments.length){return this.matrix}this.matrix=(s instanceof Array?s:null);return this};f.prototype.set=function(w,v){if(arguments.length<2||w.length<2){throw Error("Incorrect arguments provided for #set method")}var s="number"===typeof w[0]?w[0]:this.matrix[0].indexOf(w[0]),x="number"===typeof w[1]?w[1]:n.selectColumn.call(this,0).indexOf(w[1]);var u=n.selectColumn.call(this,w[0]),t=n.selectRow.call(this,w[1]);if(u.length<1){h.appendColumn.call(this,String(w[0]));s=this.matrix[0].length-1}if(t.length<1){h.appendRow.call(this,String(w[1]));x=this.matrix.length-1}this.matrix[x][s]=v;return this};f.prototype.type=function(s){if(!arguments.length){return this.meta.type}this.meta.type=(s?String(s):undefined);return this};l(f.prototype,h);l(f.prototype,r);l(f.prototype,g);l(f.prototype,q);l(f.prototype,n);l(f.prototype,k);l(f.prototype,j);l(f.prototype,p);f.parser=o(f);if(typeof c!=="undefined"&&c.exports){c.exports=f}if(typeof define!=="undefined"&&define.amd){define("keen-dataset",[],function(){return f})}if(m.Keen){m.Keen.Dataset=f}m.Dataset=f;if(typeof d!=="undefined"){if(d.Keen){d.Keen.Dataset=f}d.Dataset=f}}(this))}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../utils/extend":26,"./modifiers/append":3,"./modifiers/delete":4,"./modifiers/filter":5,"./modifiers/insert":6,"./modifiers/select":7,"./modifiers/sort":8,"./modifiers/update":9,"./utils/analyses":10,"./utils/parsers":13}],3:[function(d,f,c){var b=d("../utils/create-null-list"),h=d("../../utils/each");f.exports={appendColumn:g,appendRow:a};function g(n,k){var j=this,m=Array.prototype.slice.call(arguments,2),l=(n!==undefined)?n:null;if(typeof k==="function"){j.matrix[0].push(l);h(j.matrix,function(q,p){var o;if(p>0){o=k.call(j,q,p);if(typeof o==="undefined"){o=null}j.matrix[p].push(o)}})}else{if(!k||k instanceof Array){k=k||[];if(k.length<=j.matrix.length-1){k=k.concat(b(j.matrix.length-1-k.length))}else{h(k,function(p,o){if(j.matrix.length-1<k.length){a.call(j,String(j.matrix.length))}})}j.matrix[0].push(l);h(k,function(p,o){j.matrix[o+1][j.matrix[0].length-1]=p})}}return j}function a(o,k){var j=this,n=Array.prototype.slice.call(arguments,2),m=(o!==undefined)?o:null,l=[];l.push(m);if(typeof k==="function"){h(j.matrix[0],function(r,s){var q,p;if(s>0){q=j.selectColumn(s);p=k.call(j,q,s);if(typeof p==="undefined"){p=null}l.push(p)}});j.matrix.push(l)}else{if(!k||k instanceof Array){k=k||[];if(k.length<=j.matrix[0].length-1){k=k.concat(b(j.matrix[0].length-1-k.length))}else{h(k,function(q,p){if(j.matrix[0].length-1<k.length){g.call(j,String(j.matrix[0].length))}})}j.matrix.push(l.concat(k))}}return j}},{"../../utils/each":24,"../utils/create-null-list":11}],4:[function(d,f,c){var g=d("../../utils/each");f.exports={deleteColumn:a,deleteRow:b};function a(k){var h=this,j=(typeof k==="number")?k:this.matrix[0].indexOf(k);if(j>-1){g(h.matrix,function(m,l){h.matrix[l].splice(j,1)})}return h}function b(j){var h=(typeof j==="number")?j:this.selectColumn(0).indexOf(j);if(h>-1){this.matrix.splice(h,1)}return this}},{"../../utils/each":24}],5:[function(c,d,b){var f=c("../../utils/each");d.exports={filterColumns:a,filterRows:g};function a(j){var h=this,k=new Array();f(h.matrix,function(m,l){k.push([])});f(h.matrix[0],function(l,m){var n=h.selectColumn(m);if(m==0||j.call(h,n,m)){f(n,function(o,p){k[p].push(o)})}});h.data(k);return h}function g(j){var h=this,k=[];f(h.matrix,function(m,l){if(l==0||j.call(h,m,l)){k.push(m)}});h.data(k);return h}},{"../../utils/each":24}],6:[function(f,b,g){var j=f("../../utils/each");var h=f("../utils/create-null-list");var c=f("./append");var l=c.appendRow,d=c.appendColumn;b.exports={insertColumn:a,insertRow:k};function a(p,q,n){var m=this,o;o=(q!==undefined)?q:null;if(typeof n==="function"){m.matrix[0].splice(p,0,o);j(m.matrix,function(t,s){var r;if(s>0){r=n.call(m,t,s);if(typeof r==="undefined"){r=null}m.matrix[s].splice(p,0,r)}})}else{if(!n||n instanceof Array){n=n||[];if(n.length<=m.matrix.length-1){n=n.concat(h(m.matrix.length-1-n.length))}else{j(n,function(s,r){if(m.matrix.length-1<n.length){l.call(m,String(m.matrix.length))}})}m.matrix[0].splice(p,0,o);j(n,function(s,r){m.matrix[r+1].splice(p,0,s)})}}return m}function k(q,r,n){var m=this,p,o=[];p=(r!==undefined)?r:null;o.push(p);if(typeof n==="function"){j(m.matrix[0],function(u,v){var t,s;if(v>0){t=m.selectColumn(v);s=n.call(m,t,v);if(typeof s==="undefined"){s=null}o.push(s)}});m.matrix.splice(q,0,o)}else{if(!n||n instanceof Array){n=n||[];if(n.length<=m.matrix[0].length-1){n=n.concat(h(m.matrix[0].length-1-n.length))}else{j(n,function(t,s){if(m.matrix[0].length-1<n.length){d.call(m,String(m.matrix[0].length))}})}m.matrix.splice(q,0,o.concat(n))}}return m}},{"../../utils/each":24,"../utils/create-null-list":11,"./append":3}],7:[function(d,f,c){var g=d("../../utils/each");f.exports={selectColumn:b,selectRow:a};function b(k){var h=new Array(),j=(typeof k==="number")?k:this.matrix[0].indexOf(k);if(j>-1&&"undefined"!==typeof this.matrix[0][j]){g(this.matrix,function(m,l){h.push(m[j])})}return h}function a(k){var h=new Array(),j=(typeof k==="number")?k:this.selectColumn(0).indexOf(k);if(j>-1&&"undefined"!==typeof this.matrix[j]){h=this.matrix[j]}return h}},{"../../utils/each":24}],8:[function(d,f,c){var g=d("../../utils/each");f.exports={sortColumns:b,sortRows:a};function b(n,j){var h=this,k=this.matrix[0].slice(1),m=[],o=[],l=j||this.getColumnLabel;g(k,function(p,q){m.push(h.selectColumn(q+1).slice(0))});m.sort(function(q,p){var r=l.call(h,q)>l.call(h,p);if(r){return(n==="asc"?1:-1)}else{if(!r){return(n==="asc"?-1:1)}else{return 0}}});g(m,function(p,q){h.deleteColumn(q+1).insertColumn(q+1,p[0],p.slice(1))});return h}function a(n,k){var j=this,l=this.matrix.slice(0,1),h=this.matrix.slice(1),m=k||this.getRowIndex;h.sort(function(p,o){var q=m.call(j,p)>m.call(j,o);if(q){return(n==="asc"?1:-1)}else{if(!q){return(n==="asc"?-1:1)}else{return 0}}});j.data(l.concat(h));return j}},{"../../utils/each":24}],9:[function(f,a,g){var k=f("../../utils/each");var h=f("../utils/create-null-list");var b=f("./append");var l=b.appendRow,d=b.appendColumn;a.exports={updateColumn:j,updateRow:c};function j(p,n){var m=this,o=(typeof p==="number")?p:this.matrix[0].indexOf(p);if(o>-1){if(typeof n==="function"){k(m.data(),function(s,r){var q;if(r>0){q=n.call(m,s[o],r,s);if(typeof q!=="undefined"){m.matrix[r][o]=q}}})}else{if(!n||n instanceof Array){n=n||[];if(n.length<=m.data().length-1){n=n.concat(h(m.data().length-1-n.length))}else{k(n,function(r,q){if(m.matrix.length-1<n.length){l.call(m,String(m.matrix.length))}})}k(n,function(r,q){m.matrix[q+1][o]=r})}}}return m}function c(p,n){var m=this,o=(typeof p==="number")?p:this.selectColumn(0).indexOf(p);if(o>-1){if(typeof n==="function"){k(m.data()[o],function(t,s){var r=m.selectColumn(s),q=n.call(m,t,s,r);if(typeof q!=="undefined"){m.matrix[o][s]=q}})}else{if(!n||n instanceof Array){n=n||[];if(n.length<=m.matrix[0].length-1){n=n.concat(h(m.matrix[0].length-1-n.length))}else{k(n,function(r,q){if(m.matrix[0].length-1<n.length){d.call(m,String(m.matrix[0].length))}})}k(n,function(r,q){m.matrix[o][q+1]=r})}}}return m}},{"../../utils/each":24,"../utils/create-null-list":11,"./append":3}],10:[function(d,c,h){var m=d("../../utils/each"),l=d("../../utils/extend");var a={};var f={average:b,maximum:g,minimum:k,sum:j};function b(n,s,o){var r=n.slice(s||0,(o?o+1:n.length)),p=0,q=null;m(r,function(u,t){if(typeof u==="number"&&!isNaN(parseFloat(u))){p+=parseFloat(u)}});return p/r.length}function g(n,r,o){var q=n.slice(r||0,(o?o+1:n.length)),p=[];m(q,function(t,s){if(typeof t==="number"&&!isNaN(parseFloat(t))){p.push(parseFloat(t))}});return Math.max.apply(Math,p)}function k(n,r,o){var q=n.slice(r||0,(o?o+1:n.length)),p=[];m(q,function(t,s){if(typeof t==="number"&&!isNaN(parseFloat(t))){p.push(parseFloat(t))}});return Math.min.apply(Math,p)}function j(n,r,o){var q=n.slice(r||0,(o?o+1:n.length)),p=0;m(q,function(t,s){if(typeof t==="number"&&!isNaN(parseFloat(t))){p+=parseFloat(t)}});return p}m(f,function(p,n){var o=n.charAt(0).toUpperCase()+n.slice(1);a["getColumn"+o]=a["getRow"+o]=function(q){return this[n](q,1)}});a.getColumnLabel=a.getRowIndex=function(n){return n[0]};l(f,a);c.exports=f},{"../../utils/each":24,"../../utils/extend":26}],11:[function(b,c,a){c.exports=function(d){var f=new Array();for(i=0;i<d;i++){f.push(null)}return f}},{}],12:[function(b,c,a){c.exports=d;function d(g){var k={};for(var h in g){if(!g.hasOwnProperty(h)){continue}if((typeof g[h])=="object"&&g[h]!==null){var j=d(g[h]);for(var f in j){if(!j.hasOwnProperty(f)){continue}k[h+"."+f]=j[f]}}else{k[h]=g[h]}}return k}},{}],13:[function(f,c,k){var b;var q=f("../../utils/each"),a=f("../utils/flatten");var r={metric:n,interval:j,"grouped-metric":p,"grouped-interval":s,"double-grouped-metric":h,"double-grouped-interval":g,funnel:o,list:l,extraction:d};c.exports=m;function m(t){b=t;return function(v){var u=Array.prototype.slice.call(arguments,1);if(!r[v]){throw"Requested parser does not exist"}else{return r[v].apply(this,u)}}}function n(){return function(t){return new b().set(["Value","Result"],t.result).type("metric")}}function j(){var t=Array.prototype.slice.call(arguments);return function(u){var v=new b().type("interval");q(u.result,function(w,y){var x=t[0]&&t[0]==="timeframe.end"?w.timeframe.end:w.timeframe.start;v.set(["Result",x],w.value)});return v}}function p(){return function(t){var u=new b().type("grouped-metric");q(t.result,function(v,x){var w;q(v,function(z,y){if(y!=="result"){w=y}});u.set(["Result",String(v[w])],v.result)});return u}}function s(){var t=Array.prototype.slice.call(arguments);return function(u){var v=new b().type("grouped-interval");q(u.result,function(w,y){var x=t[0]&&t[0]==="timeframe.end"?w.timeframe.end:w.timeframe.start;if(w.value.length){q(w.value,function(B,A){var z;q(B,function(D,C){if(C!=="result"){z=C}});v.set([String(B[z]),x],B.result)})}else{v.appendRow(x)}});return v}}function h(){var t=Array.prototype.slice.call(arguments);if(!t[0]){throw"Requested parser requires a sequential list (array) of properties to target as a second argument"}return function(u){var v=new b().type("double-grouped-metric");q(u.result,function(w,x){var y=w[t[0][0]]+" "+w[t[0][1]];v.set(["Result",y],w.result)});return v}}function g(){var t=Array.prototype.slice.call(arguments);if(!t[0]){throw"Requested parser requires a sequential list (array) of properties to target as a second argument"}return function(u){var v=new b().type("double-grouped-interval");q(u.result,function(w,y){var x=t[1]&&t[1]==="timeframe.end"?w.timeframe.end:w.timeframe.start;q(w.value,function(B,A){var z=B[t[0][0]]+" "+B[t[0][1]];v.set([z,x],B.result)})});return v}}function o(){return function(v){var t,u,w;if(typeof v.steps!=="undefined"&&typeof v.result!=="undefined"&&v.result instanceof Array){t=v.result;u=v.steps}else{if(typeof v.result.steps!=="undefined"&&typeof v.result.result!=="undefined"&&v.result.result instanceof Array){t=v.result.result;u=v.result.steps}}w=new b().type("funnel");w.appendColumn("Step Value");q(t,function(y,x){if(typeof u!=="undefined"&&u[x]){w.appendRow(String(u[x].event_collection),[y])}});return w}}function l(){return function(t){var u=new b().type("list");q(t.result,function(w,v){u.set(["Result",String(v+1)],w)});return u}}function d(){return function(t){var u=new b().type("extraction");q(t.result,function(v,w){q(a(v),function(y,x){u.set([x,String(w+1)],y)})});u.deleteColumn(0);return u}}},{"../../utils/each":24,"../utils/flatten":12}],14:[function(b,c,a){(function(d){(function(p){var g=b("./dataset"),l=b("./data");var q=b("./utils/each"),o=b("./utils/extend"),m=b("./utils/assert-date-string");function f(){if(this instanceof f===false){return new f()}this.dataset=new g();this.view={_prepared:false,_rendered:false,_artifacts:{},chartOptions:{},colors:["#00bbde","#fe6672","#eeb058","#8a8ad6","#ff855c","#00cfbb","#5a9eed","#73d483","#c879bb","#0099b6","#d74d58","#cb9141","#6b6bb6","#d86945","#00aa99","#4281c9","#57b566","#ac5c9e","#27cceb","#ff818b","#f6bf71","#9b9be1","#ff9b79","#26dfcd","#73aff4","#87e096","#d88bcb"],colorMapping:{},dateFormat:undefined,el:undefined,height:undefined,indexBy:"timeframe.start",labels:[],labelMapping:{},library:"default",notes:undefined,sortGroups:undefined,sortIntervals:undefined,stacked:false,theme:"keen-dataviz",title:undefined,type:undefined,width:undefined};f.visuals.push(this)}f.libraries={"default":{}};if("undefined"!==typeof window){f.libraries["default"]=b("./libraries")(f)}f.visuals=[];f.register=function(r,s){f.libraries[r]=f.libraries[r]||{};q(s,function(u,t){f.libraries[r][t]=u})};f.find=function(t){if(!arguments.length){return f.visuals}var s=t.nodeName?t:document.querySelector(t),r=null;q(f.visuals,function(u){if(s==u.el()){r=u;return false}});return r};f.prototype.attributes=function(s){if(!arguments.length){return this.view}var r=this.view;q(s,function(u,t){if(t==="chartType"){t="type"}r[t]=u});return this};f.prototype.call=function(r){r.call(this);return this};f.prototype.chartOptions=function(s){var r=this;if(!arguments.length){return this.view.chartOptions}if(s===null){this.view.chartOptions={}}else{if(typeof s==="object"){q(s,function(u,t){r.view.chartOptions[t]=(u?u:null)})}}return this};f.prototype.colors=function(r){if(!arguments.length){return this.view.colors}this.view.colors=(r instanceof Array?r:[]);return this};f.prototype.colorMapping=function(s){var r=this;if(!arguments.length){return this.view.colorMapping}if(s===null){this.view.colorMapping={}}else{if(typeof s==="object"){q(s,function(u,t){r.view.colorMapping[t]=(u?u:null)})}}return this};f.prototype.data=l;f.prototype.dateFormat=function(r){if(!arguments.length){return this.view.dateFormat}if(typeof r==="string"||typeof r==="function"){this.view.dateFormat=r}else{this.view.dateFormat=undefined}return this};f.prototype.destroy=function(){var r=this.library(),t=this.type(),s=this.el();if(f.libraries[r]&&f.libraries[r][t]){f.libraries[r][t].destroy.call(this)}if(s){s.innerHTML=""}this.view._prepared=false;this.view._rendered=false;this.view._artifacts={};return this};f.prototype.el=function(s){var r=this;if(!arguments.length){return this.view.el}k(function(){if(s&&s!==null){if(s.nodeName){r.view.el=s}else{if(document.querySelector){r.view.el=document.querySelector(s)}}}else{r.view.el=undefined}});return this};f.prototype.height=function(r){if(!arguments.length){return this.view.height}this.view.height=(!isNaN(parseInt(r))?parseInt(r):null);return this};f.prototype.indexBy=function(r){if(!arguments.length){return this.view.indexBy}this.view.indexBy=(r?String(r):"timeframe.start");return this};f.prototype.labels=function(r){if(!arguments.length){return this.view.labels}this.view.labels=(r instanceof Array?r:[]);if(this.data()[0].length===2&&!m(this.data()[1][0])){this.dataset.updateColumn(0,function(t,s){if(this.view.labels[s-1]){return String(this.view.labels[s-1])}else{return t}}.bind(this))}else{this.dataset.updateRow(0,function(t,s){if(s>0&&this.view.labels[s-1]){return String(this.view.labels[s-1])}else{return t}}.bind(this))}return this};f.prototype.labelMapping=function(r){if(!arguments.length){return this.view.labelMapping}if(r===null){this.view.labelMapping={}}else{if(typeof r==="object"){q(r,function(t,s){this.view.labelMapping[s]=(t?t:null)}.bind(this))}}if(this.data()[0].length===2&&!m(this.data()[1][0])){this.dataset.updateColumn(0,function(s){if(this.view.labelMapping[s]){return String(this.view.labelMapping[s])}else{return s}}.bind(this))}else{this.dataset.updateRow(0,function(s){if(this.view.labelMapping[s]){return String(this.view.labelMapping[s])}else{return s}}.bind(this))}return this};f.prototype.library=function(r){if(!arguments.length){return this.view.library}this.view.library=(r?String(r):null);return this};f.prototype.message=function(){var r;if(this.view._rendered){this.destroy()}if(this.el()){this.el().innerHTML="";message=f.libraries["default"].message;if(message.render){message.render.apply(this,arguments)}}return this};f.prototype.notes=function(r){if(!arguments.length){return this.view.notes}this.view.notes=(r?String(r):null);return this};f.prototype.prepare=function(){var s=this,r;if(!this.el()){throw"A DOM element is required. Check out the .el() method.";return}k(function(){if(s.view._rendered){s.destroy()}if(s.el()){s.el().innerHTML="";r=f.libraries["default"].spinner;if(r.render){r.render.call(s)}s.view._prepared=true}});return this};f.prototype.render=function(){var t=this,r=f.libraries["default"].spinner,s=this.library(),v=this.type(),u=this.el();if(!this.el()){this.message("A DOM element is required. Check out the .el() method.");throw"A DOM element is required. Check out the .el() method.";return}if(!this.type()){this.message("A chart type is required. Check out the .type() method.");throw"A chart type is required. Check out the .type() method.";return}k(function(){if(t.view._prepared&&r.destroy){r.destroy.apply(t,arguments)}t.el().innerHTML="";if(f.libraries[s]==="undefined"){t.message("Incorrect library");throw"Incorrect library";return}else{if(typeof f.libraries[s][v]==="undefined"){this.message("Incorrect chart type");throw"Incorrect chart type";return}else{n(t.el(),{notes:t.notes(),theme:t.theme(),title:t.title()});f.libraries[s][v].render.call(t);t.view._rendered=true}}});return this};f.prototype.sortGroups=function(r){if(!arguments.length){return this.view.sortGroups}this.view.sortGroups=(r?String(r):null);if(this.view.sortGroups&&this.data().length>1){if(m(this.data()[1][0])){this.dataset.sortColumns(this.view.sortGroups,this.dataset.getColumnSum)}else{this.dataset.sortRows(this.view.sortGroups,this.dataset.getRowSum)}}return this};f.prototype.sortIntervals=function(r){if(!arguments.length){return this.view.sortInterval}this.view.sortIntervals=(r?String(r):null);if(this.view.sortIntervals){this.dataset.sortRows(this.view.sortIntervals)}return this};f.prototype.stacked=function(r){if(!arguments.length){return this.view.stacked}this.view.stacked=r?true:false;return this};f.prototype.theme=function(r){if(!arguments.length){return this.view.theme}this.view.theme=(r?String(r):null);return this};f.prototype.title=function(r){if(!arguments.length){return this.view.title}this.view.title=(r?String(r):null);return this};f.prototype.type=function(r){if(!arguments.length){return this.view.type}this.view.type=(r?j(r):null);return this};f.prototype.update=function(){var r=this.library(),t=this.type(),s=this.el();if(r&&t&&s&&f.libraries[r][t].update){f.libraries[r][t].update.apply(this,arguments)}return this};f.prototype.width=function(r){if(!arguments.length){return this.view.width}this.view.width=(!isNaN(parseInt(r))?parseInt(r):null);return this};f.prototype.chartType=f.prototype.type;f.prototype.error=f.prototype.message;f.prototype.parseRawData=f.prototype.data;f.prototype.parseRequest=function(){return this};f.prototype.initialize=function(){return this};function n(t,r){var s="";s+='<div class="'+r.theme+'">';if(r.title){s+='<div class="'+r.theme+'-title">'+r.title+"</div>"}s+='<div class="'+r.theme+'-stage"><div class="'+r.theme+'-rendering"></div></div>';if(r.notes){s+='<div class="'+r.theme+'-notes">'+r.notes+"</div>"}s+="</div>";t.innerHTML=s}function j(s){var r={areachart:"area",barchart:"horizontal-bar",columnchart:"bar",linechart:"line",piechart:"pie"};return r[s]||s}function k(s){if("undefined"!==typeof document||"undefined"===typeof window){s();return}if(document.readyState==null&&document.addEventListener){document.addEventListener("DOMContentLoaded",function r(){document.removeEventListener("DOMContentLoaded",r,false);document.readyState="complete"},false);document.readyState="loading"}h(s)}function h(r){if(/in/.test(document.readyState)){setTimeout(function(){h(r)},9)}else{r()}}if(typeof c!=="undefined"&&c.exports){c.exports=f}if(typeof define!=="undefined"&&define.amd){define("keen-dataviz",[],function(){return f})}if(p.Keen){p.Keen.Dataviz=f}p.Dataviz=f;if(typeof d!=="undefined"){if(d.Keen){d.Keen.Dataviz=f}d.Dataviz=f}}(this))}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./data":1,"./dataset":2,"./libraries":22,"./utils/assert-date-string":23,"./utils/each":24,"./utils/extend":26}],15:[function(b,c,a){c.exports=function(f,g){var h=Math.abs(new Date(f).getTime()-new Date(g).getTime());var d=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"];if(h>=2419200000){return function(k){var j=new Date(k);return d[j.getMonth()]+" "+j.getFullYear()}}else{if(h>=86400000){return function(k){var j=new Date(k);return d[j.getMonth()]+" "+j.getDate()}}else{if(h>=3600000){return"%I:%M %p"}else{return"%I:%M:%S %p"}}}}},{}],16:[function(c,d,a){var f=c("d3");var b=c("../../../utils/assert-date-string");d.exports=function(q){var w=this,o=this.view._artifacts.c3,h=[],j=this.el().querySelector("."+this.theme()+"-rendering"),t=120;var u=this.view._artifacts.pagination={hidden:[],labels:[],position:0,range:Math.round((j.offsetHeight-78)/20),total:0};if(this.type()==="donut"||this.type()==="pie"){u.range=u.range>=5?5:u.range}for(var l=0;l<q.length;l++){if(q[l][0]!=="x"&&!b(q[l][1])){h.push(q[l][0])}}var m=f.select(j).append("svg").attr({"class":"keen-c3-legend",height:j.offsetHeight-10,width:t}).style({right:-t+"px",top:"10px"});var k=m.append("g").attr("class","keen-c3-legend-items");var g=20*u.range;var p=m.append("g").attr({"class":"keen-c3-legend-pagination",transform:function(){return"translate(2, "+g+")"}});s();function s(){u.labels=h.slice(u.position,u.position+u.range);u.total=h.length;v.call(w,u.labels);if(u.total>u.range){r.call(w)}o.resize()}function v(){k.selectAll("g").remove();var x=k.selectAll("g").data(u.labels);x.enter().append("g").attr("transform",function(z,y){return"translate(0, "+(20*y)+")"}).attr("data-id",function(y){return y}).style("opacity",function(z){var y=u.hidden.indexOf(z);return y<0?1:0.35}).each(function(y){f.select(this).append("text").attr({"font-size":12,"pointer-events":"none",x:15,y:9}).text(y).text(function(z){if(f.select(this).node().getBBox().width>105){return z.length<=15?z:z.substring(0,12)+"..."}else{return z}});f.select(this).append("rect").attr({height:14,width:110,x:0,y:0}).style({cursor:"pointer","fill-opacity":0});f.select(this).append("rect").attr({fill:o.color(y),height:10,"pointer-events":"none",rx:5,ry:5,width:10,x:0,y:0})}).on("mouseover",function(z,y){o.focus(z);if(z.length>15){f.select(j).append("div").attr("class","keen-c3-legend-label-overlay").style({"max-width":"75%",right:-t+"px",top:(5+(y+1)*20)+"px"}).html(z).append("div").attr("class","keen-c3-legend-label-overlay-pointer")}}).on("mouseout",function(y){o.revert();f.select(w.el().querySelector("."+w.theme()+"-rendering .keen-c3-legend-label-overlay")).remove()}).on("click",function(y){f.select(this).style("opacity",function(){var z=u.hidden.indexOf(y);if(z<0){u.hidden.push(y);return 0.35}else{u.hidden.splice(z,1);return 1}});o.toggle(y)});x.exit().remove()}function r(){p.selectAll("g").remove();p.selectAll("g").data([{direction:"reverse",path_d:"M0 10 L10 0 L20 10 Z"},{direction:"forward",path_d:"M0 0 L10 10 L20 0 Z"}]).enter().append("g").attr("transform",function(y,x){return"translate("+(x*20)+", 0)"}).each(function(x){f.select(this).append("path").attr("d",function(y){return y.path_d}).style({cursor:"pointer",fill:"#D7D7D7",stroke:"none"}).on("mouseover",function(y){f.select(this).style("fill","#4D4D4D")}).on("mouseout",function(y){f.select(this).style("fill","#D7D7D7")}).on("click",function(y){if(y.direction==="forward"){if(u.position+u.range<u.total){u.position=u.position+u.range}}else{if(u.position-u.range>=0){u.position=u.position-u.range}}s();n()})})}function n(){var x;if(document.selection&&document.selection.empty){x=document.selection;x.empty()}else{if(window.getSelection){x=window.getSelection();x.removeAllRanges()}}}}},{"../../../utils/assert-date-string":23,d3:29}],17:[function(b,c,a){c.exports=function(o,g,h,k){var s,f,j,r,p,m,q,n;j=this.config.tooltip_format_name||function(d){return d};m=this.config.tooltip_format_title||g;n=this.config.tooltip_format_value||h;for(var l=0;l<o.length;l++){if(!(o[l]&&(o[l].value||o[l].value===0))){continue}if(!r){p=m?m(o[l].x):o[l].x;r="<table class='"+this.CLASS.tooltip+"'>"+(p||p===0?"<tr><th colspan='2'>"+p+"</th></tr>":"")}f=j(o[l].name);q=n(o[l].value,o[l].ratio,o[l].id,o[l].index);s=this.levelColor?this.levelColor(o[l].value):k(o[l].id);if(q){r+="<tr class='"+this.CLASS.tooltipName+"-"+o[l].id+"'>";r+="<td class='name'><span style='background-color:"+s+"'></span>"+f+"</td>";r+="<td class='value'>"+q+"</td>";r+="</tr>"}}return r+"</table>"}},{}],18:[function(b,c,a){c.exports={render:function(j){var g=document.createElement("div"),f=document.createElement("div"),h=document.createElement("span"),d=this.height()||140;g.className=this.theme();f.className=this.theme()+"-message";f.style.height=d+"px";f.style.paddingTop=(d/2-12)+"px";f.style.width=this.width()+"px";h.innerHTML=j||"";f.appendChild(h);g.appendChild(f);this.el().innerHTML="";this.el().appendChild(g)},update:function(){this.render()},destroy:function(){}}},{}],19:[function(c,d,b){var a=c("../../utils/pretty-number");d.exports={render:function(){var k=this.colors()[0],l=this.theme(),o=this.title(),p="-",r=this.height()||140,h=this.width(),g=this.chartOptions(),m="",n="",q="",f,j;if(typeof this.data()[1][1]==="number"){p=this.data()[1][1]}f=p;if((typeof g.prettyNumber==="undefined"||g.prettyNumber===true)&&!isNaN(parseInt(p))){f=a(p)}if(g.prefix){n='<span class="'+l+'-metric-prefix">'+g.prefix+"</span>"}if(g.suffix){q='<span class="'+l+'-metric-suffix">'+g.suffix+"</span>"}m+='<div class="'+l+'">';m+='<div class="'+l+'-metric" style="background-color: '+k+"; width: "+(h?h+"px":"auto")+';" title="'+p+'">';m+='<span class="'+l+'-metric-value">'+n+f+q+"</span>";if(o){m+='<span class="'+l+'-metric-title">'+o+"</span>"}m+="</div>";m+="</div>";this.el().innerHTML=m;j=this.el().querySelector("."+l+"-metric-value");j.style.paddingTop=((r-this.el().offsetHeight)/2)+"px";this.el().querySelector("."+l+"-metric").style.height=r+"px"},update:function(){this.render()},destroy:function(){}}},{"../../utils/pretty-number":27}],20:[function(b,c,a){c.exports={render:function(){var h="",g=this.view._artifacts.spinner={},f=this.height()||35,k=(f-35)/2,j=["webkit","Moz","ms","O"],d=this.view._artifacts.radius=0,l;h+='<div class="'+this.theme()+'">';h+='<div class="keen-spinner-container" style="height: '+f+"px; padding-top: "+k+'px;">';h+='<div class="keen-spinner-indicator"></div>';h+="</div>";h+="</div>";this.el().innerHTML=h;l=this.el().querySelector(".keen-spinner-indicator");if(l.style.animationName===undefined){d=0;g.interval=setInterval(function(){d=(d===350)?0:d+10;for(var m=0;m<j.length;m++){l.style[j[m]]="rotate("+g.radius+"deg)"}},15)}},update:function(){this.render()},destroy:function(){if(this.view._artifacts.spinner){if(this.view._artifacts.spinner.interval){clearInterval(this.view._artifacts.spinner.interval)}this.view._artifacts.spinner.radius=0;try{delete this.view._artifacts.spinner}catch(d){this.view._artifacts.spinner=undefined}}this.el().innerHTML=""}}},{}],21:[function(b,c,a){var d=b("../../utils/each");var f={height:undefined,width:undefined,stickyHeader:true,stickyFooter:false};c.exports={render:function(){var m=this.data(),k=this.el(),r=(this.height()||f.height)-this.el().offsetHeight,o=this.theme(),h=this.width()||f.width;var p="",q=new Array(m[0].length),s=new Array(m[0].length),g;d(m,function(j){d(j,function(t,u){if(!s[u]){s[u]=0}q[u]=(typeof t==="number")?"right":"left";s[u]=(String(t).length>s[u])?String(t).length:s[u]})});p+='<div class="'+o+'-table" style="height: '+(r?r+"px":"auto")+"; width: "+(h?h+"px":"auto")+';">';p+='<table class="'+o+'-table-dataset">';p+="<thead>";p+="<tr>";for(var n=0;n<m[0].length;n++){p+='<th style="width: '+(10*s[n])+"px; text-align: "+q[n]+';">'+m[0][n]+"</th>"}p+="</tr>";p+="</thead>";p+="<tbody>";for(var n=0;n<m.length;n++){if(n>0){p+="<tr>";for(var l=0;l<m[n].length;l++){p+='<td style="min-width: '+(10*s[l])+"px; text-align: "+q[l]+';">'+m[n][l]+"</td>"}p+="</tr>"}}p+="</tbody>";p+="</table>";p+='<table class="'+o+'-table-fixed-header">';p+="<thead>";p+="<tr>";for(var n=0;n<m[0].length;n++){p+='<th style="min-width: '+(10*s[n])+"px; text-align: "+q[n]+';">'+m[0][n]+"</th>"}p+="</tr>";p+="</thead>";p+="</table>";p+="</div>";k.querySelector("."+o+"-rendering").innerHTML=p;g=k.querySelector("."+o+"-table-fixed-header");k.querySelector("."+o+"-table").onscroll=function(j){g.style.top=j.target.scrollTop+"px"}},update:function(){this.render()},destroy:function(){var g=this.el().querySelector("."+this.theme()+"-table");if(g&&g.onscroll){g.onscroll=undefined}}}},{"../../utils/each":24}],22:[function(d,c,h){var g=d("c3"),s=d("d3");var r=d("../utils/each"),o=d("../utils/extend"),p=d("../utils/extend-deep"),k=d("../utils/assert-date-string");var l=d("./c3/extensions/default-date-format");var j=d("./c3/extensions/paginating-legend");var n=d("./c3/extensions/tooltip-contents");var m={message:d("./default/message"),metric:d("./default/metric"),table:d("./default/table"),spinner:d("./default/spinner")};c.exports=function(u){var v,t;f(function(){if(v){clearTimeout(v)}t=(u.visuals.length>12)?1000:250;v=setTimeout(function(){r(u.visuals,function(w){if(w.view._artifacts.c3){w.view._artifacts.c3.resize()}})},t)});q();return m};function q(){var u=["area","area-spline","area-step","bar","donut","gauge","line","pie","step","spline","horizontal-area","horizontal-area-spline","horizontal-area-step","horizontal-bar","horizontal-line","horizontal-step","horizontal-spline"];function t(){var x,v,w;x={axis:{},color:{},data:{order:null},legend:{position:"right",show:true},padding:{},point:{focus:{expand:{enabled:false}},r:2,show:true},tooltip:{}};v={bindto:this.el().querySelector("."+this.theme()+"-rendering"),color:{pattern:this.colors()},data:{colors:o({},this.colorMapping()),columns:[],type:this.type().replace("horizontal-","")},size:{height:this.height()?this.height()-this.el().offsetHeight:400,width:this.width()},tooltip:{},transition:{duration:0}};w=p({},x,this.chartOptions());w=p(w,v);w.color.pattern=v.color.pattern;w.data.colors=v.data.colors;w.data.columns=v.data.columns;return w}r(u,function(w,v){m[w]={render:function(){var x=t.call(this);if(this.data()[0].length===1||this.data().length===1){this.message("No data to display");return}if(w==="gauge"){x.legend.position="bottom";x.data.columns=[[this.title()||this.data()[1][0],this.data()[1][1]]]}else{if(w==="pie"||w==="donut"){x.data.columns=this.data().slice(1)}else{if(w.indexOf("horizontal-")>-1){x.axis.rotated=w.indexOf("horizontal-")>-1}if(k(this.data()[1][0])){x.axis.x=x.axis.x||{};x.axis.x.type="timeseries";x.axis.x.tick=x.axis.x.tick||{format:this.dateFormat()||l(this.data()[1][0],this.data()[2]?this.data()[2][0]:this.data()[1][0]),culling:{max:5}};x.data.columns[0]=[];r(this.dataset.selectColumn(0),function(z,A){if(A>0){z=new Date(z)}x.data.columns[0][A]=z});x.data.columns[0][0]="x";x.data.x="x";if(this.stacked()&&this.data()[0].length>2){x.data.groups=[this.dataset.selectRow(0).slice(1)]}}else{x.axis.x=x.axis.x||{};x.axis.x.type="category";x.axis.x.categories=this.dataset.selectColumn(0).slice(1);if(this.stacked()&&this.data()[0].length>2){x.data.groups=[this.dataset.selectRow(0).slice(1)]}}if(this.data()[0].length===2){x.legend.show=false}r(this.data()[0],function(z,A){if(A>0){x.data.columns.push(this.dataset.selectColumn(A))}}.bind(this))}}if(x.legend.show===true&&x.legend.position==="right"&&["gauge"].indexOf(w.replace("horizontal-",""))){x.data.color=b.bind(this);x.tooltip={contents:n,format:{value:a.bind(this)}};x.legend.show=false;var y=this.el().querySelector("."+this.theme()+"-rendering").offsetWidth-100;x.size.width=x.size.width||y;this.el().querySelector("."+this.theme()+"-rendering").setAttribute("style","margin-right: 120px;");this.view._artifacts.c3=g.generate(x);j.call(this,x.data.columns)}else{x.legend.show=false;this.view._artifacts.c3=g.generate(x)}},update:function(){this.render()},destroy:function(){if(this.view._artifacts.c3){this.view._artifacts.c3.destroy();this.view._artifacts.c3=null}}}})}function b(t,v){var u;if(this.view._artifacts.pagination&&this.type()!=="gauge"){u=this.view._artifacts.pagination.labels;if((v.id&&u.indexOf(v.id)>-1)||(v&&!v.id&&u.indexOf(v)>-1)){return t}else{if(this.type()==="donut"||this.type()==="pie"){return"rgba(0,0,0,.1)"}else{return"rgba(0,0,0,.07)"}}}else{return t}}function a(w,v,x,t){var u;if(this.view._artifacts.pagination&&this.type()!=="gauge"){u=this.view._artifacts.pagination.labels;if(u.indexOf(x)>-1){return w}}else{return w}}function f(t){if("undefined"===typeof window){return}window.onresize=window.resize=function(){};if(window.addEventListener){window.addEventListener("resize",t,true)}else{if(window.attachEvent){window.attachEvent("onresize",t)}}}},{"../utils/assert-date-string":23,"../utils/each":24,"../utils/extend":26,"../utils/extend-deep":25,"./c3/extensions/default-date-format":15,"./c3/extensions/paginating-legend":16,"./c3/extensions/tooltip-contents":17,"./default/message":18,"./default/metric":19,"./default/spinner":20,"./default/table":21,c3:28,d3:29}],23:[function(d,f,a){f.exports=function(g){if(typeof g==="object"){return c(g)}else{if(typeof g==="string"){return b(g)}}return false};function c(g){if(g!==null&&typeof g.getTime==="function"&&!isNaN(g.getTime())){return true}return false}function b(g){var h=/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i;return h.test(g)}},{}],24:[function(b,c,a){c.exports=d;function d(h,f,g){var j;if(!h){return 0}g=!g?h:g;if(h instanceof Array){for(j=0;j<h.length;j++){if(f.call(g,h[j],j,h)===false){return 0}}}else{for(j in h){if(h.hasOwnProperty(j)){if(f.call(g,h[j],j,h)===false){return 0}}}}return 1}},{}],25:[function(b,c,a){var f=b("./each");c.exports=d;function d(h){for(var g=1;g<arguments.length;g++){f(arguments[g],function(k,j){if((typeof h[j]!=="undefined"&&typeof k!=="undefined")&&(typeof h[j]==="object"&&typeof k==="object")&&(h[j]!==null&&k!==null)){d(h[j],k)}else{h[j]=k}})}return h}},{"./each":24}],26:[function(b,c,a){c.exports=d;function d(g){for(var f=1;f<arguments.length;f++){for(var h in arguments[f]){g[h]=arguments[f][h]}}return g}},{}],27:[function(c,d,b){d.exports=a;function a(f){var f=Number(f),j=f.toPrecision(3),k="",g=["","k","M","B","T"];if(Number(j)==f&&String(f).length<=4){return String(f)}if(f>=1||f<=-1){if(f<0){f=-f;k="-"}return k+h(f,0)}else{return f.toPrecision(3)}function h(l,n){var l=String(l);var m=l.split(".");if(m.length>1){l=m[0];var p=m[1];if(l.length==2&&p.length>0){if(p.length>0){l=l+"."+p.charAt(0)}else{l+="0"}}else{if(l.length==1&&p.length>0){l=l+"."+p.charAt(0);if(p.length>1){l+=p.charAt(1)}else{l+="0"}}}}var o=l.length;if(l.split(".").length>1){o--}if(o<=3){return String(l)+g[n]}else{return h(Number(l)/1000,n+1)}}}},{}],28:[function(b,c,a){(function(af){var o={version:"0.4.11"};var D,H,r;function W(ay){this.owner=ay}function B(aA,ay){if(Object.create){ay.prototype=Object.create(aA.prototype)}else{var az=function az(){};az.prototype=aA.prototype;ay.prototype=new az()}ay.prototype.constructor=ay;return ay}function ab(aA){var az=this.internal=new ar(this);az.loadConfig(aA);az.beforeInit(aA);az.init();az.afterInit(aA);(function ay(aB,aD,aC){Object.keys(aB).forEach(function(aE){aD[aE]=aB[aE].bind(aC);if(Object.keys(aB[aE]).length>0){ay(aB[aE],aD[aE],aC)}})})(D,this,this)}function ar(az){var ay=this;ay.d3=af.d3?af.d3:typeof b!=="undefined"?b("d3"):undefined;ay.api=az;ay.config=ay.getDefaultConfig();ay.data={};ay.cache={};ay.axes={}}o.generate=function(ay){return new ab(ay)};o.chart={fn:ab.prototype,internal:{fn:ar.prototype,axis:{fn:z.prototype}}};D=o.chart.fn;H=o.chart.internal.fn;r=o.chart.internal.axis.fn;H.beforeInit=function(){};H.afterInit=function(){};H.init=function(){var ay=this,az=ay.config;ay.initParams();if(az.data_url){ay.convertUrlToData(az.data_url,az.data_mimeType,az.data_headers,az.data_keys,ay.initWithData)}else{if(az.data_json){ay.initWithData(ay.convertJsonToData(az.data_json,az.data_keys))}else{if(az.data_rows){ay.initWithData(ay.convertRowsToData(az.data_rows))}else{if(az.data_columns){ay.initWithData(ay.convertColumnsToData(az.data_columns))}else{throw Error("url or json or rows or columns is required.")}}}}};H.initParams=function(){var ay=this,aA=ay.d3,az=ay.config;ay.clipId="c3-"+(+new Date())+"-clip",ay.clipIdForXAxis=ay.clipId+"-xaxis",ay.clipIdForYAxis=ay.clipId+"-yaxis",ay.clipIdForGrid=ay.clipId+"-grid",ay.clipIdForSubchart=ay.clipId+"-subchart",ay.clipPath=ay.getClipPath(ay.clipId),ay.clipPathForXAxis=ay.getClipPath(ay.clipIdForXAxis),ay.clipPathForYAxis=ay.getClipPath(ay.clipIdForYAxis);ay.clipPathForGrid=ay.getClipPath(ay.clipIdForGrid),ay.clipPathForSubchart=ay.getClipPath(ay.clipIdForSubchart),ay.dragStart=null;ay.dragging=false;ay.flowing=false;ay.cancelClick=false;ay.mouseover=false;ay.transiting=false;ay.color=ay.generateColor();ay.levelColor=ay.generateLevelColor();ay.dataTimeFormat=az.data_xLocaltime?aA.time.format:aA.time.format.utc;ay.axisTimeFormat=az.axis_x_localtime?aA.time.format:aA.time.format.utc;ay.defaultAxisTimeFormat=ay.axisTimeFormat.multi([[".%L",function(aB){return aB.getMilliseconds()}],[":%S",function(aB){return aB.getSeconds()}],["%I:%M",function(aB){return aB.getMinutes()}],["%I %p",function(aB){return aB.getHours()}],["%-m/%-d",function(aB){return aB.getDay()&&aB.getDate()!==1}],["%-m/%-d",function(aB){return aB.getDate()!==1}],["%-m/%-d",function(aB){return aB.getMonth()}],["%Y/%-m/%-d",function(){return true}]]);ay.hiddenTargetIds=[];ay.hiddenLegendIds=[];ay.focusedTargetIds=[];ay.defocusedTargetIds=[];ay.xOrient=az.axis_rotated?"left":"bottom";ay.yOrient=az.axis_rotated?(az.axis_y_inner?"top":"bottom"):(az.axis_y_inner?"right":"left");ay.y2Orient=az.axis_rotated?(az.axis_y2_inner?"bottom":"top"):(az.axis_y2_inner?"left":"right");ay.subXOrient=az.axis_rotated?"left":"bottom";ay.isLegendRight=az.legend_position==="right";ay.isLegendInset=az.legend_position==="inset";ay.isLegendTop=az.legend_inset_anchor==="top-left"||az.legend_inset_anchor==="top-right";ay.isLegendLeft=az.legend_inset_anchor==="top-left"||az.legend_inset_anchor==="bottom-left";ay.legendStep=0;ay.legendItemWidth=0;ay.legendItemHeight=0;ay.currentMaxTickWidths={x:0,y:0,y2:0};ay.rotated_padding_left=30;ay.rotated_padding_right=az.axis_rotated&&!az.axis_x_show?0:30;ay.rotated_padding_top=5;ay.withoutFadeIn={};ay.intervalForObserveInserted=undefined;ay.axes.subx=aA.selectAll([])};H.initChartElements=function(){if(this.initBar){this.initBar()}if(this.initLine){this.initLine()}if(this.initArc){this.initArc()}if(this.initGauge){this.initGauge()}if(this.initText){this.initText()}};H.initWithData=function(aD){var aA=this,aC=aA.d3,aB=aA.config;var az,ay,aE=true;aA.axis=new z(aA);if(aA.initPie){aA.initPie()}if(aA.initBrush){aA.initBrush()}if(aA.initZoom){aA.initZoom()}if(!aB.bindto){aA.selectChart=aC.selectAll([])}else{if(typeof aB.bindto.node==="function"){aA.selectChart=aB.bindto}else{aA.selectChart=aC.select(aB.bindto)}}if(aA.selectChart.empty()){aA.selectChart=aC.select(document.createElement("div")).style("opacity",0);aA.observeInserted(aA.selectChart);aE=false}aA.selectChart.html("").classed("c3",true);aA.data.xs={};aA.data.targets=aA.convertDataToTargets(aD);if(aB.data_filter){aA.data.targets=aA.data.targets.filter(aB.data_filter)}if(aB.data_hide){aA.addHiddenTargetIds(aB.data_hide===true?aA.mapToIds(aA.data.targets):aB.data_hide)}if(aB.legend_hide){aA.addHiddenLegendIds(aB.legend_hide===true?aA.mapToIds(aA.data.targets):aB.legend_hide)}if(aA.hasType("gauge")){aB.legend_show=false}aA.updateSizes();aA.updateScales();aA.x.domain(aC.extent(aA.getXDomain(aA.data.targets)));aA.y.domain(aA.getYDomain(aA.data.targets,"y"));aA.y2.domain(aA.getYDomain(aA.data.targets,"y2"));aA.subX.domain(aA.x.domain());aA.subY.domain(aA.y.domain());aA.subY2.domain(aA.y2.domain());aA.orgXDomain=aA.x.domain();if(aA.brush){aA.brush.scale(aA.subX)}if(aB.zoom_enabled){aA.zoom.scale(aA.x)}aA.svg=aA.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return aB.onmouseover.call(aA)}).on("mouseleave",function(){return aB.onmouseout.call(aA)});if(aA.config.svg_classname){aA.svg.attr("class",aA.config.svg_classname)}az=aA.svg.append("defs");aA.clipChart=aA.appendClip(az,aA.clipId);aA.clipXAxis=aA.appendClip(az,aA.clipIdForXAxis);aA.clipYAxis=aA.appendClip(az,aA.clipIdForYAxis);aA.clipGrid=aA.appendClip(az,aA.clipIdForGrid);aA.clipSubchart=aA.appendClip(az,aA.clipIdForSubchart);aA.updateSvgSize();ay=aA.main=aA.svg.append("g").attr("transform",aA.getTranslate("main"));if(aA.initSubchart){aA.initSubchart()}if(aA.initTooltip){aA.initTooltip()}if(aA.initLegend){aA.initLegend()}if(aA.initTitle){aA.initTitle()}ay.append("text").attr("class",F.text+" "+F.empty).attr("text-anchor","middle").attr("dominant-baseline","middle");aA.initRegion();aA.initGrid();ay.append("g").attr("clip-path",aA.clipPath).attr("class",F.chart);if(aB.grid_lines_front){aA.initGridLines()}aA.initEventRect();aA.initChartElements();ay.insert("rect",aB.zoom_privileged?null:"g."+F.regions).attr("class",F.zoomRect).attr("width",aA.width).attr("height",aA.height).style("opacity",0).on("dblclick.zoom",null);if(aB.axis_x_extent){aA.brush.extent(aA.getDefaultExtent())}aA.axis.init();aA.updateTargets(aA.data.targets);if(aE){aA.updateDimension();aA.config.oninit.call(aA);aA.redraw({withTransition:false,withTransform:true,withUpdateXDomain:true,withUpdateOrgXDomain:true,withTransitionForAxis:false})}aA.bindResize();aA.api.element=aA.selectChart.node()};H.smoothLines=function(aA,az){var ay=this;if(az==="grid"){aA.each(function(){var aF=ay.d3.select(this),aC=aF.attr("x1"),aB=aF.attr("x2"),aE=aF.attr("y1"),aD=aF.attr("y2");aF.attr({x1:Math.ceil(aC),x2:Math.ceil(aB),y1:Math.ceil(aE),y2:Math.ceil(aD)})})}};H.updateSizes=function(){var az=this,aB=az.config;var ay=az.legend?az.getLegendHeight():0,aE=az.legend?az.getLegendWidth():0,aD=az.isLegendRight||az.isLegendInset?0:ay,aA=az.hasArcType(),aC=aB.axis_rotated||aA?0:az.getHorizontalAxisHeight("x"),aF=aB.subchart_show&&!aA?(aB.subchart_size_height+aC):0;az.currentWidth=az.getCurrentWidth();az.currentHeight=az.getCurrentHeight();az.margin=aB.axis_rotated?{top:az.getHorizontalAxisHeight("y2")+az.getCurrentPaddingTop(),right:aA?0:az.getCurrentPaddingRight(),bottom:az.getHorizontalAxisHeight("y")+aD+az.getCurrentPaddingBottom(),left:aF+(aA?0:az.getCurrentPaddingLeft())}:{top:4+az.getCurrentPaddingTop(),right:aA?0:az.getCurrentPaddingRight(),bottom:aC+aF+aD+az.getCurrentPaddingBottom(),left:aA?0:az.getCurrentPaddingLeft()};az.margin2=aB.axis_rotated?{top:az.margin.top,right:NaN,bottom:20+aD,left:az.rotated_padding_left}:{top:az.currentHeight-aF-aD,right:NaN,bottom:aC+aD,left:az.margin.left};az.margin3={top:0,right:NaN,bottom:0,left:0};if(az.updateSizeForLegend){az.updateSizeForLegend(ay,aE)}az.width=az.currentWidth-az.margin.left-az.margin.right;az.height=az.currentHeight-az.margin.top-az.margin.bottom;if(az.width<0){az.width=0}if(az.height<0){az.height=0}az.width2=aB.axis_rotated?az.margin.left-az.rotated_padding_left-az.rotated_padding_right:az.width;az.height2=aB.axis_rotated?az.height:az.currentHeight-az.margin2.top-az.margin2.bottom;if(az.width2<0){az.width2=0}if(az.height2<0){az.height2=0}az.arcWidth=az.width-(az.isLegendRight?aE+10:0);az.arcHeight=az.height-(az.isLegendRight?0:10);if(az.hasType("gauge")&&!aB.gauge_fullCircle){az.arcHeight+=az.height-az.getGaugeLabelHeight()}if(az.updateRadius){az.updateRadius()}if(az.isLegendRight&&aA){az.margin3.left=az.arcWidth/2+az.radiusExpanded*1.1}};H.updateTargets=function(ay){var az=this;az.updateTargetsForText(ay);az.updateTargetsForBar(ay);az.updateTargetsForLine(ay);if(az.hasArcType()&&az.updateTargetsForArc){az.updateTargetsForArc(ay)}if(az.updateTargetsForSubchart){az.updateTargetsForSubchart(ay)}az.showTargets()};H.showTargets=function(){var ay=this;ay.svg.selectAll("."+F.target).filter(function(az){return ay.isTargetToShow(az.id)}).transition().duration(ay.config.transition_duration).style("opacity",1)};H.redraw=function(aO,aE){var a4=this,aA=a4.main,a3=a4.d3,a0=a4.config;var aZ=a4.getShapeIndices(a4.isAreaType),aU=a4.getShapeIndices(a4.isBarType),a2=a4.getShapeIndices(a4.isLineType);var aG,aX,a6,aL,a1,aD,aS,a9,aJ,bc,aQ,aK,ba;var aY=a4.hasArcType();var aB,a5,aW,ay,aC;var aP,aH,aT;var bb,a8;var aV=a4.filterTargetsToShow(a4.data.targets),aI,a7,aF,az;var aR=a4.xv.bind(a4),aN,aM;aO=aO||{};aG=w(aO,"withY",true);aX=w(aO,"withSubchart",true);a6=w(aO,"withTransition",true);aD=w(aO,"withTransform",false);aS=w(aO,"withUpdateXDomain",false);a9=w(aO,"withUpdateOrgXDomain",false);aJ=w(aO,"withTrimXDomain",true);ba=w(aO,"withUpdateXAxis",aS);bc=w(aO,"withLegend",false);aQ=w(aO,"withEventRect",true);aK=w(aO,"withDimension",true);aL=w(aO,"withTransitionForExit",a6);a1=w(aO,"withTransitionForAxis",a6);aP=a6?a0.transition_duration:0;aH=aL?aP:0;aT=a1?aP:0;aE=aE||a4.axis.generateTransitions(aT);if(bc&&a0.legend_show){a4.updateLegend(a4.mapToIds(a4.data.targets),aO,aE)}else{if(aK){a4.updateDimension(true)}}if(a4.isCategorized()&&aV.length===0){a4.x.domain([0,a4.axes.x.selectAll(".tick").size()])}if(aV.length){a4.updateXDomain(aV,aS,a9,aJ);if(!a0.axis_x_tick_values){aI=a4.axis.updateXAxisTickValues(aV)}}else{a4.xAxis.tickValues([]);a4.subXAxis.tickValues([])}if(a0.zoom_rescale&&!aO.flow){az=a4.x.orgDomain()}a4.y.domain(a4.getYDomain(aV,"y",az));a4.y2.domain(a4.getYDomain(aV,"y2",az));if(!a0.axis_y_tick_values&&a0.axis_y_tick_count){a4.yAxis.tickValues(a4.axis.generateTickValues(a4.y.domain(),a0.axis_y_tick_count))}if(!a0.axis_y2_tick_values&&a0.axis_y2_tick_count){a4.y2Axis.tickValues(a4.axis.generateTickValues(a4.y2.domain(),a0.axis_y2_tick_count))}a4.axis.redraw(aE,aY);a4.axis.updateLabels(a6);if((aS||ba)&&aV.length){if(a0.axis_x_tick_culling&&aI){for(a7=1;a7<aI.length;a7++){if(aI.length/a7<a0.axis_x_tick_culling_max){aF=a7;break}}a4.svg.selectAll("."+F.axisX+" .tick text").each(function(be){var bd=aI.indexOf(be);if(bd>=0){a3.select(this).style("display",bd%aF?"none":"block")}})}else{a4.svg.selectAll("."+F.axisX+" .tick text").style("display","block")}}aB=a4.generateDrawArea?a4.generateDrawArea(aZ,false):undefined;a5=a4.generateDrawBar?a4.generateDrawBar(aU):undefined;aW=a4.generateDrawLine?a4.generateDrawLine(a2,false):undefined;ay=a4.generateXYForText(aZ,aU,a2,true);aC=a4.generateXYForText(aZ,aU,a2,false);if(aG){a4.subY.domain(a4.getYDomain(aV,"y"));a4.subY2.domain(a4.getYDomain(aV,"y2"))}a4.updateXgridFocus();aA.select("text."+F.text+"."+F.empty).attr("x",a4.width/2).attr("y",a4.height/2).text(a0.data_empty_label_text).transition().style("opacity",aV.length?0:1);a4.updateGrid(aP);a4.updateRegion(aP);a4.updateBar(aH);a4.updateLine(aH);a4.updateArea(aH);a4.updateCircle();if(a4.hasDataLabel()){a4.updateText(aH)}if(a4.redrawTitle){a4.redrawTitle()}if(a4.redrawArc){a4.redrawArc(aP,aH,aD)}if(a4.redrawSubchart){a4.redrawSubchart(aX,aE,aP,aH,aZ,aU,a2)}aA.selectAll("."+F.selectedCircles).filter(a4.isBarType.bind(a4)).selectAll("circle").remove();if(a0.interaction_enabled&&!aO.flow&&aQ){a4.redrawEventRect();if(a4.updateZoom){a4.updateZoom()}}a4.updateCircleY();aN=(a4.config.axis_rotated?a4.circleY:a4.circleX).bind(a4);aM=(a4.config.axis_rotated?a4.circleX:a4.circleY).bind(a4);if(aO.flow){a8=a4.generateFlow({targets:aV,flow:aO.flow,duration:aO.flow.duration,drawBar:a5,drawLine:aW,drawArea:aB,cx:aN,cy:aM,xv:aR,xForText:ay,yForText:aC})}if((aP||a8)&&a4.isTabVisible()){a3.transition().duration(aP).each(function(){var bd=[];[a4.redrawBar(a5,true),a4.redrawLine(aW,true),a4.redrawArea(aB,true),a4.redrawCircle(aN,aM,true),a4.redrawText(ay,aC,aO.flow,true),a4.redrawRegion(true),a4.redrawGrid(true),].forEach(function(be){be.forEach(function(bf){bd.push(bf)})});bb=a4.generateWait();bd.forEach(function(be){bb.add(be)})}).call(bb,function(){if(a8){a8()}if(a0.onrendered){a0.onrendered.call(a4)}})}else{a4.redrawBar(a5);a4.redrawLine(aW);a4.redrawArea(aB);a4.redrawCircle(aN,aM);a4.redrawText(ay,aC,aO.flow);a4.redrawRegion();a4.redrawGrid();if(a0.onrendered){a0.onrendered.call(a4)}}a4.mapToIds(a4.data.targets).forEach(function(bd){a4.withoutFadeIn[bd]=true})};H.updateAndRedraw=function(aA){var ay=this,az=ay.config,aB;aA=aA||{};aA.withTransition=w(aA,"withTransition",true);aA.withTransform=w(aA,"withTransform",false);aA.withLegend=w(aA,"withLegend",false);aA.withUpdateXDomain=true;aA.withUpdateOrgXDomain=true;aA.withTransitionForExit=false;aA.withTransitionForTransform=w(aA,"withTransitionForTransform",aA.withTransition);ay.updateSizes();if(!(aA.withLegend&&az.legend_show)){aB=ay.axis.generateTransitions(aA.withTransitionForAxis?az.transition_duration:0);ay.updateScales();ay.updateSvgSize();ay.transformAll(aA.withTransitionForTransform,aB)}ay.redraw(aA,aB)};H.redrawWithoutRescale=function(){this.redraw({withY:false,withSubchart:false,withEventRect:false,withTransitionForAxis:false})};H.isTimeSeries=function(){return this.config.axis_x_type==="timeseries"};H.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0};H.isCustomX=function(){var ay=this,az=ay.config;return !ay.isTimeSeries()&&(az.data_x||N(az.data_xs))};H.isTimeSeriesY=function(){return this.config.axis_y_type==="timeseries"};H.getTranslate=function(aB){var az=this,aA=az.config,ay,aC;if(aB==="main"){ay=Y(az.margin.left);aC=Y(az.margin.top)}else{if(aB==="context"){ay=Y(az.margin2.left);aC=Y(az.margin2.top)}else{if(aB==="legend"){ay=az.margin3.left;aC=az.margin3.top}else{if(aB==="x"){ay=0;aC=aA.axis_rotated?0:az.height}else{if(aB==="y"){ay=0;aC=aA.axis_rotated?az.height:0}else{if(aB==="y2"){ay=aA.axis_rotated?0:az.width;aC=aA.axis_rotated?1:0}else{if(aB==="subx"){ay=0;aC=aA.axis_rotated?0:az.height2}else{if(aB==="arc"){ay=az.arcWidth/2;aC=az.arcHeight/2}}}}}}}}return"translate("+ay+","+aC+")"};H.initialOpacity=function(ay){return ay.value!==null&&this.withoutFadeIn[ay.id]?1:0};H.initialOpacityForCircle=function(ay){return ay.value!==null&&this.withoutFadeIn[ay.id]?this.opacityForCircle(ay):0};H.opacityForCircle=function(az){var ay=this.config.point_show?1:0;return k(az.value)?(this.isScatterType(az)?0.5:ay):0};H.opacityForText=function(){return this.hasDataLabel()?1:0};H.xx=function(ay){return ay?this.x(ay.x):null};H.xv=function(aA){var ay=this,az=aA.value;if(ay.isTimeSeries()){az=ay.parseDate(aA.value)}else{if(ay.isCategorized()&&typeof aA.value==="string"){az=ay.config.axis_x_categories.indexOf(aA.value)}}return Math.ceil(ay.x(az))};H.yv=function(aA){var ay=this,az=aA.axis&&aA.axis==="y2"?ay.y2:ay.y;return Math.ceil(az(aA.value))};H.subxx=function(ay){return ay?this.subX(ay.x):null};H.transformMain=function(aA,aD){var az=this,aC,ay,aB;if(aD&&aD.axisX){aC=aD.axisX}else{aC=az.main.select("."+F.axisX);if(aA){aC=aC.transition()}}if(aD&&aD.axisY){ay=aD.axisY}else{ay=az.main.select("."+F.axisY);if(aA){ay=ay.transition()}}if(aD&&aD.axisY2){aB=aD.axisY2}else{aB=az.main.select("."+F.axisY2);if(aA){aB=aB.transition()}}(aA?az.main.transition():az.main).attr("transform",az.getTranslate("main"));aC.attr("transform",az.getTranslate("x"));ay.attr("transform",az.getTranslate("y"));aB.attr("transform",az.getTranslate("y2"));az.main.select("."+F.chartArcs).attr("transform",az.getTranslate("arc"))};H.transformAll=function(az,aA){var ay=this;ay.transformMain(az,aA);if(ay.config.subchart_show){ay.transformContext(az,aA)}if(ay.legend){ay.transformLegend(az)}};H.updateSvgSize=function(){var az=this,ay=az.svg.select(".c3-brush .background");az.svg.attr("width",az.currentWidth).attr("height",az.currentHeight);az.svg.selectAll(["#"+az.clipId,"#"+az.clipIdForGrid]).select("rect").attr("width",az.width).attr("height",az.height);az.svg.select("#"+az.clipIdForXAxis).select("rect").attr("x",az.getXAxisClipX.bind(az)).attr("y",az.getXAxisClipY.bind(az)).attr("width",az.getXAxisClipWidth.bind(az)).attr("height",az.getXAxisClipHeight.bind(az));az.svg.select("#"+az.clipIdForYAxis).select("rect").attr("x",az.getYAxisClipX.bind(az)).attr("y",az.getYAxisClipY.bind(az)).attr("width",az.getYAxisClipWidth.bind(az)).attr("height",az.getYAxisClipHeight.bind(az));az.svg.select("#"+az.clipIdForSubchart).select("rect").attr("width",az.width).attr("height",ay.size()?ay.attr("height"):0);az.svg.select("."+F.zoomRect).attr("width",az.width).attr("height",az.height);az.selectChart.style("max-height",az.currentHeight+"px")};H.updateDimension=function(az){var ay=this;if(!az){if(ay.config.axis_rotated){ay.axes.x.call(ay.xAxis);ay.axes.subx.call(ay.subXAxis)}else{ay.axes.y.call(ay.yAxis);ay.axes.y2.call(ay.y2Axis)}}ay.updateSizes();ay.updateScales();ay.updateSvgSize();ay.transformAll(false)};H.observeInserted=function(aA){var az=this,ay;if(typeof MutationObserver==="undefined"){af.console.error("MutationObserver not defined.");return}ay=new MutationObserver(function(aB){aB.forEach(function(aC){if(aC.type==="childList"&&aC.previousSibling){ay.disconnect();az.intervalForObserveInserted=af.setInterval(function(){if(aA.node().parentNode){af.clearInterval(az.intervalForObserveInserted);az.updateDimension();if(az.brush){az.brush.update()}az.config.oninit.call(az);az.redraw({withTransform:true,withUpdateXDomain:true,withUpdateOrgXDomain:true,withTransition:false,withTransitionForTransform:false,withLegend:true});aA.transition().style("opacity",1)}},10)}})});ay.observe(aA.node(),{attributes:true,childList:true,characterData:true})};H.bindResize=function(){var ay=this,az=ay.config;ay.resizeFunction=ay.generateResize();ay.resizeFunction.add(function(){az.onresize.call(ay)});if(az.resize_auto){ay.resizeFunction.add(function(){if(ay.resizeTimeout!==undefined){af.clearTimeout(ay.resizeTimeout)}ay.resizeTimeout=af.setTimeout(function(){delete ay.resizeTimeout;ay.api.flush()},100)})}ay.resizeFunction.add(function(){az.onresized.call(ay)});if(af.attachEvent){af.attachEvent("onresize",ay.resizeFunction)}else{if(af.addEventListener){af.addEventListener("resize",ay.resizeFunction,false)}else{var aA=af.onresize;if(!aA){aA=ay.generateResize()}else{if(!aA.add||!aA.remove){aA=ay.generateResize();aA.add(af.onresize)}}aA.add(ay.resizeFunction);af.onresize=aA}}};H.generateResize=function(){var ay=[];function az(){ay.forEach(function(aA){aA()})}az.add=function(aA){ay.push(aA)};az.remove=function(aB){for(var aA=0;aA<ay.length;aA++){if(ay[aA]===aB){ay.splice(aA,1);break}}};return az};H.endall=function(ay,aA){var az=0;ay.each(function(){++az}).each("end",function(){if(!--az){aA.apply(this,arguments)}})};H.generateWait=function(){var az=[],ay=function(aA,aC){var aB=setInterval(function(){var aD=0;az.forEach(function(aE){if(aE.empty()){aD+=1;return}try{aE.transition()}catch(aF){aD+=1}});if(aD===az.length){clearInterval(aB);if(aC){aC()}}},10)};ay.add=function(aA){az.push(aA)};return ay};H.parseDate=function(az){var ay=this,aA;if(az instanceof Date){aA=az}else{if(typeof az==="string"){aA=ay.dataTimeFormat(ay.config.data_xFormat).parse(az)}else{if(typeof az==="number"&&!isNaN(az)){aA=new Date(+az)}}}if(!aA||isNaN(+aA)){af.console.error("Failed to parse x '"+az+"' to Date object")}return aA};H.isTabVisible=function(){var ay;if(typeof document.hidden!=="undefined"){ay="hidden"}else{if(typeof document.mozHidden!=="undefined"){ay="mozHidden"}else{if(typeof document.msHidden!=="undefined"){ay="msHidden"}else{if(typeof document.webkitHidden!=="undefined"){ay="webkitHidden"}}}}return document[ay]?false:true};H.getDefaultConfig=function(){var ay={bindto:"#chart",svg_classname:undefined,size_width:undefined,size_height:undefined,padding_left:undefined,padding_right:undefined,padding_top:undefined,padding_bottom:undefined,resize_auto:true,zoom_enabled:false,zoom_extent:undefined,zoom_privileged:false,zoom_rescale:false,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:undefined,zoom_x_max:undefined,interaction_brighten:true,interaction_enabled:true,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:undefined,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:true,data_xSort:true,data_idConverter:function(az){return az},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:undefined,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:undefined,data_colors:{},data_hide:false,data_filter:undefined,data_selection_enabled:false,data_selection_grouped:false,data_selection_isselectable:function(){return true},data_selection_multiple:true,data_selection_draggable:false,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:undefined,data_headers:undefined,data_json:undefined,data_rows:undefined,data_columns:undefined,data_mimeType:undefined,data_keys:undefined,data_empty_label_text:"",subchart_show:false,subchart_size_height:60,subchart_axis_x_show:true,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:true,legend_hide:false,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:undefined,legend_item_onclick:undefined,legend_item_onmouseover:undefined,legend_item_onmouseout:undefined,legend_equally:false,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:false,axis_x_show:true,axis_x_type:"indexed",axis_x_localtime:true,axis_x_categories:[],axis_x_tick_centered:false,axis_x_tick_format:undefined,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:undefined,axis_x_tick_fit:true,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:true,axis_x_tick_multiline:true,axis_x_tick_width:null,axis_x_max:undefined,axis_x_min:undefined,axis_x_padding:{},axis_x_height:undefined,axis_x_extent:undefined,axis_x_label:{},axis_y_show:true,axis_y_type:undefined,axis_y_max:undefined,axis_y_min:undefined,axis_y_inverted:false,axis_y_center:undefined,axis_y_inner:undefined,axis_y_label:{},axis_y_tick_format:undefined,axis_y_tick_outer:true,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:undefined,axis_y_tick_time_value:undefined,axis_y_tick_time_interval:undefined,axis_y_padding:{},axis_y_default:undefined,axis_y2_show:false,axis_y2_max:undefined,axis_y2_min:undefined,axis_y2_inverted:false,axis_y2_center:undefined,axis_y2_inner:undefined,axis_y2_label:{},axis_y2_tick_format:undefined,axis_y2_tick_outer:true,axis_y2_tick_values:null,axis_y2_tick_count:undefined,axis_y2_padding:{},axis_y2_default:undefined,grid_x_show:false,grid_x_type:"tick",grid_x_lines:[],grid_y_show:false,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:true,grid_lines_front:true,point_show:true,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:true,point_focus_expand_r:undefined,point_select_r:undefined,line_connectNull:false,line_step_type:"step",bar_width:undefined,bar_width_ratio:0.6,bar_width_max:undefined,bar_zerobased:true,area_zerobased:true,area_above:false,pie_label_show:true,pie_label_format:undefined,pie_label_threshold:0.05,pie_label_ratio:undefined,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:false,gauge_label_show:true,gauge_label_format:undefined,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_units:undefined,gauge_width:undefined,gauge_expand:{},gauge_expand_duration:50,donut_label_show:true,donut_label_format:undefined,donut_label_threshold:0.05,donut_label_ratio:undefined,donut_width:undefined,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:true,tooltip_grouped:true,tooltip_format_title:undefined,tooltip_format_name:undefined,tooltip_format_value:undefined,tooltip_position:undefined,tooltip_contents:function(aC,aA,aB,az){return this.getTooltipContent?this.getTooltipContent(aC,aA,aB,az):""},tooltip_init_show:false,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:undefined,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center",};Object.keys(this.additionalConfig).forEach(function(az){ay[az]=this.additionalConfig[az]},this);return ay};H.additionalConfig={};H.loadConfig=function(az){var ay=this.config,aC,aA,aB;function aD(){var aE=aA.shift();if(aE&&aC&&typeof aC==="object"&&aE in aC){aC=aC[aE];return aD()}else{if(!aE){return aC}else{return undefined}}}Object.keys(ay).forEach(function(aE){aC=az;aA=aE.split("_");aB=aD();if(K(aB)){ay[aE]=aB}})};H.getScale=function(az,ay,aA){return(aA?this.d3.time.scale():this.d3.scale.linear()).range([az,ay])};H.getX=function(aC,ay,aD,aF){var az=this,aE=az.getScale(aC,ay,az.isTimeSeries()),aB=aD?aE.domain(aD):aE,aA;if(az.isCategorized()){aF=aF||function(){return 0};aE=function(aI,aH){var aG=aB(aI)+aF(aI);return aH?aG:Math.ceil(aG)}}else{aE=function(aI,aH){var aG=aB(aI);return aH?aG:Math.ceil(aG)}}for(aA in aB){aE[aA]=aB[aA]}aE.orgDomain=function(){return aB.domain()};if(az.isCategorized()){aE.domain=function(aG){if(!arguments.length){aG=this.orgDomain();return[aG[0],aG[1]+1]}aB.domain(aG);return aE}}return aE};H.getY=function(az,ay,aA){var aB=this.getScale(az,ay,this.isTimeSeriesY());if(aA){aB.domain(aA)}return aB};H.getYScale=function(ay){return this.axis.getId(ay)==="y2"?this.y2:this.y};H.getSubYScale=function(ay){return this.axis.getId(ay)==="y2"?this.subY2:this.subY};H.updateScales=function(){var az=this,aA=az.config,ay=!az.x;az.xMin=aA.axis_rotated?1:0;az.xMax=aA.axis_rotated?az.height:az.width;az.yMin=aA.axis_rotated?0:az.height;az.yMax=aA.axis_rotated?az.width:1;az.subXMin=az.xMin;az.subXMax=az.xMax;az.subYMin=aA.axis_rotated?0:az.height2;az.subYMax=aA.axis_rotated?az.width2:1;az.x=az.getX(az.xMin,az.xMax,ay?undefined:az.x.orgDomain(),function(){return az.xAxis.tickOffset()});az.y=az.getY(az.yMin,az.yMax,ay?aA.axis_y_default:az.y.domain());az.y2=az.getY(az.yMin,az.yMax,ay?aA.axis_y2_default:az.y2.domain());az.subX=az.getX(az.xMin,az.xMax,az.orgXDomain,function(aB){return aB%1?0:az.subXAxis.tickOffset()});az.subY=az.getY(az.subYMin,az.subYMax,ay?aA.axis_y_default:az.subY.domain());az.subY2=az.getY(az.subYMin,az.subYMax,ay?aA.axis_y2_default:az.subY2.domain());az.xAxisTickFormat=az.axis.getXAxisTickFormat();az.xAxisTickValues=az.axis.getXAxisTickValues();az.yAxisTickValues=az.axis.getYAxisTickValues();az.y2AxisTickValues=az.axis.getY2AxisTickValues();az.xAxis=az.axis.getXAxis(az.x,az.xOrient,az.xAxisTickFormat,az.xAxisTickValues,aA.axis_x_tick_outer);az.subXAxis=az.axis.getXAxis(az.subX,az.subXOrient,az.xAxisTickFormat,az.xAxisTickValues,aA.axis_x_tick_outer);az.yAxis=az.axis.getYAxis(az.y,az.yOrient,aA.axis_y_tick_format,az.yAxisTickValues,aA.axis_y_tick_outer);az.y2Axis=az.axis.getYAxis(az.y2,az.y2Orient,aA.axis_y2_tick_format,az.y2AxisTickValues,aA.axis_y2_tick_outer);if(!ay){if(az.brush){az.brush.scale(az.subX)}if(aA.zoom_enabled){az.zoom.scale(az.x)}}if(az.updateArc){az.updateArc()}};H.getYDomainMin=function(aE){var aI=this,aA=aI.config,ay=aI.mapToIds(aE),aH=aI.getValuesAsIdKeyed(aE),aC,aB,aG,aF,az,aD;if(aA.data_groups.length>0){aD=aI.hasNegativeValueInTargets(aE);for(aC=0;aC<aA.data_groups.length;aC++){aF=aA.data_groups[aC].filter(function(aJ){return ay.indexOf(aJ)>=0});if(aF.length===0){continue}aG=aF[0];if(aD&&aH[aG]){aH[aG].forEach(function(aJ,aK){aH[aG][aK]=aJ<0?aJ:0})}for(aB=1;aB<aF.length;aB++){az=aF[aB];if(!aH[az]){continue}aH[az].forEach(function(aJ,aK){if(aI.axis.getId(az)===aI.axis.getId(aG)&&aH[aG]&&!(aD&&+aJ>0)){aH[aG][aK]+=+aJ}})}}}return aI.d3.min(Object.keys(aH).map(function(aJ){return aI.d3.min(aH[aJ])}))};H.getYDomainMax=function(aE){var aI=this,aB=aI.config,ay=aI.mapToIds(aE),aH=aI.getValuesAsIdKeyed(aE),aD,aC,aG,aF,az,aA;if(aB.data_groups.length>0){aA=aI.hasPositiveValueInTargets(aE);for(aD=0;aD<aB.data_groups.length;aD++){aF=aB.data_groups[aD].filter(function(aJ){return ay.indexOf(aJ)>=0});if(aF.length===0){continue}aG=aF[0];if(aA&&aH[aG]){aH[aG].forEach(function(aJ,aK){aH[aG][aK]=aJ>0?aJ:0})}for(aC=1;aC<aF.length;aC++){az=aF[aC];if(!aH[az]){continue}aH[az].forEach(function(aJ,aK){if(aI.axis.getId(az)===aI.axis.getId(aG)&&aH[aG]&&!(aA&&+aJ<0)){aH[aG][aK]+=+aJ}})}}}return aI.d3.max(Object.keys(aH).map(function(aJ){return aI.d3.max(aH[aJ])}))};H.getYDomain=function(aV,aS,aP){var aI=this,aW=aI.config,aA=aV.filter(function(aZ){return aI.axis.getId(aZ.id)===aS}),aF=aP?aI.filterByXDomain(aA,aP):aA,ay=aS==="y2"?aW.axis_y2_min:aW.axis_y_min,az=aS==="y2"?aW.axis_y2_max:aW.axis_y_max,aM=aI.getYDomainMin(aF),aO=aI.getYDomainMax(aF),aY,aD,aK,aB,aX,aU=aS==="y2"?aW.axis_y2_center:aW.axis_y_center,aH,aC,aJ,aE,aG,aN,aQ=(aI.hasType("bar",aF)&&aW.bar_zerobased)||(aI.hasType("area",aF)&&aW.area_zerobased),aT=aS==="y2"?aW.axis_y2_inverted:aW.axis_y_inverted,aR=aI.hasDataLabel()&&aW.axis_rotated,aL=aI.hasDataLabel()&&!aW.axis_rotated;aM=k(ay)?ay:k(az)?(aM<az?aM:az-10):aM;aO=k(az)?az:k(ay)?(ay<aO?aO:ay+10):aO;if(aF.length===0){return aS==="y2"?aI.y2.domain():aI.y.domain()}if(isNaN(aM)){aM=0}if(isNaN(aO)){aO=aM}if(aM===aO){aM<0?aO=0:aM=0}aG=aM>=0&&aO>=0;aN=aM<=0&&aO<=0;if((k(ay)&&aG)||(k(az)&&aN)){aQ=false}if(aQ){if(aG){aM=0}if(aN){aO=0}}aD=Math.abs(aO-aM);aK=aB=aX=aD*0.1;if(typeof aU!=="undefined"){aH=Math.max(Math.abs(aM),Math.abs(aO));aO=aU+aH;aM=aU-aH}if(aR){aC=aI.getDataLabelLength(aM,aO,"width");aJ=P(aI.y.range());aE=[aC[0]/aJ,aC[1]/aJ];aB+=aD*(aE[1]/(1-aE[0]-aE[1]));aX+=aD*(aE[0]/(1-aE[0]-aE[1]))}else{if(aL){aC=aI.getDataLabelLength(aM,aO,"height");aB+=aI.axis.convertPixelsToAxisPadding(aC[1],aD);aX+=aI.axis.convertPixelsToAxisPadding(aC[0],aD)}}if(aS==="y"&&N(aW.axis_y_padding)){aB=aI.axis.getPadding(aW.axis_y_padding,"top",aB,aD);aX=aI.axis.getPadding(aW.axis_y_padding,"bottom",aX,aD)}if(aS==="y2"&&N(aW.axis_y2_padding)){aB=aI.axis.getPadding(aW.axis_y2_padding,"top",aB,aD);aX=aI.axis.getPadding(aW.axis_y2_padding,"bottom",aX,aD)}if(aQ){if(aG){aX=aM}if(aN){aB=-aO}}aY=[aM-aX,aO+aB];return aT?aY.reverse():aY};H.getXDomainMin=function(ay){var az=this,aA=az.config;return K(aA.axis_x_min)?(az.isTimeSeries()?this.parseDate(aA.axis_x_min):aA.axis_x_min):az.d3.min(ay,function(aB){return az.d3.min(aB.values,function(aC){return aC.x})})};H.getXDomainMax=function(ay){var az=this,aA=az.config;return K(aA.axis_x_max)?(az.isTimeSeries()?this.parseDate(aA.axis_x_max):aA.axis_x_max):az.d3.max(ay,function(aB){return az.d3.max(aB.values,function(aC){return aC.x})})};H.getXDomainPadding=function(aB){var ay=this,aA=ay.config,aD=aB[1]-aB[0],aE,aC,az,aF;if(ay.isCategorized()){aC=0}else{if(ay.hasType("bar")){aE=ay.getMaxDataCount();aC=aE>1?(aD/(aE-1))/2:0.5}else{aC=aD*0.01}}if(typeof aA.axis_x_padding==="object"&&N(aA.axis_x_padding)){az=k(aA.axis_x_padding.left)?aA.axis_x_padding.left:aC;aF=k(aA.axis_x_padding.right)?aA.axis_x_padding.right:aC}else{if(typeof aA.axis_x_padding==="number"){az=aF=aA.axis_x_padding}else{az=aF=aC}}return{left:az,right:aF}};H.getXDomain=function(az){var aA=this,aC=[aA.getXDomainMin(az),aA.getXDomainMax(az)],aB=aC[0],aE=aC[1],aF=aA.getXDomainPadding(aC),aD=0,ay=0;if((aB-aE)===0&&!aA.isCategorized()){if(aA.isTimeSeries()){aB=new Date(aB.getTime()*0.5);aE=new Date(aE.getTime()*1.5)}else{aB=aB===0?1:(aB*0.5);aE=aE===0?-1:(aE*1.5)}}if(aB||aB===0){aD=aA.isTimeSeries()?new Date(aB.getTime()-aF.left):aB-aF.left}if(aE||aE===0){ay=aA.isTimeSeries()?new Date(aE.getTime()+aF.right):aE+aF.right}return[aD,ay]};H.updateXDomain=function(az,aC,aE,ay,aD){var aA=this,aB=aA.config;if(aE){aA.x.domain(aD?aD:aA.d3.extent(aA.getXDomain(az)));aA.orgXDomain=aA.x.domain();if(aB.zoom_enabled){aA.zoom.scale(aA.x).updateScaleExtent()}aA.subX.domain(aA.x.domain());if(aA.brush){aA.brush.scale(aA.subX)}}if(aC){aA.x.domain(aD?aD:(!aA.brush||aA.brush.empty())?aA.orgXDomain:aA.brush.extent());if(aB.zoom_enabled){aA.zoom.scale(aA.x).updateScaleExtent()}}if(ay){aA.x.domain(aA.trimXDomain(aA.x.orgDomain()))}return aA.x.domain()};H.trimXDomain=function(aA){var aB=this.getZoomDomain(),az=aB[0],ay=aB[1];if(aA[0]<=az){aA[1]=+aA[1]+(az-aA[0]);aA[0]=az}if(ay<=aA[1]){aA[0]=+aA[0]-(aA[1]-ay);aA[1]=ay}return aA};H.isX=function(aA){var ay=this,az=ay.config;return(az.data_x&&aA===az.data_x)||(N(az.data_xs)&&v(az.data_xs,aA))};H.isNotX=function(ay){return !this.isX(ay)};H.getXKey=function(aA){var ay=this,az=ay.config;return az.data_x?az.data_x:N(az.data_xs)?az.data_xs[aA]:null};H.getXValuesOfXKey=function(aA,ay){var az=this,aC,aB=ay&&N(ay)?az.mapToIds(ay):[];aB.forEach(function(aD){if(az.getXKey(aD)===aA){aC=az.data.xs[aD]}});return aC};H.getIndexByX=function(ay){var az=this,aA=az.filterByX(az.data.targets,ay);return aA.length?aA[0].index:null};H.getXValue=function(aA,az){var ay=this;return aA in ay.data.xs&&ay.data.xs[aA]&&k(ay.data.xs[aA][az])?ay.data.xs[aA][az]:az};H.getOtherTargetXs=function(){var ay=this,az=Object.keys(ay.data.xs);return az.length?ay.data.xs[az[0]]:null};H.getOtherTargetX=function(az){var ay=this.getOtherTargetXs();return ay&&az<ay.length?ay[az]:null};H.addXs=function(az){var ay=this;Object.keys(az).forEach(function(aA){ay.config.data_xs[aA]=az[aA]})};H.hasMultipleX=function(ay){return this.d3.set(Object.keys(ay).map(function(az){return ay[az]})).size()>1};H.isMultipleX=function(){return N(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")};H.addName=function(aA){var ay=this,az;if(aA){az=ay.config.data_names[aA.id];aA.name=az!==undefined?az:aA.id}return aA};H.getValueOnIndex=function(az,aA){var ay=az.filter(function(aB){return aB.index===aA});return ay.length?ay[0]:null};H.updateTargetX=function(az,ay){var aA=this;az.forEach(function(aB){aB.values.forEach(function(aC,aD){aC.x=aA.generateTargetX(ay[aD],aB.id,aD)});aA.data.xs[aB.id]=ay})};H.updateTargetXs=function(ay,aA){var az=this;ay.forEach(function(aB){if(aA[aB.id]){az.updateTargetX([aB],aA[aB.id])}})};H.generateTargetX=function(aA,aC,aB){var az=this,ay;if(az.isTimeSeries()){ay=aA?az.parseDate(aA):az.parseDate(az.getXValue(aC,aB))}else{if(az.isCustomX()&&!az.isCategorized()){ay=k(aA)?+aA:az.getXValue(aC,aB)}else{ay=aB}}return ay};H.cloneTarget=function(ay){return{id:ay.id,id_org:ay.id_org,values:ay.values.map(function(az){return{x:az.x,value:az.value,id:az.id}})}};H.updateXs=function(){var ay=this;if(ay.data.targets.length){ay.xs=[];ay.data.targets[0].values.forEach(function(az){ay.xs[az.index]=az.x})}};H.getPrevX=function(az){var ay=this.xs[az-1];return typeof ay!=="undefined"?ay:null};H.getNextX=function(az){var ay=this.xs[az+1];return typeof ay!=="undefined"?ay:null};H.getMaxDataCount=function(){var ay=this;return ay.d3.max(ay.data.targets,function(az){return az.values.length})};H.getMaxDataCountTarget=function(az){var aB=az.length,ay=0,aA;if(aB>1){az.forEach(function(aC){if(aC.values.length>ay){aA=aC;ay=aC.values.length}})}else{aA=aB?az[0]:null}return aA};H.getEdgeX=function(ay){var az=this;return !ay.length?[0,0]:[az.d3.min(ay,function(aA){return aA.values[0].x}),az.d3.max(ay,function(aA){return aA.values[aA.values.length-1].x})]};H.mapToIds=function(ay){return ay.map(function(az){return az.id})};H.mapToTargetIds=function(az){var ay=this;return az?[].concat(az):ay.mapToIds(ay.data.targets)};H.hasTarget=function(ay,aB){var aA=this.mapToIds(ay),az;for(az=0;az<aA.length;az++){if(aA[az]===aB){return true}}return false};H.isTargetToShow=function(ay){return this.hiddenTargetIds.indexOf(ay)<0};H.isLegendToShow=function(ay){return this.hiddenLegendIds.indexOf(ay)<0};H.filterTargetsToShow=function(ay){var az=this;return ay.filter(function(aA){return az.isTargetToShow(aA.id)})};H.mapTargetsToUniqueXs=function(ay){var az=this;var aA=az.d3.set(az.d3.merge(ay.map(function(aB){return aB.values.map(function(aC){return +aC.x})}))).values();aA=az.isTimeSeries()?aA.map(function(aB){return new Date(+aB)}):aA.map(function(aB){return +aB});return aA.sort(function(aC,aB){return aC<aB?-1:aC>aB?1:aC>=aB?0:NaN})};H.addHiddenTargetIds=function(ay){this.hiddenTargetIds=this.hiddenTargetIds.concat(ay)};H.removeHiddenTargetIds=function(ay){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(az){return ay.indexOf(az)<0})};H.addHiddenLegendIds=function(ay){this.hiddenLegendIds=this.hiddenLegendIds.concat(ay)};H.removeHiddenLegendIds=function(ay){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(az){return ay.indexOf(az)<0})};H.getValuesAsIdKeyed=function(ay){var az={};ay.forEach(function(aA){az[aA.id]=[];aA.values.forEach(function(aB){az[aA.id].push(aB.value)})});return az};H.checkValueInTargets=function(ay,aB){var aD=Object.keys(ay),aC,aA,az;for(aC=0;aC<aD.length;aC++){az=ay[aD[aC]].values;for(aA=0;aA<az.length;aA++){if(aB(az[aA].value)){return true}}}return false};H.hasNegativeValueInTargets=function(ay){return this.checkValueInTargets(ay,function(az){return az<0})};H.hasPositiveValueInTargets=function(ay){return this.checkValueInTargets(ay,function(az){return az>0})};H.isOrderDesc=function(){var ay=this.config;return typeof(ay.data_order)==="string"&&ay.data_order.toLowerCase()==="desc"};H.isOrderAsc=function(){var ay=this.config;return typeof(ay.data_order)==="string"&&ay.data_order.toLowerCase()==="asc"};H.orderTargets=function(ay){var az=this,aA=az.config,aC=az.isOrderAsc(),aB=az.isOrderDesc();if(aC||aB){ay.sort(function(aF,aE){var aH=function(aI,aJ){return aI+Math.abs(aJ.value)};var aD=aF.values.reduce(aH,0),aG=aE.values.reduce(aH,0);return aC?aG-aD:aD-aG})}else{if(A(aA.data_order)){ay.sort(aA.data_order)}}return ay};H.filterByX=function(az,ay){return this.d3.merge(az.map(function(aA){return aA.values})).filter(function(aA){return aA.x-ay===0})};H.filterRemoveNull=function(ay){return ay.filter(function(az){return k(az.value)})};H.filterByXDomain=function(ay,az){return ay.map(function(aA){return{id:aA.id,id_org:aA.id_org,values:aA.values.filter(function(aB){return az[0]<=aB.x&&aB.x<=az[1]})}})};H.hasDataLabel=function(){var ay=this.config;if(typeof ay.data_labels==="boolean"&&ay.data_labels){return true}else{if(typeof ay.data_labels==="object"&&N(ay.data_labels)){return true}}return false};H.getDataLabelLength=function(aC,ay,aB){var aA=this,aD=[0,0],az=1.3;aA.selectChart.select("svg").selectAll(".dummy").data([aC,ay]).enter().append("text").text(function(aE){return aA.dataLabelFormat(aE.id)(aE)}).each(function(aF,aE){aD[aE]=this.getBoundingClientRect()[aB]*az}).remove();return aD};H.isNoneArc=function(ay){return this.hasTarget(this.data.targets,ay.id)},H.isArc=function(ay){return"data" in ay&&this.hasTarget(this.data.targets,ay.data.id)};H.findSameXOfValues=function(ay,az){var aA,aC=ay[az].x,aB=[];for(aA=az-1;aA>=0;aA--){if(aC!==ay[aA].x){break}aB.push(ay[aA])}for(aA=az;aA<ay.length;aA++){if(aC!==ay[aA].x){break}aB.push(ay[aA])}return aB};H.findClosestFromTargets=function(ay,aB){var az=this,aA;aA=ay.map(function(aC){return az.findClosest(aC.values,aB)});return az.findClosest(aA,aB)};H.findClosest=function(aA,aC){var az=this,ay=az.config.point_sensitivity,aB;aA.filter(function(aD){return aD&&az.isBarType(aD.id)}).forEach(function(aE){var aD=az.main.select("."+F.bars+az.getTargetSelectorSuffix(aE.id)+" ."+F.bar+"-"+aE.index).node();if(!aB&&az.isWithinBar(aD)){aB=aE}});aA.filter(function(aD){return aD&&!az.isBarType(aD.id)}).forEach(function(aD){var aE=az.dist(aD,aC);if(aE<ay){ay=aE;aB=aD}});return aB};H.dist=function(aD,aF){var aB=this,aC=aB.config,aA=aC.axis_rotated?1:0,az=aC.axis_rotated?0:1,aE=aB.circleY(aD,aD.index),ay=aB.x(aD.x);return Math.sqrt(Math.pow(ay-aF[aA],2)+Math.pow(aE-aF[az],2))};H.convertValuesToStep=function(ay){var aA=[].concat(ay),az;if(!this.isCategorized()){return ay}for(az=ay.length+1;0<az;az--){aA[az]=aA[az-1]}aA[0]={x:aA[0].x-1,value:aA[0].value,id:aA[0].id};aA[ay.length+1]={x:aA[ay.length].x+1,value:aA[ay.length].value,id:aA[ay.length].id};return aA};H.updateDataAttributes=function(aB,aA){var ay=this,az=ay.config,aC=az["data_"+aB];if(typeof aA==="undefined"){return aC}Object.keys(aA).forEach(function(aD){aC[aD]=aA[aD]});ay.redraw({withLegend:true});return aC};H.convertUrlToData=function(aA,aF,aE,aD,ay){var az=this,aB=aF?aF:"csv";var aC=az.d3.xhr(aA);if(aE){Object.keys(aE).forEach(function(aG){aC.header(aG,aE[aG])})}aC.get(function(aG,aH){var aI;if(!aH){throw new Error(aG.responseURL+" "+aG.status+" ("+aG.statusText+")")}if(aB==="json"){aI=az.convertJsonToData(JSON.parse(aH.response),aD)}else{if(aB==="tsv"){aI=az.convertTsvToData(aH.response)}else{aI=az.convertCsvToData(aH.response)}}ay.call(az,aI)})};H.convertXsvToData=function(ay,aB){var az=aB.parseRows(ay),aA;if(az.length===1){aA=[{}];az[0].forEach(function(aC){aA[0][aC]=null})}else{aA=aB.parse(ay)}return aA};H.convertCsvToData=function(ay){return this.convertXsvToData(ay,this.d3.csv)};H.convertTsvToData=function(ay){return this.convertXsvToData(ay,this.d3.tsv)};H.convertJsonToData=function(aA,aB){var az=this,ay=[],aD,aC;if(aB){if(aB.x){aD=aB.value.concat(aB.x);az.config.data_x=aB.x}else{aD=aB.value}ay.push(aD);aA.forEach(function(aF){var aE=[];aD.forEach(function(aH){var aG=az.findValueInJson(aF,aH);if(G(aG)){aG=null}aE.push(aG)});ay.push(aE)});aC=az.convertRowsToData(ay)}else{Object.keys(aA).forEach(function(aE){ay.push([aE].concat(aA[aE]))});aC=az.convertColumnsToData(ay)}return aC};H.findValueInJson=function(az,aC){aC=aC.replace(/\[(\w+)\]/g,".$1");aC=aC.replace(/^\./,"");var aB=aC.split(".");for(var aA=0;aA<aB.length;++aA){var ay=aB[aA];if(ay in az){az=az[ay]}else{return}}return az};H.convertRowsToData=function(aD){var aC=aD[0],az={},ay=[],aB,aA;for(aB=1;aB<aD.length;aB++){az={};for(aA=0;aA<aD[aB].length;aA++){if(G(aD[aB][aA])){throw new Error("Source data is missing a component at ("+aB+","+aA+")!")}az[aC[aA]]=aD[aB][aA]}ay.push(az)}return ay};H.convertColumnsToData=function(aC){var ay=[],aB,az,aA;for(aB=0;aB<aC.length;aB++){aA=aC[aB][0];for(az=1;az<aC[aB].length;az++){if(G(ay[az-1])){ay[az-1]={}}if(G(aC[aB][az])){throw new Error("Source data is missing a component at ("+aB+","+az+")!")}ay[az-1][aA]=aC[aB][az]}}return ay};H.convertDataToTargets=function(aE,aD){var az=this,aB=az.config,aC=az.d3.keys(aE[0]).filter(az.isNotX,az),aA=az.d3.keys(aE[0]).filter(az.isX,az),ay;aC.forEach(function(aG){var aF=az.getXKey(aG);if(az.isCustomX()||az.isTimeSeries()){if(aA.indexOf(aF)>=0){az.data.xs[aG]=(aD&&az.data.xs[aG]?az.data.xs[aG]:[]).concat(aE.map(function(aH){return aH[aF]}).filter(k).map(function(aH,aI){return az.generateTargetX(aH,aG,aI)}))}else{if(aB.data_x){az.data.xs[aG]=az.getOtherTargetXs()}else{if(N(aB.data_xs)){az.data.xs[aG]=az.getXValuesOfXKey(aF,az.data.targets)}}}}else{az.data.xs[aG]=aE.map(function(aI,aH){return aH})}});aC.forEach(function(aF){if(!az.data.xs[aF]){throw new Error('x is not defined for id = "'+aF+'".')}});ay=aC.map(function(aH,aF){var aG=aB.data_idConverter(aH);return{id:aG,id_org:aH,values:aE.map(function(aN,aL){var aK=az.getXKey(aH),aJ=aN[aK],aM=aN[aH]!==null&&!isNaN(aN[aH])?+aN[aH]:null,aI;if(az.isCustomX()&&az.isCategorized()&&aF===0&&!G(aJ)){if(aF===0&&aL===0){aB.axis_x_categories=[]}aI=aB.axis_x_categories.indexOf(aJ);if(aI===-1){aI=aB.axis_x_categories.length;aB.axis_x_categories.push(aJ)}}else{aI=az.generateTargetX(aJ,aH,aL)}if(G(aN[aH])||az.data.xs[aH].length<=aL){aI=undefined}return{x:aI,value:aM,id:aG}}).filter(function(aI){return K(aI.x)})}});ay.forEach(function(aG){var aF;if(aB.data_xSort){aG.values=aG.values.sort(function(aK,aJ){var aI=aK.x||aK.x===0?aK.x:Infinity,aH=aJ.x||aJ.x===0?aJ.x:Infinity;return aI-aH})}aF=0;aG.values.forEach(function(aH){aH.index=aF++});az.data.xs[aG.id].sort(function(aI,aH){return aI-aH})});az.hasNegativeValue=az.hasNegativeValueInTargets(ay);az.hasPositiveValue=az.hasPositiveValueInTargets(ay);if(aB.data_type){az.setTargetType(az.mapToIds(ay).filter(function(aF){return !(aF in aB.data_types)}),aB.data_type)}ay.forEach(function(aF){az.addCache(aF.id_org,aF)});return ay};H.load=function(ay,aA){var az=this;if(ay){if(aA.filter){ay=ay.filter(aA.filter)}if(aA.type||aA.types){ay.forEach(function(aB){var aC=aA.types&&aA.types[aB.id]?aA.types[aB.id]:aA.type;az.setTargetType(aB.id,aC)})}az.data.targets.forEach(function(aC){for(var aB=0;aB<ay.length;aB++){if(aC.id===ay[aB].id){aC.values=ay[aB].values;ay.splice(aB,1);break}}});az.data.targets=az.data.targets.concat(ay)}az.updateTargets(az.data.targets);az.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true,withLegend:true});if(aA.done){aA.done()}};H.loadFromArgs=function(az){var ay=this;if(az.data){ay.load(ay.convertDataToTargets(az.data),az)}else{if(az.url){ay.convertUrlToData(az.url,az.mimeType,az.headers,az.keys,function(aA){ay.load(ay.convertDataToTargets(aA),az)})}else{if(az.json){ay.load(ay.convertDataToTargets(ay.convertJsonToData(az.json,az.keys)),az)}else{if(az.rows){ay.load(ay.convertDataToTargets(ay.convertRowsToData(az.rows)),az)}else{if(az.columns){ay.load(ay.convertDataToTargets(ay.convertColumnsToData(az.columns)),az)}else{ay.load(null,az)}}}}}};H.unload=function(az,ay){var aA=this;if(!ay){ay=function(){}}az=az.filter(function(aB){return aA.hasTarget(aA.data.targets,aB)});if(!az||az.length===0){ay();return}aA.svg.selectAll(az.map(function(aB){return aA.selectorTarget(aB)})).transition().style("opacity",0).remove().call(aA.endall,ay);az.forEach(function(aB){aA.withoutFadeIn[aB]=false;if(aA.legend){aA.legend.selectAll("."+F.legendItem+aA.getTargetSelectorSuffix(aB)).remove()}aA.data.targets=aA.data.targets.filter(function(aC){return aC.id!==aB})})};H.categoryName=function(az){var ay=this.config;return az<ay.axis_x_categories.length?ay.axis_x_categories[az]:az};H.initEventRect=function(){var ay=this;ay.main.select("."+F.chart).append("g").attr("class",F.eventRects).style("fill-opacity",0)};H.redrawEventRect=function(){var ay=this,az=ay.config,aD,aC,aB=ay.isMultipleX();var aA=ay.main.select("."+F.eventRects).style("cursor",az.zoom_enabled?az.axis_rotated?"ns-resize":"ew-resize":null).classed(F.eventRectsMultiple,aB).classed(F.eventRectsSingle,!aB);aA.selectAll("."+F.eventRect).remove();ay.eventRect=aA.selectAll("."+F.eventRect);if(aB){aD=ay.eventRect.data([0]);ay.generateEventRectsForMultipleXs(aD.enter());ay.updateEventRect(aD)}else{aC=ay.getMaxDataCountTarget(ay.data.targets);aA.datum(aC?aC.values:[]);ay.eventRect=aA.selectAll("."+F.eventRect);aD=ay.eventRect.data(function(aE){return aE});ay.generateEventRectsForSingleX(aD.enter());ay.updateEventRect(aD);aD.exit().remove()}};H.updateEventRect=function(aF){var aG=this,aA=aG.config,aD,aC,aE,aB,az,ay;aF=aF||aG.eventRect.data(function(aH){return aH});if(aG.isMultipleX()){aD=0;aC=0;aE=aG.width;aB=aG.height}else{if((aG.isCustomX()||aG.isTimeSeries())&&!aG.isCategorized()){aG.updateXs();az=function(aJ){var aH=aG.getPrevX(aJ.index),aI=aG.getNextX(aJ.index);if(aH===null&&aI===null){return aA.axis_rotated?aG.height:aG.width}if(aH===null){aH=aG.x.domain()[0]}if(aI===null){aI=aG.x.domain()[1]}return Math.max(0,(aG.x(aI)-aG.x(aH))/2)};ay=function(aK){var aI=aG.getPrevX(aK.index),aJ=aG.getNextX(aK.index),aH=aG.data.xs[aK.id][aK.index];if(aI===null&&aJ===null){return 0}if(aI===null){aI=aG.x.domain()[0]}return(aG.x(aH)+aG.x(aI))/2}}else{az=aG.getEventRectWidth();ay=function(aH){return aG.x(aH.x)-(az/2)}}aD=aA.axis_rotated?0:ay;aC=aA.axis_rotated?ay:0;aE=aA.axis_rotated?aG.width:az;aB=aA.axis_rotated?az:aG.height}aF.attr("class",aG.classEvent.bind(aG)).attr("x",aD).attr("y",aC).attr("width",aE).attr("height",aB)};H.generateEventRectsForSingleX=function(aA){var ay=this,aB=ay.d3,az=ay.config;aA.append("rect").attr("class",ay.classEvent.bind(ay)).style("cursor",az.data_selection_enabled&&az.data_selection_grouped?"pointer":null).on("mouseover",function(aD){var aC=aD.index;if(ay.dragging||ay.flowing){return}if(ay.hasArcType()){return}if(az.point_focus_expand_enabled){ay.expandCircles(aC,null,true)}ay.expandBars(aC,null,true);ay.main.selectAll("."+F.shape+"-"+aC).each(function(aE){az.data_onmouseover.call(ay.api,aE)})}).on("mouseout",function(aD){var aC=aD.index;if(!ay.config){return}if(ay.hasArcType()){return}ay.hideXGridFocus();ay.hideTooltip();ay.unexpandCircles();ay.unexpandBars();ay.main.selectAll("."+F.shape+"-"+aC).each(function(aE){az.data_onmouseout.call(ay.api,aE)})}).on("mousemove",function(aF){var aE,aC=aF.index,aD=ay.svg.select("."+F.eventRect+"-"+aC);if(ay.dragging||ay.flowing){return}if(ay.hasArcType()){return}if(ay.isStepType(aF)&&ay.config.line_step_type==="step-after"&&aB.mouse(this)[0]<ay.x(ay.getXValue(aF.id,aC))){aC-=1}aE=ay.filterTargetsToShow(ay.data.targets).map(function(aG){return ay.addName(ay.getValueOnIndex(aG.values,aC))});if(az.tooltip_grouped){ay.showTooltip(aE,this);ay.showXGridFocus(aE)}if(az.tooltip_grouped&&(!az.data_selection_enabled||az.data_selection_grouped)){return}ay.main.selectAll("."+F.shape+"-"+aC).each(function(){aB.select(this).classed(F.EXPANDED,true);if(az.data_selection_enabled){aD.style("cursor",az.data_selection_grouped?"pointer":null)}if(!az.tooltip_grouped){ay.hideXGridFocus();ay.hideTooltip();if(!az.data_selection_grouped){ay.unexpandCircles(aC);ay.unexpandBars(aC)}}}).filter(function(aG){return ay.isWithinShape(this,aG)}).each(function(aG){if(az.data_selection_enabled&&(az.data_selection_grouped||az.data_selection_isselectable(aG))){aD.style("cursor","pointer")}if(!az.tooltip_grouped){ay.showTooltip([aG],this);ay.showXGridFocus([aG]);if(az.point_focus_expand_enabled){ay.expandCircles(aC,aG.id,true)}ay.expandBars(aC,aG.id,true)}})}).on("click",function(aD){var aC=aD.index;if(ay.hasArcType()||!ay.toggleShape){return}if(ay.cancelClick){ay.cancelClick=false;return}if(ay.isStepType(aD)&&az.line_step_type==="step-after"&&aB.mouse(this)[0]<ay.x(ay.getXValue(aD.id,aC))){aC-=1}ay.main.selectAll("."+F.shape+"-"+aC).each(function(aE){if(az.data_selection_grouped||ay.isWithinShape(this,aE)){ay.toggleShape(this,aE,aC);ay.config.data_onclick.call(ay.api,aE,this)}})}).call(az.data_selection_draggable&&ay.drag?(aB.behavior.drag().origin(Object).on("drag",function(){ay.drag(aB.mouse(this))}).on("dragstart",function(){ay.dragstart(aB.mouse(this))}).on("dragend",function(){ay.dragend()})):function(){})};H.generateEventRectsForMultipleXs=function(aA){var ay=this,aB=ay.d3,az=ay.config;function aC(){ay.svg.select("."+F.eventRect).style("cursor",null);ay.hideXGridFocus();ay.hideTooltip();ay.unexpandCircles();ay.unexpandBars()}aA.append("rect").attr("x",0).attr("y",0).attr("width",ay.width).attr("height",ay.height).attr("class",F.eventRect).on("mouseout",function(){if(!ay.config){return}if(ay.hasArcType()){return}aC()}).on("mousemove",function(){var aE=ay.filterTargetsToShow(ay.data.targets);var aD,aF,aH,aG;if(ay.dragging){return}if(ay.hasArcType(aE)){return}aD=aB.mouse(this);aF=ay.findClosestFromTargets(aE,aD);if(ay.mouseover&&(!aF||aF.id!==ay.mouseover.id)){az.data_onmouseout.call(ay.api,ay.mouseover);ay.mouseover=undefined}if(!aF){aC();return}if(ay.isScatterType(aF)||!az.tooltip_grouped){aH=[aF]}else{aH=ay.filterByX(aE,aF.x)}aG=aH.map(function(aI){return ay.addName(aI)});ay.showTooltip(aG,this);if(az.point_focus_expand_enabled){ay.expandCircles(aF.index,aF.id,true)}ay.expandBars(aF.index,aF.id,true);ay.showXGridFocus(aG);if(ay.isBarType(aF.id)||ay.dist(aF,aD)<az.point_sensitivity){ay.svg.select("."+F.eventRect).style("cursor","pointer");if(!ay.mouseover){az.data_onmouseover.call(ay.api,aF);ay.mouseover=aF}}}).on("click",function(){var aE=ay.filterTargetsToShow(ay.data.targets);var aD,aF;if(ay.hasArcType(aE)){return}aD=aB.mouse(this);aF=ay.findClosestFromTargets(aE,aD);if(!aF){return}if(ay.isBarType(aF.id)||ay.dist(aF,aD)<az.point_sensitivity){ay.main.selectAll("."+F.shapes+ay.getTargetSelectorSuffix(aF.id)).selectAll("."+F.shape+"-"+aF.index).each(function(){if(az.data_selection_grouped||ay.isWithinShape(this,aF)){ay.toggleShape(this,aF,aF.index);ay.config.data_onclick.call(ay.api,aF,this)}})}}).call(az.data_selection_draggable&&ay.drag?(aB.behavior.drag().origin(Object).on("drag",function(){ay.drag(aB.mouse(this))}).on("dragstart",function(){ay.dragstart(aB.mouse(this))}).on("dragend",function(){ay.dragend()})):function(){})};H.dispatchEvent=function(aE,aC,aD){var aH=this,aA="."+F.eventRect+(!aH.isMultipleX()?"-"+aC:""),az=aH.main.select(aA).node(),aB=az.getBoundingClientRect(),aG=aB.left+(aD?aD[0]:0),aF=aB.top+(aD?aD[1]:0),ay=document.createEvent("MouseEvents");ay.initMouseEvent(aE,true,true,af,0,aG,aF,aG,aF,false,false,false,false,0,null);az.dispatchEvent(ay)};H.getCurrentWidth=function(){var ay=this,az=ay.config;return az.size_width?az.size_width:ay.getParentWidth()};H.getCurrentHeight=function(){var ay=this,az=ay.config,aA=az.size_height?az.size_height:ay.getParentHeight();return aA>0?aA:320/(ay.hasType("gauge")&&!az.gauge_fullCircle?2:1)};H.getCurrentPaddingTop=function(){var ay=this,az=ay.config,aA=k(az.padding_top)?az.padding_top:0;if(ay.title&&ay.title.node()){aA+=ay.getTitlePadding()}return aA};H.getCurrentPaddingBottom=function(){var ay=this.config;return k(ay.padding_bottom)?ay.padding_bottom:0};H.getCurrentPaddingLeft=function(ay){var az=this,aA=az.config;if(k(aA.padding_left)){return aA.padding_left}else{if(aA.axis_rotated){return !aA.axis_x_show?1:Math.max(Q(az.getAxisWidthByAxisId("x",ay)),40)}else{if(!aA.axis_y_show||aA.axis_y_inner){return az.axis.getYAxisLabelPosition().isOuter?30:1}else{return Q(az.getAxisWidthByAxisId("y",ay))}}}};H.getCurrentPaddingRight=function(){var ay=this,az=ay.config,aB=10,aA=ay.isLegendRight?ay.getLegendWidth()+20:0;if(k(az.padding_right)){return az.padding_right+1}else{if(az.axis_rotated){return aB+aA}else{if(!az.axis_y2_show||az.axis_y2_inner){return 2+aA+(ay.axis.getY2AxisLabelPosition().isOuter?20:0)}else{return Q(ay.getAxisWidthByAxisId("y2"))+aA}}}};H.getParentRectValue=function(az){var aA=this.selectChart.node(),ay;while(aA&&aA.tagName!=="BODY"){try{ay=aA.getBoundingClientRect()[az]}catch(aB){if(az==="width"){ay=aA.offsetWidth}}if(ay){break}aA=aA.parentNode}return ay};H.getParentWidth=function(){return this.getParentRectValue("width")};H.getParentHeight=function(){var ay=this.selectChart.style("height");return ay.indexOf("px")>0?+ay.replace("px",""):0};H.getSvgLeft=function(aE){var aG=this,az=aG.config,aC=az.axis_rotated||(!az.axis_rotated&&!az.axis_y_inner),aH=az.axis_rotated?F.axisX:F.axisY,ay=aG.main.select("."+aH).node(),aF=ay&&aC?ay.getBoundingClientRect():{right:0},aD=aG.selectChart.node().getBoundingClientRect(),aB=aG.hasArcType(),aA=aF.right-aD.left-(aB?0:aG.getCurrentPaddingLeft(aE));return aA>0?aA:0};H.getAxisWidthByAxisId=function(aB,az){var aA=this,ay=aA.axis.getLabelPositionById(aB);return aA.axis.getMaxTickWidth(aB,az)+(ay.isInner?20:40)};H.getHorizontalAxisHeight=function(aB){var ay=this,az=ay.config,aA=30;if(aB==="x"&&!az.axis_x_show){return 8}if(aB==="x"&&az.axis_x_height){return az.axis_x_height}if(aB==="y"&&!az.axis_y_show){return az.legend_show&&!ay.isLegendRight&&!ay.isLegendInset?10:1}if(aB==="y2"&&!az.axis_y2_show){return ay.rotated_padding_top}if(aB==="x"&&!az.axis_rotated&&az.axis_x_tick_rotate){aA=30+ay.axis.getMaxTickWidth(aB)*Math.cos(Math.PI*(90-az.axis_x_tick_rotate)/180)}if(aB==="y"&&az.axis_rotated&&az.axis_y_tick_rotate){aA=30+ay.axis.getMaxTickWidth(aB)*Math.cos(Math.PI*(90-az.axis_y_tick_rotate)/180)}return aA+(ay.axis.getLabelPositionById(aB).isInner?0:10)+(aB==="y2"?-10:0)};H.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())};H.getShapeIndices=function(aD){var az=this,aB=az.config,aE={},aC=0,aA,ay;az.filterTargetsToShow(az.data.targets.filter(aD,az)).forEach(function(aF){for(aA=0;aA<aB.data_groups.length;aA++){if(aB.data_groups[aA].indexOf(aF.id)<0){continue}for(ay=0;ay<aB.data_groups[aA].length;ay++){if(aB.data_groups[aA][ay] in aE){aE[aF.id]=aE[aB.data_groups[aA][ay]];break}}}if(G(aE[aF.id])){aE[aF.id]=aC++}});aE.__max__=aC-1;return aE};H.getShapeX=function(aD,az,aC,ay){var aA=this,aB=ay?aA.subX:aA.x;return function(aF){var aE=aF.id in aC?aC[aF.id]:0;return aF.x||aF.x===0?aB(aF.x)-aD*(az/2-aE):0}};H.getShapeY=function(ay){var az=this;return function(aB){var aA=ay?az.getSubYScale(aB.id):az.getYScale(aB.id);return aA(aB.value)}};H.getShapeOffset=function(aC,aD,ay){var aB=this,aA=aB.orderTargets(aB.filterTargetsToShow(aB.data.targets.filter(aC,aB))),az=aA.map(function(aE){return aE.id});return function(aI,aE){var aH=ay?aB.getSubYScale(aI.id):aB.getYScale(aI.id),aF=aH(0),aG=aF;aA.forEach(function(aK){var aJ=aB.isStepType(aI)?aB.convertValuesToStep(aK.values):aK.values;if(aK.id===aI.id||aD[aK.id]!==aD[aI.id]){return}if(az.indexOf(aK.id)<az.indexOf(aI.id)){if(typeof aJ[aE]==="undefined"||+aJ[aE].x!==+aI.x){aE=-1;aJ.forEach(function(aL,aM){if(aL.x===aI.x){aE=aM}})}if(aE in aJ&&aJ[aE].value*aI.value>=0){aG+=aH(aJ[aE].value)-aF}}});return aG}};H.isWithinShape=function(aA,aB){var az=this,ay=az.d3.select(aA),aC;if(!az.isTargetToShow(aB.id)){aC=false}else{if(aA.nodeName==="circle"){aC=az.isStepType(aB)?az.isWithinStep(aA,az.getYScale(aB.id)(aB.value)):az.isWithinCircle(aA,az.pointSelectR(aB)*1.5)}else{if(aA.nodeName==="path"){aC=ay.classed(F.bar)?az.isWithinBar(aA):true}}}return aC};H.getInterpolate=function(aA){var az=this,ay=az.isInterpolationType(az.config.spline_interpolation_type)?az.config.spline_interpolation_type:"cardinal";return az.isSplineType(aA)?ay:az.isStepType(aA)?az.config.line_step_type:"linear"};H.initLine=function(){var ay=this;ay.main.select("."+F.chart).append("g").attr("class",F.chartLines)};H.updateTargetsForLine=function(aG){var aH=this,aA=aH.config,ay,az,aC=aH.classChartLine.bind(aH),aD=aH.classLines.bind(aH),aE=aH.classAreas.bind(aH),aF=aH.classCircles.bind(aH),aB=aH.classFocus.bind(aH);ay=aH.main.select("."+F.chartLines).selectAll("."+F.chartLine).data(aG).attr("class",function(aI){return aC(aI)+aB(aI)});az=ay.enter().append("g").attr("class",aC).style("opacity",0).style("pointer-events","none");az.append("g").attr("class",aD);az.append("g").attr("class",aE);az.append("g").attr("class",function(aI){return aH.generateClass(F.selectedCircles,aI.id)});az.append("g").attr("class",aF).style("cursor",function(aI){return aA.data_selection_isselectable(aI)?"pointer":null});aG.forEach(function(aI){aH.main.selectAll("."+F.selectedCircles+aH.getTargetSelectorSuffix(aI.id)).selectAll("."+F.selectedCircle).each(function(aJ){aJ.value=aI.values[aJ.index].value})})};H.updateLine=function(az){var ay=this;ay.mainLine=ay.main.selectAll("."+F.lines).selectAll("."+F.line).data(ay.lineData.bind(ay));ay.mainLine.enter().append("path").attr("class",ay.classLine.bind(ay)).style("stroke",ay.color);ay.mainLine.style("opacity",ay.initialOpacity.bind(ay)).style("shape-rendering",function(aA){return ay.isStepType(aA)?"crispEdges":""}).attr("transform",null);ay.mainLine.exit().transition().duration(az).style("opacity",0).remove()};H.redrawLine=function(az,ay){return[(ay?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",az).style("stroke",this.color).style("opacity",1)]};H.generateDrawLine=function(ay,aF){var aE=this,az=aE.config,aG=aE.d3.svg.line(),aC=aE.generateGetLinePoints(ay,aF),aA=aF?aE.getSubYScale:aE.getYScale,aB=function(aH){return(aF?aE.subxx:aE.xx).call(aE,aH)},aD=function(aI,aH){return az.data_groups.length>0?aC(aI,aH)[0][1]:aA.call(aE,aI.id)(aI.value)};aG=az.axis_rotated?aG.x(aD).y(aB):aG.x(aB).y(aD);if(!az.line_connectNull){aG=aG.defined(function(aH){return aH.value!=null})}return function(aM){var aI=az.line_connectNull?aE.filterRemoveNull(aM.values):aM.values,aH=aF?aE.x:aE.subX,aN=aA.call(aE,aM.id),aJ=0,aK=0,aL;if(aE.isLineType(aM)){if(az.data_regions[aM.id]){aL=aE.lineWithRegions(aI,aH,aN,az.data_regions[aM.id])}else{if(aE.isStepType(aM)){aI=aE.convertValuesToStep(aI)}aL=aG.interpolate(aE.getInterpolate(aM))(aI)}}else{if(aI[0]){aJ=aH(aI[0].x);aK=aN(aI[0].value)}aL=az.axis_rotated?"M "+aK+" "+aJ:"M "+aJ+" "+aK}return aL?aL:"M 0 0"}};H.generateGetLinePoints=function(ay,aG){var aF=this,aA=aF.config,aC=ay.__max__+1,aE=aF.getShapeX(0,aC,ay,!!aG),aD=aF.getShapeY(!!aG),aB=aF.getShapeOffset(aF.isLineType,ay,!!aG),az=aG?aF.getSubYScale:aF.getYScale;return function(aL,aH){var aI=az.call(aF,aL.id)(0),aK=aB(aL,aH)||aI,aM=aE(aL),aJ=aD(aL);if(aA.axis_rotated){if((0<aL.value&&aJ<aI)||(aL.value<0&&aI<aJ)){aJ=aI}}return[[aM,aJ-(aI-aK)],[aM,aJ-(aI-aK)],[aM,aJ-(aI-aK)],[aM,aJ-(aI-aK)]]}};H.lineWithRegions=function(aS,aD,aC,aK){var aI=this,aU=aI.config,aM=-1,aP,aO,aL="M",aF,aG,aQ,aH,aE,aT,aJ,aB,aV=aI.isCategorized()?0.5:0,aN,aR,ay=[];function az(aW,aY){var aX;for(aX=0;aX<aY.length;aX++){if(aY[aX].start<aW&&aW<=aY[aX].end){return true}}return false}if(K(aK)){for(aP=0;aP<aK.length;aP++){ay[aP]={};if(G(aK[aP].start)){ay[aP].start=aS[0].x}else{ay[aP].start=aI.isTimeSeries()?aI.parseDate(aK[aP].start):aK[aP].start}if(G(aK[aP].end)){ay[aP].end=aS[aS.length-1].x}else{ay[aP].end=aI.isTimeSeries()?aI.parseDate(aK[aP].end):aK[aP].end}}}aN=aU.axis_rotated?function(aW){return aC(aW.value)}:function(aW){return aD(aW.x)};aR=aU.axis_rotated?function(aW){return aD(aW.x)}:function(aW){return aC(aW.value)};function aA(aW){return"M"+aW[0][0]+" "+aW[0][1]+" "+aW[1][0]+" "+aW[1][1]}if(aI.isTimeSeries()){aF=function(aX,aW,a0,a1){var aY=aX.x.getTime(),aZ=aW.x-aX.x,a4=new Date(aY+aZ*a0),a3=new Date(aY+aZ*(a0+a1)),a2;if(aU.axis_rotated){a2=[[aC(aQ(a0)),aD(a4)],[aC(aQ(a0+a1)),aD(a3)]]}else{a2=[[aD(a4),aC(aQ(a0))],[aD(a3),aC(aQ(a0+a1))]]}return aA(a2)}}else{aF=function(a0,aY,aW,aZ){var aX;if(aU.axis_rotated){aX=[[aC(aQ(aW),true),aD(aG(aW))],[aC(aQ(aW+aZ),true),aD(aG(aW+aZ))]]}else{aX=[[aD(aG(aW),true),aC(aQ(aW))],[aD(aG(aW+aZ),true),aC(aQ(aW+aZ))]]}return aA(aX)}}for(aP=0;aP<aS.length;aP++){if(G(ay)||!az(aS[aP].x,ay)){aL+=" "+aN(aS[aP])+" "+aR(aS[aP])}else{aG=aI.getScale(aS[aP-1].x+aV,aS[aP].x+aV,aI.isTimeSeries());aQ=aI.getScale(aS[aP-1].value,aS[aP].value);aH=aD(aS[aP].x)-aD(aS[aP-1].x);aE=aC(aS[aP].value)-aC(aS[aP-1].value);aT=Math.sqrt(Math.pow(aH,2)+Math.pow(aE,2));aJ=2/aT;aB=aJ*2;for(aO=aJ;aO<=1;aO+=aB){aL+=aF(aS[aP-1],aS[aP],aO,aJ)}}aM=aS[aP].x}return aL};H.updateArea=function(aA){var ay=this,az=ay.d3;ay.mainArea=ay.main.selectAll("."+F.areas).selectAll("."+F.area).data(ay.lineData.bind(ay));ay.mainArea.enter().append("path").attr("class",ay.classArea.bind(ay)).style("fill",ay.color).style("opacity",function(){ay.orgAreaOpacity=+az.select(this).style("opacity");return 0});ay.mainArea.style("opacity",ay.orgAreaOpacity);ay.mainArea.exit().transition().duration(aA).style("opacity",0).remove()};H.redrawArea=function(az,ay){return[(ay?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",az).style("fill",this.color).style("opacity",this.orgAreaOpacity)]};H.generateDrawArea=function(aB,aH){var aG=this,az=aG.config,ay=aG.d3.svg.area(),aD=aG.generateGetAreaPoints(aB,aH),aA=aH?aG.getSubYScale:aG.getYScale,aC=function(aI){return(aH?aG.subxx:aG.xx).call(aG,aI)},aF=function(aJ,aI){return az.data_groups.length>0?aD(aJ,aI)[0][1]:aA.call(aG,aJ.id)(aG.getAreaBaseValue(aJ.id))},aE=function(aJ,aI){return az.data_groups.length>0?aD(aJ,aI)[1][1]:aA.call(aG,aJ.id)(aJ.value)};ay=az.axis_rotated?ay.x0(aF).x1(aE).y(aC):ay.x(aC).y0(az.area_above?0:aF).y1(aE);if(!az.line_connectNull){ay=ay.defined(function(aI){return aI.value!==null})}return function(aM){var aI=az.line_connectNull?aG.filterRemoveNull(aM.values):aM.values,aJ=0,aK=0,aL;if(aG.isAreaType(aM)){if(aG.isStepType(aM)){aI=aG.convertValuesToStep(aI)}aL=ay.interpolate(aG.getInterpolate(aM))(aI)}else{if(aI[0]){aJ=aG.x(aI[0].x);aK=aG.getYScale(aM.id)(aI[0].value)}aL=az.axis_rotated?"M "+aK+" "+aJ:"M "+aJ+" "+aK}return aL?aL:"M 0 0"}};H.getAreaBaseValue=function(){return 0};H.generateGetAreaPoints=function(aB,aG){var aF=this,az=aF.config,aC=aB.__max__+1,aE=aF.getShapeX(0,aC,aB,!!aG),aD=aF.getShapeY(!!aG),aA=aF.getShapeOffset(aF.isAreaType,aB,!!aG),ay=aG?aF.getSubYScale:aF.getYScale;return function(aL,aH){var aI=ay.call(aF,aL.id)(0),aK=aA(aL,aH)||aI,aM=aE(aL),aJ=aD(aL);if(az.axis_rotated){if((0<aL.value&&aJ<aI)||(aL.value<0&&aI<aJ)){aJ=aI}}return[[aM,aK],[aM,aJ-(aI-aK)],[aM,aJ-(aI-aK)],[aM,aK]]}};H.updateCircle=function(){var ay=this;ay.mainCircle=ay.main.selectAll("."+F.circles).selectAll("."+F.circle).data(ay.lineOrScatterData.bind(ay));ay.mainCircle.enter().append("circle").attr("class",ay.classCircle.bind(ay)).attr("r",ay.pointR.bind(ay)).style("fill",ay.color);ay.mainCircle.style("opacity",ay.initialOpacityForCircle.bind(ay));ay.mainCircle.exit().remove()};H.redrawCircle=function(ay,aB,az){var aA=this.main.selectAll("."+F.selectedCircle);return[(az?this.mainCircle.transition(Math.random().toString()):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",ay).attr("cy",aB),(az?aA.transition(Math.random().toString()):aA).attr("cx",ay).attr("cy",aB)]};H.circleX=function(ay){return ay.x||ay.x===0?this.x(ay.x):null};H.updateCircleY=function(){var ay=this,aA,az;if(ay.config.data_groups.length>0){aA=ay.getShapeIndices(ay.isLineType),az=ay.generateGetLinePoints(aA);ay.circleY=function(aC,aB){return az(aC,aB)[0][1]}}else{ay.circleY=function(aB){return ay.getYScale(aB.id)(aB.value)}}};H.getCircles=function(az,aA){var ay=this;return(aA?ay.main.selectAll("."+F.circles+ay.getTargetSelectorSuffix(aA)):ay.main).selectAll("."+F.circle+(k(az)?"-"+az:""))};H.expandCircles=function(az,aC,aB){var ay=this,aA=ay.pointExpandedR.bind(ay);if(aB){ay.unexpandCircles()}ay.getCircles(az,aC).classed(F.EXPANDED,true).attr("r",aA)};H.unexpandCircles=function(az){var ay=this,aA=ay.pointR.bind(ay);ay.getCircles(az).filter(function(){return ay.d3.select(this).classed(F.EXPANDED)}).classed(F.EXPANDED,false).attr("r",aA)};H.pointR=function(aA){var ay=this,az=ay.config;return ay.isStepType(aA)?0:(A(az.point_r)?az.point_r(aA):az.point_r)};H.pointExpandedR=function(aA){var ay=this,az=ay.config;return az.point_focus_expand_enabled?(az.point_focus_expand_r?az.point_focus_expand_r:ay.pointR(aA)*1.75):ay.pointR(aA)};H.pointSelectR=function(aA){var ay=this,az=ay.config;return A(az.point_select_r)?az.point_select_r(aA):((az.point_select_r)?az.point_select_r:ay.pointR(aA)*4)};H.isWithinCircle=function(aD,aC){var aB=this.d3,aA=aB.mouse(aD),az=aB.select(aD),ay=+az.attr("cx"),aE=+az.attr("cy");return Math.sqrt(Math.pow(ay-aA[0],2)+Math.pow(aE-aA[1],2))<aC};H.isWithinStep=function(ay,az){return Math.abs(az-this.d3.mouse(ay)[1])<30};H.initBar=function(){var ay=this;ay.main.select("."+F.chart).append("g").attr("class",F.chartBars)};H.updateTargetsForBar=function(az){var aB=this,aD=aB.config,aF,ay,aC=aB.classChartBar.bind(aB),aE=aB.classBars.bind(aB),aA=aB.classFocus.bind(aB);aF=aB.main.select("."+F.chartBars).selectAll("."+F.chartBar).data(az).attr("class",function(aG){return aC(aG)+aA(aG)});ay=aF.enter().append("g").attr("class",aC).style("opacity",0).style("pointer-events","none");ay.append("g").attr("class",aE).style("cursor",function(aG){return aD.data_selection_isselectable(aG)?"pointer":null})};H.updateBar=function(aD){var aA=this,ay=aA.barData.bind(aA),aB=aA.classBar.bind(aA),aC=aA.initialOpacity.bind(aA),az=function(aE){return aA.color(aE.id)};aA.mainBar=aA.main.selectAll("."+F.bars).selectAll("."+F.bar).data(ay);aA.mainBar.enter().append("path").attr("class",aB).style("stroke",az).style("fill",az);aA.mainBar.style("opacity",aC);aA.mainBar.exit().transition().duration(aD).style("opacity",0).remove()};H.redrawBar=function(ay,az){return[(az?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",ay).style("fill",this.color).style("opacity",1)]};H.getBarW=function(aC,aB){var az=this,aA=az.config,ay=typeof aA.bar_width==="number"?aA.bar_width:aB?(aC.tickInterval()*aA.bar_width_ratio)/aB:0;return aA.bar_width_max&&ay>aA.bar_width_max?aA.bar_width_max:ay};H.getBars=function(az,aA){var ay=this;return(aA?ay.main.selectAll("."+F.bars+ay.getTargetSelectorSuffix(aA)):ay.main).selectAll("."+F.bar+(k(az)?"-"+az:""))};H.expandBars=function(az,aB,aA){var ay=this;if(aA){ay.unexpandBars()}ay.getBars(az,aB).classed(F.EXPANDED,true)};H.unexpandBars=function(az){var ay=this;ay.getBars(az).classed(F.EXPANDED,false)};H.generateDrawBar=function(az,ay){var aA=this,aC=aA.config,aB=aA.generateGetBarPoints(az,ay);return function(aI,aF){var aG=aB(aI,aF);var aE=aC.axis_rotated?1:0;var aD=aC.axis_rotated?0:1;var aH="M "+aG[0][aE]+","+aG[0][aD]+" L"+aG[1][aE]+","+aG[1][aD]+" L"+aG[2][aE]+","+aG[2][aD]+" L"+aG[3][aE]+","+aG[3][aD]+" z";return aH}};H.generateGetBarPoints=function(aD,aG){var aF=this,aB=aG?aF.subXAxis:aF.xAxis,aE=aD.__max__+1,az=aF.getBarW(aB,aE),ay=aF.getShapeX(az,aE,aD,!!aG),aH=aF.getShapeY(!!aG),aC=aF.getShapeOffset(aF.isBarType,aD,!!aG),aA=aG?aF.getSubYScale:aF.getYScale;return function(aM,aI){var aJ=aA.call(aF,aM.id)(0),aL=aC(aM,aI)||aJ,aN=ay(aM),aK=aH(aM);if(aF.config.axis_rotated){if((0<aM.value&&aK<aJ)||(aM.value<0&&aJ<aK)){aK=aJ}}return[[aN,aL],[aN,aK-(aJ-aL)],[aN+az,aK-(aJ-aL)],[aN+az,aL]]}};H.isWithinBar=function(aC){var aE=this.d3.mouse(aC),aB=aC.getBoundingClientRect(),ay=aC.pathSegList.getItem(0),aL=aC.pathSegList.getItem(1),aJ=Math.min(ay.x,aL.x),aH=Math.min(ay.y,aL.y),aK=aB.width,aA=aB.height,az=2,aI=aJ-az,aF=aJ+aK+az,aG=aH+aA+az,aD=aH-az;return aI<aE[0]&&aE[0]<aF&&aD<aE[1]&&aE[1]<aG};H.initText=function(){var ay=this;ay.main.select("."+F.chart).append("g").attr("class",F.chartTexts);ay.mainText=ay.d3.selectAll([])};H.updateTargetsForText=function(az){var aB=this,aE,ay,aC=aB.classChartText.bind(aB),aD=aB.classTexts.bind(aB),aA=aB.classFocus.bind(aB);aE=aB.main.select("."+F.chartTexts).selectAll("."+F.chartText).data(az).attr("class",function(aF){return aC(aF)+aA(aF)});ay=aE.enter().append("g").attr("class",aC).style("opacity",0).style("pointer-events","none");ay.append("g").attr("class",aD)};H.updateText=function(aC){var az=this,aA=az.config,aB=az.barOrLineData.bind(az),ay=az.classText.bind(az);az.mainText=az.main.selectAll("."+F.texts).selectAll("."+F.text).data(aB);az.mainText.enter().append("text").attr("class",ay).attr("text-anchor",function(aD){return aA.axis_rotated?(aD.value<0?"end":"start"):"middle"}).style("stroke","none").style("fill",function(aD){return az.color(aD)}).style("fill-opacity",0);az.mainText.text(function(aF,aE,aD){return az.dataLabelFormat(aF.id)(aF.value,aF.id,aE,aD)});az.mainText.exit().transition().duration(aC).style("fill-opacity",0).remove()};H.redrawText=function(aB,aA,az,ay){return[(ay?this.mainText.transition():this.mainText).attr("x",aB).attr("y",aA).style("fill",this.color).style("fill-opacity",az?0:this.opacityForText.bind(this))]};H.getTextRect=function(aE,ay,aB){var aD=this.d3.select("body").append("div").classed("c3",true),aA=aD.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),az=this.d3.select(aB).style("font"),aC;aA.selectAll(".dummy").data([aE]).enter().append("text").classed(ay?ay:"",true).style("font",az).text(aE).each(function(){aC=this.getBoundingClientRect()});aD.remove();return aC};H.generateXYForText=function(aB,aD,az,ay){var aG=this,aA=aG.generateGetAreaPoints(aB,false),aE=aG.generateGetBarPoints(aD,false),aC=aG.generateGetLinePoints(az,false),aF=ay?aG.getXForText:aG.getYForText;return function(aJ,aI){var aH=aG.isAreaType(aJ)?aA:aG.isBarType(aJ)?aE:aC;return aF.call(aG,aH(aJ,aI),aJ,this)}};H.getXForText=function(aA,aE,az){var ay=this,aB=az.getBoundingClientRect(),aD,aC;if(ay.config.axis_rotated){aC=ay.isBarType(aE)?4:6;aD=aA[2][1]+aC*(aE.value<0?-1:1)}else{aD=ay.hasType("bar")?(aA[2][0]+aA[0][0])/2:aA[0][0]}if(aE.value===null){if(aD>ay.width){aD=ay.width-aB.width}else{if(aD<0){aD=4}}}return aD};H.getYForText=function(aA,aD,az){var ay=this,aC=az.getBoundingClientRect(),aB;if(ay.config.axis_rotated){aB=(aA[0][0]+aA[2][0]+aC.height*0.6)/2}else{aB=aA[2][1];if(aD.value<0||(aD.value===0&&!ay.hasPositiveValue)){aB+=aC.height;if(ay.isBarType(aD)&&ay.isSafari()){aB-=3}else{if(!ay.isBarType(aD)&&ay.isChrome()){aB+=3}}}else{aB+=ay.isBarType(aD)?-3:-6}}if(aD.value===null&&!ay.config.axis_rotated){if(aB<aC.height){aB=aC.height}else{if(aB>this.height){aB=this.height-4}}}return aB};H.setTargetType=function(ay,aB){var az=this,aA=az.config;az.mapToTargetIds(ay).forEach(function(aC){az.withoutFadeIn[aC]=(aB===aA.data_types[aC]);aA.data_types[aC]=aB});if(!ay){aA.data_type=aB}};H.hasType=function(aC,ay){var az=this,aB=az.config.data_types,aA=false;ay=ay||az.data.targets;if(ay&&ay.length){ay.forEach(function(aE){var aD=aB[aE.id];if((aD&&aD.indexOf(aC)>=0)||(!aD&&aC==="line")){aA=true}})}else{if(Object.keys(aB).length){Object.keys(aB).forEach(function(aD){if(aB[aD]===aC){aA=true}})}else{aA=az.config.data_type===aC}}return aA};H.hasArcType=function(ay){return this.hasType("pie",ay)||this.hasType("donut",ay)||this.hasType("gauge",ay)};H.isLineType=function(az){var ay=this.config,aA=t(az)?az:az.id;return !ay.data_types[aA]||["line","spline","area","area-spline","step","area-step"].indexOf(ay.data_types[aA])>=0};H.isStepType=function(ay){var az=t(ay)?ay:ay.id;return["step","area-step"].indexOf(this.config.data_types[az])>=0};H.isSplineType=function(ay){var az=t(ay)?ay:ay.id;return["spline","area-spline"].indexOf(this.config.data_types[az])>=0};H.isAreaType=function(ay){var az=t(ay)?ay:ay.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[az])>=0};H.isBarType=function(ay){var az=t(ay)?ay:ay.id;return this.config.data_types[az]==="bar"};H.isScatterType=function(ay){var az=t(ay)?ay:ay.id;return this.config.data_types[az]==="scatter"};H.isPieType=function(ay){var az=t(ay)?ay:ay.id;return this.config.data_types[az]==="pie"};H.isGaugeType=function(ay){var az=t(ay)?ay:ay.id;return this.config.data_types[az]==="gauge"};H.isDonutType=function(ay){var az=t(ay)?ay:ay.id;return this.config.data_types[az]==="donut"};H.isArcType=function(ay){return this.isPieType(ay)||this.isDonutType(ay)||this.isGaugeType(ay)};H.lineData=function(ay){return this.isLineType(ay)?[ay]:[]};H.arcData=function(ay){return this.isArcType(ay.data)?[ay]:[]};H.barData=function(ay){return this.isBarType(ay)?ay.values:[]};H.lineOrScatterData=function(ay){return this.isLineType(ay)||this.isScatterType(ay)?ay.values:[]};H.barOrLineData=function(ay){return this.isBarType(ay)||this.isLineType(ay)?ay.values:[]};H.isInterpolationType=function(ay){return["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(ay)>=0};H.initGrid=function(){var ay=this,az=ay.config,aA=ay.d3;ay.grid=ay.main.append("g").attr("clip-path",ay.clipPathForGrid).attr("class",F.grid);if(az.grid_x_show){ay.grid.append("g").attr("class",F.xgrids)}if(az.grid_y_show){ay.grid.append("g").attr("class",F.ygrids)}if(az.grid_focus_show){ay.grid.append("g").attr("class",F.xgridFocus).append("line").attr("class",F.xgridFocus)}ay.xgrid=aA.selectAll([]);if(!az.grid_lines_front){ay.initGridLines()}};H.initGridLines=function(){var ay=this,az=ay.d3;ay.gridLines=ay.main.append("g").attr("clip-path",ay.clipPathForGrid).attr("class",F.grid+" "+F.gridLines);ay.gridLines.append("g").attr("class",F.xgridLines);ay.gridLines.append("g").attr("class",F.ygridLines);ay.xgridLines=az.selectAll([])};H.updateXGrid=function(aB){var ay=this,az=ay.config,aA=ay.d3,aD=ay.generateGridData(az.grid_x_type,ay.x),aC=ay.isCategorized()?ay.xAxis.tickOffset():0;ay.xgridAttr=az.axis_rotated?{x1:0,x2:ay.width,y1:function(aE){return ay.x(aE)-aC},y2:function(aE){return ay.x(aE)-aC}}:{x1:function(aE){return ay.x(aE)+aC},x2:function(aE){return ay.x(aE)+aC},y1:0,y2:ay.height};ay.xgrid=ay.main.select("."+F.xgrids).selectAll("."+F.xgrid).data(aD);ay.xgrid.enter().append("line").attr("class",F.xgrid);if(!aB){ay.xgrid.attr(ay.xgridAttr).style("opacity",function(){return +aA.select(this).attr(az.axis_rotated?"y1":"x1")===(az.axis_rotated?ay.height:0)?0:1})}ay.xgrid.exit().remove()};H.updateYGrid=function(){var ay=this,az=ay.config,aA=ay.yAxis.tickValues()||ay.y.ticks(az.grid_y_ticks);ay.ygrid=ay.main.select("."+F.ygrids).selectAll("."+F.ygrid).data(aA);ay.ygrid.enter().append("line").attr("class",F.ygrid);ay.ygrid.attr("x1",az.axis_rotated?ay.y:0).attr("x2",az.axis_rotated?ay.y:ay.width).attr("y1",az.axis_rotated?0:ay.y).attr("y2",az.axis_rotated?ay.height:ay.y);ay.ygrid.exit().remove();ay.smoothLines(ay.ygrid,"grid")};H.gridTextAnchor=function(ay){return ay.position?ay.position:"end"};H.gridTextDx=function(ay){return ay.position==="start"?4:ay.position==="middle"?0:-4};H.xGridTextX=function(ay){return ay.position==="start"?-this.height:ay.position==="middle"?-this.height/2:0};H.yGridTextX=function(ay){return ay.position==="start"?0:ay.position==="middle"?this.width/2:this.width};H.updateGrid=function(aE){var aA=this,ay=aA.main,aC=aA.config,aD,aB,az;aA.grid.style("visibility",aA.hasArcType()?"hidden":"visible");ay.select("line."+F.xgridFocus).style("visibility","hidden");if(aC.grid_x_show){aA.updateXGrid()}aA.xgridLines=ay.select("."+F.xgridLines).selectAll("."+F.xgridLine).data(aC.grid_x_lines);aD=aA.xgridLines.enter().append("g").attr("class",function(aF){return F.xgridLine+(aF["class"]?" "+aF["class"]:"")});aD.append("line").style("opacity",0);aD.append("text").attr("text-anchor",aA.gridTextAnchor).attr("transform",aC.axis_rotated?"":"rotate(-90)").attr("dx",aA.gridTextDx).attr("dy",-5).style("opacity",0);aA.xgridLines.exit().transition().duration(aE).style("opacity",0).remove();if(aC.grid_y_show){aA.updateYGrid()}aA.ygridLines=ay.select("."+F.ygridLines).selectAll("."+F.ygridLine).data(aC.grid_y_lines);aB=aA.ygridLines.enter().append("g").attr("class",function(aF){return F.ygridLine+(aF["class"]?" "+aF["class"]:"")});aB.append("line").style("opacity",0);aB.append("text").attr("text-anchor",aA.gridTextAnchor).attr("transform",aC.axis_rotated?"rotate(-90)":"").attr("dx",aA.gridTextDx).attr("dy",-5).style("opacity",0);az=aA.yv.bind(aA);aA.ygridLines.select("line").transition().duration(aE).attr("x1",aC.axis_rotated?az:0).attr("x2",aC.axis_rotated?az:aA.width).attr("y1",aC.axis_rotated?0:az).attr("y2",aC.axis_rotated?aA.height:az).style("opacity",1);aA.ygridLines.select("text").transition().duration(aE).attr("x",aC.axis_rotated?aA.xGridTextX.bind(aA):aA.yGridTextX.bind(aA)).attr("y",az).text(function(aF){return aF.text}).style("opacity",1);aA.ygridLines.exit().transition().duration(aE).style("opacity",0).remove()};H.redrawGrid=function(aC){var aA=this,aB=aA.config,ay=aA.xv.bind(aA),az=aA.xgridLines.select("line"),aD=aA.xgridLines.select("text");return[(aC?az.transition():az).attr("x1",aB.axis_rotated?0:ay).attr("x2",aB.axis_rotated?aA.width:ay).attr("y1",aB.axis_rotated?ay:0).attr("y2",aB.axis_rotated?ay:aA.height).style("opacity",1),(aC?aD.transition():aD).attr("x",aB.axis_rotated?aA.yGridTextX.bind(aA):aA.xGridTextX.bind(aA)).attr("y",ay).text(function(aE){return aE.text}).style("opacity",1)]};H.showXGridFocus=function(aC){var aA=this,aB=aA.config,az=aC.filter(function(aE){return aE&&k(aE.value)}),ay=aA.main.selectAll("line."+F.xgridFocus),aD=aA.xx.bind(aA);if(!aB.tooltip_show){return}if(aA.hasType("scatter")||aA.hasArcType()){return}ay.style("visibility","visible").data([az[0]]).attr(aB.axis_rotated?"y1":"x1",aD).attr(aB.axis_rotated?"y2":"x2",aD);aA.smoothLines(ay,"grid")};H.hideXGridFocus=function(){this.main.select("line."+F.xgridFocus).style("visibility","hidden")};H.updateXgridFocus=function(){var ay=this,az=ay.config;ay.main.select("line."+F.xgridFocus).attr("x1",az.axis_rotated?0:-10).attr("x2",az.axis_rotated?ay.width:-10).attr("y1",az.axis_rotated?-10:0).attr("y2",az.axis_rotated?-10:ay.height)};H.generateGridData=function(aE,az){var aG=this,aF=[],aD,aB,aC,aA,ay=aG.main.select("."+F.axisX).selectAll(".tick").size();if(aE==="year"){aD=aG.getXDomain();aB=aD[0].getFullYear();aC=aD[1].getFullYear();for(aA=aB;aA<=aC;aA++){aF.push(new Date(aA+"-01-01 00:00:00"))}}else{aF=az.ticks(10);if(aF.length>ay){aF=aF.filter(function(aH){return(""+aH).indexOf(".")<0})}}return aF};H.getGridFilterToRemove=function(ay){return ay?function(az){var aA=false;[].concat(ay).forEach(function(aB){if((("value" in aB&&az.value===aB.value)||("class" in aB&&az["class"]===aB["class"]))){aA=true}});return aA}:function(){return true}};H.removeGridLines=function(aF,aE){var aA=this,aC=aA.config,aD=aA.getGridFilterToRemove(aF),ay=function(aG){return !aD(aG)},az=aE?F.xgridLines:F.ygridLines,aB=aE?F.xgridLine:F.ygridLine;aA.main.select("."+az).selectAll("."+aB).filter(aD).transition().duration(aC.transition_duration).style("opacity",0).remove();if(aE){aC.grid_x_lines=aC.grid_x_lines.filter(ay)}else{aC.grid_y_lines=aC.grid_y_lines.filter(ay)}};H.initTooltip=function(){var ay=this,az=ay.config,aA;ay.tooltip=ay.selectChart.style("position","relative").append("div").attr("class",F.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none");if(az.tooltip_init_show){if(ay.isTimeSeries()&&t(az.tooltip_init_x)){az.tooltip_init_x=ay.parseDate(az.tooltip_init_x);for(aA=0;aA<ay.data.targets[0].values.length;aA++){if((ay.data.targets[0].values[aA].x-az.tooltip_init_x)===0){break}}az.tooltip_init_x=aA}ay.tooltip.html(az.tooltip_contents.call(ay,ay.data.targets.map(function(aB){return ay.addName(aB.values[az.tooltip_init_x])}),ay.axis.getXAxisTickFormat(),ay.getYFormat(ay.hasArcType()),ay.color));ay.tooltip.style("top",az.tooltip_init_position.top).style("left",az.tooltip_init_position.left).style("display","block")}};H.getTooltipContent=function(aI,aA,aC,aE){var aN=this,aB=aN.config,aG=aB.tooltip_format_title||aA,aD=aB.tooltip_format_name||function(aP){return aP},aH=aB.tooltip_format_value||aC,aM,aF,aJ,aK,az,aO,aL=aN.isOrderAsc();if(aB.data_groups.length===0){aI.sort(function(aQ,aP){var aS=aQ?aQ.value:null,aR=aP?aP.value:null;return aL?aS-aR:aR-aS})}else{var ay=aN.orderTargets(aN.data.targets).map(function(aP){return aP.id});aI.sort(function(aQ,aP){var aS=aQ?aQ.value:null,aR=aP?aP.value:null;if(aS>0&&aR>0){aS=aQ?ay.indexOf(aQ.id):null;aR=aP?ay.indexOf(aP.id):null}return aL?aS-aR:aR-aS})}for(aF=0;aF<aI.length;aF++){if(!(aI[aF]&&(aI[aF].value||aI[aF].value===0))){continue}if(!aM){aJ=j(aG?aG(aI[aF].x):aI[aF].x);aM="<table class='"+aN.CLASS.tooltip+"'>"+(aJ||aJ===0?"<tr><th colspan='2'>"+aJ+"</th></tr>":"")}aK=j(aH(aI[aF].value,aI[aF].ratio,aI[aF].id,aI[aF].index,aI));if(aK!==undefined){if(aI[aF].name===null){continue}az=j(aD(aI[aF].name,aI[aF].ratio,aI[aF].id,aI[aF].index));aO=aN.levelColor?aN.levelColor(aI[aF].value):aE(aI[aF].id);aM+="<tr class='"+aN.CLASS.tooltipName+"-"+aN.getTargetSelectorSuffix(aI[aF].id)+"'>";aM+="<td class='name'><span style='background-color:"+aO+"'></span>"+az+"</td>";aM+="<td class='value'>"+aK+"</td>";aM+="</tr>"}}return aM+"</table>"};H.tooltipPosition=function(az,aG,aI,aF){var aK=this,aB=aK.config,aL=aK.d3;var aD,aJ,aA,aE,aC;var ay=aK.hasArcType(),aH=aL.mouse(aF);if(ay){aJ=((aK.width-(aK.isLegendRight?aK.getLegendWidth():0))/2)+aH[0];aE=(aK.height/2)+aH[1]+20}else{aD=aK.getSvgLeft(true);if(aB.axis_rotated){aJ=aD+aH[0]+100;aA=aJ+aG;aC=aK.currentWidth-aK.getCurrentPaddingRight();aE=aK.x(az[0].x)+20}else{aJ=aD+aK.getCurrentPaddingLeft(true)+aK.x(az[0].x)+20;aA=aJ+aG;aC=aD+aK.currentWidth-aK.getCurrentPaddingRight();aE=aH[1]+15}if(aA>aC){aJ-=aA-aC+20}if(aE+aI>aK.currentHeight){aE-=aI+30}}if(aE<0){aE=0}return{top:aE,left:aJ}};H.showTooltip=function(aF,aC){var aH=this,aB=aH.config;var aD,aG,aE;var az=aH.hasArcType(),ay=aF.filter(function(aI){return aI&&k(aI.value)}),aA=aB.tooltip_position||H.tooltipPosition;if(ay.length===0||!aB.tooltip_show){return}aH.tooltip.html(aB.tooltip_contents.call(aH,aF,aH.axis.getXAxisTickFormat(),aH.getYFormat(az),aH.color)).style("display","block");aD=aH.tooltip.property("offsetWidth");aG=aH.tooltip.property("offsetHeight");aE=aA.call(this,ay,aD,aG,aC);aH.tooltip.style("top",aE.top+"px").style("left",aE.left+"px")};H.hideTooltip=function(){this.tooltip.style("display","none")};H.initLegend=function(){var ay=this;ay.legendItemTextBox={};ay.legendHasRendered=false;ay.legend=ay.svg.append("g").attr("transform",ay.getTranslate("legend"));if(!ay.config.legend_show){ay.legend.style("visibility","hidden");ay.hiddenLegendIds=ay.mapToIds(ay.data.targets);return}ay.updateLegendWithDefaults()};H.updateLegendWithDefaults=function(){var ay=this;ay.updateLegend(ay.mapToIds(ay.data.targets),{withTransform:false,withTransitionForTransform:false,withTransition:false})};H.updateSizeForLegend=function(az,aB){var ay=this,aA=ay.config,aC={top:ay.isLegendTop?ay.getCurrentPaddingTop()+aA.legend_inset_y+5.5:ay.currentHeight-az-ay.getCurrentPaddingBottom()-aA.legend_inset_y,left:ay.isLegendLeft?ay.getCurrentPaddingLeft()+aA.legend_inset_x+0.5:ay.currentWidth-aB-ay.getCurrentPaddingRight()-aA.legend_inset_x+0.5};ay.margin3={top:ay.isLegendRight?0:ay.isLegendInset?aC.top:ay.currentHeight-az,right:NaN,bottom:0,left:ay.isLegendRight?ay.currentWidth-aB:ay.isLegendInset?aC.left:0}};H.transformLegend=function(az){var ay=this;(az?ay.legend.transition():ay.legend).attr("transform",ay.getTranslate("legend"))};H.updateLegendStep=function(ay){this.legendStep=ay};H.updateLegendItemWidth=function(ay){this.legendItemWidth=ay};H.updateLegendItemHeight=function(ay){this.legendItemHeight=ay};H.getLegendWidth=function(){var ay=this;return ay.config.legend_show?ay.isLegendRight||ay.isLegendInset?ay.legendItemWidth*(ay.legendStep+1):ay.currentWidth:0};H.getLegendHeight=function(){var ay=this,az=0;if(ay.config.legend_show){if(ay.isLegendRight){az=ay.currentHeight}else{az=Math.max(20,ay.legendItemHeight)*(ay.legendStep+1)}}return az};H.opacityForLegend=function(ay){return ay.classed(F.legendItemHidden)?null:1};H.opacityForUnfocusedLegend=function(ay){return ay.classed(F.legendItemHidden)?null:0.3};H.toggleFocusLegend=function(az,ay){var aA=this;az=aA.mapToTargetIds(az);aA.legend.selectAll("."+F.legendItem).filter(function(aB){return az.indexOf(aB)>=0}).classed(F.legendItemFocused,ay).transition().duration(100).style("opacity",function(){var aB=ay?aA.opacityForLegend:aA.opacityForUnfocusedLegend;return aB.call(aA,aA.d3.select(this))})};H.revertLegend=function(){var ay=this,az=ay.d3;ay.legend.selectAll("."+F.legendItem).classed(F.legendItemFocused,false).transition().duration(100).style("opacity",function(){return ay.opacityForLegend(az.select(this))})};H.showLegend=function(ay){var az=this,aA=az.config;if(!aA.legend_show){aA.legend_show=true;az.legend.style("visibility","visible");if(!az.legendHasRendered){az.updateLegendWithDefaults()}}az.removeHiddenLegendIds(ay);az.legend.selectAll(az.selectorLegends(ay)).style("visibility","visible").transition().style("opacity",function(){return az.opacityForLegend(az.d3.select(this))})};H.hideLegend=function(ay){var az=this,aA=az.config;if(aA.legend_show&&E(ay)){aA.legend_show=false;az.legend.style("visibility","hidden")}az.addHiddenLegendIds(ay);az.legend.selectAll(az.selectorLegends(ay)).style("opacity",0).style("visibility","hidden")};H.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}};H.updateLegend=function(aA,aO,aD){var a2=this,aS=a2.config;var a7,az,aE,aC,a1,a5,aI,ay,aL;var a6=4,aH=10,aN=0,a0=0,aG=10,aW=aS.legend_item_tile_width+5;var aZ,aY=0,aK={},aB={},aX={},aF=[0],aR={},aP=0;var a3,aJ;var aV,aU,aQ,aT;aA=aA.filter(function(a8){return !K(aS.data_names[a8])||aS.data_names[a8]!==null});aO=aO||{};a3=w(aO,"withTransition",true);aJ=w(aO,"withTransitionForTransform",true);function aM(a8,a9){if(!a2.legendItemTextBox[a9]){a2.legendItemTextBox[a9]=a2.getTextRect(a8.textContent,F.legendItem,a8)}return a2.legendItemTextBox[a9]}function a4(bb,ba,bj){var bi=bj===0,bf=bj===aA.length-1,bg=aM(bb,ba),bk=bg.width+aW+(bf&&!(a2.isLegendRight||a2.isLegendInset)?0:aH)+aS.legend_padding,bd=bg.height+a6,bh=a2.isLegendRight||a2.isLegendInset?bd:bk,a8=a2.isLegendRight||a2.isLegendInset?a2.getLegendHeight():a2.getLegendWidth(),be,a9;function bc(bm,bl){if(!bl){be=(a8-aY-bh)/2;if(be<aG){be=(a8-bh)/2;aY=0;aP++}}aR[bm]=aP;aF[aP]=a2.isLegendInset?10:be;aK[bm]=aY;aY+=bh}if(bi){aY=0;aP=0;aN=0;a0=0}if(aS.legend_show&&!a2.isLegendToShow(ba)){aB[ba]=aX[ba]=aR[ba]=aK[ba]=0;return}aB[ba]=bk;aX[ba]=bd;if(!aN||bk>=aN){aN=bk}if(!a0||bd>=a0){a0=bd}a9=a2.isLegendRight||a2.isLegendInset?a0:aN;if(aS.legend_equally){Object.keys(aB).forEach(function(bl){aB[bl]=aN});Object.keys(aX).forEach(function(bl){aX[bl]=a0});be=(a8-a9*aA.length)/2;if(be<aG){aY=0;aP=0;aA.forEach(function(bl){bc(bl)})}else{bc(ba,true)}}else{bc(ba)}}if(a2.isLegendInset){aP=aS.legend_inset_step?aS.legend_inset_step:aA.length;a2.updateLegendStep(aP)}if(a2.isLegendRight){a7=function(a8){return aN*aR[a8]};aC=function(a8){return aF[aR[a8]]+aK[a8]}}else{if(a2.isLegendInset){a7=function(a8){return aN*aR[a8]+10};aC=function(a8){return aF[aR[a8]]+aK[a8]}}else{a7=function(a8){return aF[aR[a8]]+aK[a8]};aC=function(a8){return a0*aR[a8]}}}az=function(a9,a8){return a7(a9,a8)+4+aS.legend_item_tile_width};a1=function(a9,a8){return aC(a9,a8)+9};aE=function(a9,a8){return a7(a9,a8)};a5=function(a9,a8){return aC(a9,a8)-5};aI=function(a9,a8){return a7(a9,a8)-2};ay=function(a9,a8){return a7(a9,a8)-2+aS.legend_item_tile_width};aL=function(a9,a8){return aC(a9,a8)+4};aZ=a2.legend.selectAll("."+F.legendItem).data(aA).enter().append("g").attr("class",function(a8){return a2.generateClass(F.legendItem,a8)}).style("visibility",function(a8){return a2.isLegendToShow(a8)?"visible":"hidden"}).style("cursor","pointer").on("click",function(a8){if(aS.legend_item_onclick){aS.legend_item_onclick.call(a2,a8)}else{if(a2.d3.event.altKey){a2.api.hide();a2.api.show(a8)}else{a2.api.toggle(a8);a2.isTargetToShow(a8)?a2.api.focus(a8):a2.api.revert()}}}).on("mouseover",function(a8){if(aS.legend_item_onmouseover){aS.legend_item_onmouseover.call(a2,a8)}else{a2.d3.select(this).classed(F.legendItemFocused,true);if(!a2.transiting&&a2.isTargetToShow(a8)){a2.api.focus(a8)}}}).on("mouseout",function(a8){if(aS.legend_item_onmouseout){aS.legend_item_onmouseout.call(a2,a8)}else{a2.d3.select(this).classed(F.legendItemFocused,false);a2.api.revert()}});aZ.append("text").text(function(a8){return K(aS.data_names[a8])?aS.data_names[a8]:a8}).each(function(a9,a8){a4(this,a9,a8)}).style("pointer-events","none").attr("x",a2.isLegendRight||a2.isLegendInset?az:-200).attr("y",a2.isLegendRight||a2.isLegendInset?-200:a1);aZ.append("rect").attr("class",F.legendItemEvent).style("fill-opacity",0).attr("x",a2.isLegendRight||a2.isLegendInset?aE:-200).attr("y",a2.isLegendRight||a2.isLegendInset?-200:a5);aZ.append("line").attr("class",F.legendItemTile).style("stroke",a2.color).style("pointer-events","none").attr("x1",a2.isLegendRight||a2.isLegendInset?aI:-200).attr("y1",a2.isLegendRight||a2.isLegendInset?-200:aL).attr("x2",a2.isLegendRight||a2.isLegendInset?ay:-200).attr("y2",a2.isLegendRight||a2.isLegendInset?-200:aL).attr("stroke-width",aS.legend_item_tile_height);aT=a2.legend.select("."+F.legendBackground+" rect");if(a2.isLegendInset&&aN>0&&aT.size()===0){aT=a2.legend.insert("g","."+F.legendItem).attr("class",F.legendBackground).append("rect")}aV=a2.legend.selectAll("text").data(aA).text(function(a8){return K(aS.data_names[a8])?aS.data_names[a8]:a8}).each(function(a9,a8){a4(this,a9,a8)});(a3?aV.transition():aV).attr("x",az).attr("y",a1);aU=a2.legend.selectAll("rect."+F.legendItemEvent).data(aA);(a3?aU.transition():aU).attr("width",function(a8){return aB[a8]}).attr("height",function(a8){return aX[a8]}).attr("x",aE).attr("y",a5);aQ=a2.legend.selectAll("line."+F.legendItemTile).data(aA);(a3?aQ.transition():aQ).style("stroke",a2.color).attr("x1",aI).attr("y1",aL).attr("x2",ay).attr("y2",aL);if(aT){(a3?aT.transition():aT).attr("height",a2.getLegendHeight()-12).attr("width",aN*(aP+1)+10)}a2.legend.selectAll("."+F.legendItem).classed(F.legendItemHidden,function(a8){return !a2.isTargetToShow(a8)});a2.updateLegendItemWidth(aN);a2.updateLegendItemHeight(a0);a2.updateLegendStep(aP);a2.updateSizes();a2.updateScales();a2.updateSvgSize();a2.transformAll(aJ,aD);a2.legendHasRendered=true};H.initTitle=function(){var ay=this;ay.title=ay.svg.append("text").text(ay.config.title_text).attr("class",ay.CLASS.title)};H.redrawTitle=function(){var ay=this;ay.title.attr("x",ay.xForTitle.bind(ay)).attr("y",ay.yForTitle.bind(ay))};H.xForTitle=function(){var aA=this,aB=aA.config,az=aB.title_position||"left",ay;if(az.indexOf("right")>=0){ay=aA.currentWidth-aA.getTextRect(aA.title.node().textContent,aA.CLASS.title,aA.title.node()).width-aB.title_padding.right}else{if(az.indexOf("center")>=0){ay=(aA.currentWidth-aA.getTextRect(aA.title.node().textContent,aA.CLASS.title,aA.title.node()).width)/2}else{ay=aB.title_padding.left}}return ay};H.yForTitle=function(){var ay=this;return ay.config.title_padding.top+ay.getTextRect(ay.title.node().textContent,ay.CLASS.title,ay.title.node()).height};H.getTitlePadding=function(){var ay=this;return ay.yForTitle()+ay.config.title_padding.bottom};function z(ay){W.call(this,ay)}B(W,z);z.prototype.init=function ak(){var az=this.owner,aA=az.config,ay=az.main;az.axes.x=ay.append("g").attr("class",F.axis+" "+F.axisX).attr("clip-path",az.clipPathForXAxis).attr("transform",az.getTranslate("x")).style("visibility",aA.axis_x_show?"visible":"hidden");az.axes.x.append("text").attr("class",F.axisXLabel).attr("transform",aA.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this));az.axes.y=ay.append("g").attr("class",F.axis+" "+F.axisY).attr("clip-path",aA.axis_y_inner?"":az.clipPathForYAxis).attr("transform",az.getTranslate("y")).style("visibility",aA.axis_y_show?"visible":"hidden");az.axes.y.append("text").attr("class",F.axisYLabel).attr("transform",aA.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this));az.axes.y2=ay.append("g").attr("class",F.axis+" "+F.axisY2).attr("transform",az.getTranslate("y2")).style("visibility",aA.axis_y2_show?"visible":"hidden");az.axes.y2.append("text").attr("class",F.axisY2Label).attr("transform",aA.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))};z.prototype.getXAxis=function I(aB,aE,aC,aD,ay,aG,aF){var aI=this.owner,az=aI.config,aH={isCategory:aI.isCategorized(),withOuterTick:ay,tickMultiline:az.axis_x_tick_multiline,tickWidth:az.axis_x_tick_width,tickTextRotate:aF?0:az.axis_x_tick_rotate,withoutTransition:aG,},aA=d(aI.d3,aH).scale(aB).orient(aE);if(aI.isTimeSeries()&&aD&&typeof aD!=="function"){aD=aD.map(function(aJ){return aI.parseDate(aJ)})}aA.tickFormat(aC).tickValues(aD);if(aI.isCategorized()){aA.tickCentered(az.axis_x_tick_centered);if(E(az.axis_x_tick_culling)){az.axis_x_tick_culling=false}}return aA};z.prototype.updateXAxisTickValues=function J(ay,aC){var aA=this.owner,aB=aA.config,az;if(aB.axis_x_tick_fit||aB.axis_x_tick_count){az=this.generateTickValues(aA.mapTargetsToUniqueXs(ay),aB.axis_x_tick_count,aA.isTimeSeries())}if(aC){aC.tickValues(az)}else{aA.xAxis.tickValues(az);aA.subXAxis.tickValues(az)}return az};z.prototype.getYAxis=function h(aB,aE,aC,aD,ay,aG,aF){var aI=this.owner,az=aI.config,aH={withOuterTick:ay,withoutTransition:aG,tickTextRotate:aF?0:az.axis_y_tick_rotate},aA=d(aI.d3,aH).scale(aB).orient(aE).tickFormat(aC);if(aI.isTimeSeriesY()){aA.ticks(aI.d3.time[az.axis_y_tick_time_value],az.axis_y_tick_time_interval)}else{aA.tickValues(aD)}return aA};z.prototype.getId=function at(az){var ay=this.owner.config;return az in ay.data_axes?ay.data_axes[az]:"y"};z.prototype.getXAxisTickFormat=function R(){var ay=this.owner,az=ay.config,aA=ay.isTimeSeries()?ay.defaultAxisTimeFormat:ay.isCategorized()?ay.categoryName:function(aB){return aB<0?aB.toFixed(0):aB};if(az.axis_x_tick_format){if(A(az.axis_x_tick_format)){aA=az.axis_x_tick_format}else{if(ay.isTimeSeries()){aA=function(aB){return aB?ay.axisTimeFormat(az.axis_x_tick_format)(aB):""}}}}return A(aA)?function(aB){return aA.call(ay,aB)}:aA};z.prototype.getTickValues=function ao(ay,az){return ay?ay:az?az.tickValues():undefined};z.prototype.getXAxisTickValues=function ax(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)};z.prototype.getYAxisTickValues=function U(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)};z.prototype.getY2AxisTickValues=function p(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)};z.prototype.getLabelOptionByAxisId=function O(aB){var ay=this.owner,az=ay.config,aA;if(aB==="y"){aA=az.axis_y_label}else{if(aB==="y2"){aA=az.axis_y2_label}else{if(aB==="x"){aA=az.axis_x_label}}}return aA};z.prototype.getLabelText=function aj(az){var ay=this.getLabelOptionByAxisId(az);return t(ay)?ay:ay?ay.text:null};z.prototype.setLabelText=function C(aB,aC){var ay=this.owner,az=ay.config,aA=this.getLabelOptionByAxisId(aB);if(t(aA)){if(aB==="y"){az.axis_y_label=aC}else{if(aB==="y2"){az.axis_y2_label=aC}else{if(aB==="x"){az.axis_x_label=aC}}}}else{if(aA){aA.text=aC}}};z.prototype.getLabelPosition=function an(aB,az){var aA=this.getLabelOptionByAxisId(aB),ay=(aA&&typeof aA==="object"&&aA.position)?aA.position:az;return{isInner:ay.indexOf("inner")>=0,isOuter:ay.indexOf("outer")>=0,isLeft:ay.indexOf("left")>=0,isCenter:ay.indexOf("center")>=0,isRight:ay.indexOf("right")>=0,isTop:ay.indexOf("top")>=0,isMiddle:ay.indexOf("middle")>=0,isBottom:ay.indexOf("bottom")>=0}};z.prototype.getXAxisLabelPosition=function n(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")};z.prototype.getYAxisLabelPosition=function S(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")};z.prototype.getY2AxisLabelPosition=function ai(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")};z.prototype.getLabelPositionById=function aw(ay){return ay==="y2"?this.getY2AxisLabelPosition():ay==="y"?this.getYAxisLabelPosition():this.getXAxisLabelPosition()};z.prototype.textForXAxisLabel=function ad(){return this.getLabelText("x")};z.prototype.textForYAxisLabel=function aq(){return this.getLabelText("y")};z.prototype.textForY2AxisLabel=function L(){return this.getLabelText("y2")};z.prototype.xForAxisLabel=function u(az,ay){var aA=this.owner;if(az){return ay.isLeft?0:ay.isCenter?aA.width/2:aA.width}else{return ay.isBottom?-aA.height:ay.isMiddle?-aA.height/2:0}};z.prototype.dxForAxisLabel=function q(az,ay){if(az){return ay.isLeft?"0.5em":ay.isRight?"-0.5em":"0"}else{return ay.isTop?"-0.5em":ay.isBottom?"0.5em":"0"}};z.prototype.textAnchorForAxisLabel=function X(az,ay){if(az){return ay.isLeft?"start":ay.isCenter?"middle":"end"}else{return ay.isBottom?"start":ay.isMiddle?"middle":"end"}};z.prototype.xForXAxisLabel=function ae(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())};z.prototype.xForYAxisLabel=function ap(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())};z.prototype.xForY2AxisLabel=function s(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())};z.prototype.dxForXAxisLabel=function am(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())};z.prototype.dxForYAxisLabel=function f(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())};z.prototype.dxForY2AxisLabel=function x(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())};z.prototype.dyForXAxisLabel=function Z(){var az=this.owner,aA=az.config,ay=this.getXAxisLabelPosition();if(aA.axis_rotated){return ay.isInner?"1.2em":-25-this.getMaxTickWidth("x")}else{return ay.isInner?"-0.5em":aA.axis_x_height?aA.axis_x_height-10:"3em"}};z.prototype.dyForYAxisLabel=function ah(){var az=this.owner,ay=this.getYAxisLabelPosition();if(az.config.axis_rotated){return ay.isInner?"-0.5em":"3em"}else{return ay.isInner?"1.2em":-10-(az.config.axis_y_inner?0:(this.getMaxTickWidth("y")+10))}};z.prototype.dyForY2AxisLabel=function al(){var az=this.owner,ay=this.getY2AxisLabelPosition();if(az.config.axis_rotated){return ay.isInner?"1.2em":"-2.2em"}else{return ay.isInner?"-0.5em":15+(az.config.axis_y2_inner?0:(this.getMaxTickWidth("y2")+15))}};z.prototype.textAnchorForXAxisLabel=function M(){var ay=this.owner;return this.textAnchorForAxisLabel(!ay.config.axis_rotated,this.getXAxisLabelPosition())};z.prototype.textAnchorForYAxisLabel=function ac(){var ay=this.owner;return this.textAnchorForAxisLabel(ay.config.axis_rotated,this.getYAxisLabelPosition())};z.prototype.textAnchorForY2AxisLabel=function m(){var ay=this.owner;return this.textAnchorForAxisLabel(ay.config.axis_rotated,this.getY2AxisLabelPosition())};z.prototype.getMaxTickWidth=function av(az,aF){var aH=this.owner,aA=aH.config,aG=0,ay,aD,aB,aC,aE;if(aF&&aH.currentMaxTickWidths[az]){return aH.currentMaxTickWidths[az]}if(aH.svg){ay=aH.filterTargetsToShow(aH.data.targets);if(az==="y"){aD=aH.y.copy().domain(aH.getYDomain(ay,"y"));aB=this.getYAxis(aD,aH.yOrient,aA.axis_y_tick_format,aH.yAxisTickValues,false,true,true)}else{if(az==="y2"){aD=aH.y2.copy().domain(aH.getYDomain(ay,"y2"));aB=this.getYAxis(aD,aH.y2Orient,aA.axis_y2_tick_format,aH.y2AxisTickValues,false,true,true)}else{aD=aH.x.copy().domain(aH.getXDomain(ay));aB=this.getXAxis(aD,aH.xOrient,aH.xAxisTickFormat,aH.xAxisTickValues,false,true,true);this.updateXAxisTickValues(ay,aB)}}aC=aH.d3.select("body").append("div").classed("c3",true);aE=aC.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),aE.append("g").call(aB).each(function(){aH.d3.select(this).selectAll("text").each(function(){var aI=this.getBoundingClientRect();if(aG<aI.width){aG=aI.width}});aC.remove()})}aH.currentMaxTickWidths[az]=aG<=0?aH.currentMaxTickWidths[az]:aG;return aH.currentMaxTickWidths[az]};z.prototype.updateLabels=function g(aA){var az=this.owner;var aC=az.main.select("."+F.axisX+" ."+F.axisXLabel),aB=az.main.select("."+F.axisY+" ."+F.axisYLabel),ay=az.main.select("."+F.axisY2+" ."+F.axisY2Label);(aA?aC.transition():aC).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this));(aA?aB.transition():aB).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this));(aA?ay.transition():ay).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))};z.prototype.getPadding=function y(aC,aA,ay,az){var aB=typeof aC==="number"?aC:aC[aA];if(!k(aB)){return ay}if(aC.unit==="ratio"){return aC[aA]*az}return this.convertPixelsToAxisPadding(aB,az)};z.prototype.convertPixelsToAxisPadding=function aa(aB,az){var ay=this.owner,aA=ay.config.axis_rotated?ay.width:ay.height;return az*(aB/aA)};z.prototype.generateTickValues=function V(aI,ay,aC){var aE=aI,aB,az,aF,aH,aA,aG,aD;if(ay){aB=A(ay)?ay():ay;if(aB===1){aE=[aI[0]]}else{if(aB===2){aE=[aI[0],aI[aI.length-1]]}else{if(aB>2){aH=aB-2;az=aI[0];aF=aI[aI.length-1];aA=(aF-az)/(aH+1);aE=[az];for(aG=0;aG<aH;aG++){aD=+az+aA*(aG+1);aE.push(aC?new Date(aD):aD)}aE.push(aF)}}}}if(!aC){aE=aE.sort(function(aK,aJ){return aK-aJ})}return aE};z.prototype.generateTransitions=function ag(aA){var ay=this.owner,az=ay.axes;return{axisX:aA?az.x.transition().duration(aA):az.x,axisY:aA?az.y.transition().duration(aA):az.y,axisY2:aA?az.y2.transition().duration(aA):az.y2,axisSubX:aA?az.subx.transition().duration(aA):az.subx}};z.prototype.redraw=function l(aA,az){var ay=this.owner;ay.axes.x.style("opacity",az?0:1);ay.axes.y.style("opacity",az?0:1);ay.axes.y2.style("opacity",az?0:1);ay.axes.subx.style("opacity",az?0:1);aA.axisX.call(ay.xAxis);aA.axisY.call(ay.yAxis);aA.axisY2.call(ay.y2Axis);aA.axisSubX.call(ay.subXAxis)};H.getClipPath=function(az){var ay=af.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url("+(ay?"":document.URL.split("#")[0])+"#"+az+")"};H.appendClip=function(ay,az){return ay.append("clipPath").attr("id",az).append("rect")};H.getAxisClipX=function(ay){var az=Math.max(30,this.margin.left);return ay?-(1+az):-(az-1)};H.getAxisClipY=function(ay){return ay?-20:-this.margin.top};H.getXAxisClipX=function(){var ay=this;return ay.getAxisClipX(!ay.config.axis_rotated)};H.getXAxisClipY=function(){var ay=this;return ay.getAxisClipY(!ay.config.axis_rotated)};H.getYAxisClipX=function(){var ay=this;return ay.config.axis_y_inner?-1:ay.getAxisClipX(ay.config.axis_rotated)};H.getYAxisClipY=function(){var ay=this;return ay.getAxisClipY(ay.config.axis_rotated)};H.getAxisClipWidth=function(ay){var az=this,aB=Math.max(30,az.margin.left),aA=Math.max(30,az.margin.right);return ay?az.width+2+aB+aA:az.margin.left+20};H.getAxisClipHeight=function(ay){return(ay?this.margin.bottom:(this.margin.top+this.height))+20};H.getXAxisClipWidth=function(){var ay=this;return ay.getAxisClipWidth(!ay.config.axis_rotated)};H.getXAxisClipHeight=function(){var ay=this;return ay.getAxisClipHeight(!ay.config.axis_rotated)};H.getYAxisClipWidth=function(){var ay=this;return ay.getAxisClipWidth(ay.config.axis_rotated)+(ay.config.axis_y_inner?20:0)};H.getYAxisClipHeight=function(){var ay=this;return ay.getAxisClipHeight(ay.config.axis_rotated)};H.initPie=function(){var ay=this,aA=ay.d3,az=ay.config;ay.pie=aA.layout.pie().value(function(aB){return aB.values.reduce(function(aD,aC){return aD+aC.value},0)});if(!az.data_order){ay.pie.sort(null)}};H.updateRadius=function(){var az=this,aA=az.config,ay=aA.gauge_width||aA.donut_width;az.radiusExpanded=Math.min(az.arcWidth,az.arcHeight)/2;az.radius=az.radiusExpanded*0.95;az.innerRadiusRatio=ay?(az.radius-ay)/az.radius:0.6;az.innerRadius=az.hasType("donut")||az.hasType("gauge")?az.radius*az.innerRadiusRatio:0};H.updateArc=function(){var ay=this;ay.svgArc=ay.getSvgArc();ay.svgArcExpanded=ay.getSvgArcExpanded();ay.svgArcExpandedSub=ay.getSvgArcExpanded(0.98)};H.updateAngle=function(aD){var aF=this,az=aF.config,aG=false,aC=0,aA,aE,aB,ay;if(!az){return null}aF.pie(aF.filterTargetsToShow(aF.data.targets)).forEach(function(aH){if(!aG&&aH.data.id===aD.data.id){aG=true;aD=aH;aD.index=aC}aC++});if(isNaN(aD.startAngle)){aD.startAngle=0}if(isNaN(aD.endAngle)){aD.endAngle=aD.startAngle}if(aF.isGaugeType(aD.data)){aA=az.gauge_min;aE=az.gauge_max;aB=(Math.PI*(az.gauge_fullCircle?2:1))/(aE-aA);ay=aD.value<aA?0:aD.value<aE?aD.value-aA:(aE-aA);aD.startAngle=az.gauge_startingAngle;aD.endAngle=aD.startAngle+aB*ay}return aG?aD:null};H.getSvgArc=function(){var ay=this,az=ay.d3.svg.arc().outerRadius(ay.radius).innerRadius(ay.innerRadius),aA=function(aD,aC){var aB;if(aC){return az(aD)}aB=ay.updateAngle(aD);return aB?az(aB):"M 0 0"};aA.centroid=az.centroid;return aA};H.getSvgArcExpanded=function(aA){var ay=this,az=ay.d3.svg.arc().outerRadius(ay.radiusExpanded*(aA?aA:1)).innerRadius(ay.innerRadius);return function(aC){var aB=ay.updateAngle(aC);return aB?az(aB):"M 0 0"}};H.getArc=function(aA,az,ay){return ay||this.isArcType(aA.data)?this.svgArc(aA,az):"M 0 0"};H.transformForArcLabel=function(aD){var aH=this,ay=aH.config,aB=aH.updateAngle(aD),aE,aG,aF,aA,aC,az="";if(aB&&!aH.hasType("gauge")){aE=this.svgArc.centroid(aB);aG=isNaN(aE[0])?0:aE[0];aF=isNaN(aE[1])?0:aE[1];aA=Math.sqrt(aG*aG+aF*aF);if(aH.hasType("donut")&&ay.donut_label_ratio){aC=A(ay.donut_label_ratio)?ay.donut_label_ratio(aD,aH.radius,aA):ay.donut_label_ratio}else{if(aH.hasType("pie")&&ay.pie_label_ratio){aC=A(ay.pie_label_ratio)?ay.pie_label_ratio(aD,aH.radius,aA):ay.pie_label_ratio}else{aC=aH.radius&&aA?(36/aH.radius>0.375?1.175-36/aH.radius:0.8)*aH.radius/aA:0}}az="translate("+(aG*aC)+","+(aF*aC)+")"}return az};H.getArcRatio=function(aB){var ay=this,az=ay.config,aA=Math.PI*(ay.hasType("gauge")&&!az.gauge_fullCircle?1:2);return aB?(aB.endAngle-aB.startAngle)/aA:null};H.convertToArcData=function(ay){return this.addName({id:ay.data.id,value:ay.value,ratio:this.getArcRatio(ay),index:ay.index})};H.textForArcLabel=function(aD){var az=this,ay,aB,aA,aE,aC;if(!az.shouldShowArcLabel()){return""}ay=az.updateAngle(aD);aB=ay?ay.value:null;aA=az.getArcRatio(ay);aE=aD.data.id;if(!az.hasType("gauge")&&!az.meetsArcLabelThreshold(aA)){return""}aC=az.getArcLabelFormat();return aC?aC(aB,aA,aE):az.defaultArcValueFormat(aB,aA)};H.expandArc=function(ay){var aA=this,az;if(aA.transiting){az=af.setInterval(function(){if(!aA.transiting){af.clearInterval(az);if(aA.legend.selectAll(".c3-legend-item-focused").size()>0){aA.expandArc(ay)}}},10);return}ay=aA.mapToTargetIds(ay);aA.svg.selectAll(aA.selectorTargets(ay,"."+F.chartArc)).each(function(aB){if(!aA.shouldExpand(aB.data.id)){return}aA.d3.select(this).selectAll("path").transition().duration(aA.expandDuration(aB.data.id)).attr("d",aA.svgArcExpanded).transition().duration(aA.expandDuration(aB.data.id)*2).attr("d",aA.svgArcExpandedSub).each(function(aC){if(aA.isDonutType(aC.data)){}})})};H.unexpandArc=function(ay){var az=this;if(az.transiting){return}ay=az.mapToTargetIds(ay);az.svg.selectAll(az.selectorTargets(ay,"."+F.chartArc)).selectAll("path").transition().duration(function(aA){return az.expandDuration(aA.data.id)}).attr("d",az.svgArc);az.svg.selectAll("."+F.arc).style("opacity",1)};H.expandDuration=function(aA){var ay=this,az=ay.config;if(ay.isDonutType(aA)){return az.donut_expand_duration}else{if(ay.isGaugeType(aA)){return az.gauge_expand_duration}else{if(ay.isPieType(aA)){return az.pie_expand_duration}else{return 50}}}};H.shouldExpand=function(aA){var ay=this,az=ay.config;return(ay.isDonutType(aA)&&az.donut_expand)||(ay.isGaugeType(aA)&&az.gauge_expand)||(ay.isPieType(aA)&&az.pie_expand)};H.shouldShowArcLabel=function(){var az=this,aA=az.config,ay=true;if(az.hasType("donut")){ay=aA.donut_label_show}else{if(az.hasType("pie")){ay=aA.pie_label_show}}return ay};H.meetsArcLabelThreshold=function(aB){var az=this,aA=az.config,ay=az.hasType("donut")?aA.donut_label_threshold:aA.pie_label_threshold;return aB>=ay};H.getArcLabelFormat=function(){var ay=this,az=ay.config,aA=az.pie_label_format;if(ay.hasType("gauge")){aA=az.gauge_label_format}else{if(ay.hasType("donut")){aA=az.donut_label_format}}return aA};H.getArcTitle=function(){var ay=this;return ay.hasType("donut")?ay.config.donut_title:""};H.updateTargetsForArc=function(aB){var aD=this,az=aD.main,ay,aE,aA=aD.classChartArc.bind(aD),aF=aD.classArcs.bind(aD),aC=aD.classFocus.bind(aD);ay=az.select("."+F.chartArcs).selectAll("."+F.chartArc).data(aD.pie(aB)).attr("class",function(aG){return aA(aG)+aC(aG.data)});aE=ay.enter().append("g").attr("class",aA);aE.append("g").attr("class",aF);aE.append("text").attr("dy",aD.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")};H.initArc=function(){var ay=this;ay.arcs=ay.main.select("."+F.chart).append("g").attr("class",F.chartArcs).attr("transform",ay.getTranslate("arc"));ay.arcs.append("text").attr("class",F.chartArcsTitle).style("text-anchor","middle").text(ay.getArcTitle())};H.redrawArc=function(aE,aF,az){var aA=this,aC=aA.d3,aB=aA.config,ay=aA.main,aD;aD=ay.selectAll("."+F.arcs).selectAll("."+F.arc).data(aA.arcData.bind(aA));aD.enter().append("path").attr("class",aA.classArc.bind(aA)).style("fill",function(aG){return aA.color(aG.data)}).style("cursor",function(aG){return aB.interaction_enabled&&aB.data_selection_isselectable(aG)?"pointer":null}).style("opacity",0).each(function(aG){if(aA.isGaugeType(aG.data)){aG.startAngle=aG.endAngle=aB.gauge_startingAngle}this._current=aG});aD.attr("transform",function(aG){return !aA.isGaugeType(aG.data)&&az?"scale(0)":""}).style("opacity",function(aG){return aG===this._current?0:1}).on("mouseover",aB.interaction_enabled?function(aI){var aH,aG;if(aA.transiting){return}aH=aA.updateAngle(aI);if(aH){aG=aA.convertToArcData(aH);aA.expandArc(aH.data.id);aA.api.focus(aH.data.id);aA.toggleFocusLegend(aH.data.id,true);aA.config.data_onmouseover(aG,this)}}:null).on("mousemove",aB.interaction_enabled?function(aJ){var aH=aA.updateAngle(aJ),aG,aI;if(aH){aG=aA.convertToArcData(aH),aI=[aG];aA.showTooltip(aI,this)}}:null).on("mouseout",aB.interaction_enabled?function(aI){var aH,aG;if(aA.transiting){return}aH=aA.updateAngle(aI);if(aH){aG=aA.convertToArcData(aH);aA.unexpandArc(aH.data.id);aA.api.revert();aA.revertLegend();aA.hideTooltip();aA.config.data_onmouseout(aG,this)}}:null).on("click",aB.interaction_enabled?function(aJ,aI){var aH=aA.updateAngle(aJ),aG;if(aH){aG=aA.convertToArcData(aH);if(aA.toggleShape){aA.toggleShape(this,aG,aI)}aA.config.data_onclick.call(aA.api,aG,this)}}:null).each(function(){aA.transiting=true}).transition().duration(aE).attrTween("d",function(aI){var aG=aA.updateAngle(aI),aH;if(!aG){return function(){return"M 0 0"}}if(isNaN(this._current.startAngle)){this._current.startAngle=0}if(isNaN(this._current.endAngle)){this._current.endAngle=this._current.startAngle}aH=aC.interpolate(this._current,aG);this._current=aH(0);return function(aK){var aJ=aH(aK);aJ.data=aI.data;return aA.getArc(aJ,true)}}).attr("transform",az?"scale(1)":"").style("fill",function(aG){return aA.levelColor?aA.levelColor(aG.data.values[0].value):aA.color(aG.data.id)}).style("opacity",1).call(aA.endall,function(){aA.transiting=false});aD.exit().transition().duration(aF).style("opacity",0).remove();ay.selectAll("."+F.chartArc).select("text").style("opacity",0).attr("class",function(aG){return aA.isGaugeType(aG.data)?F.gaugeValue:""}).text(aA.textForArcLabel.bind(aA)).attr("transform",aA.transformForArcLabel.bind(aA)).style("font-size",function(aG){return aA.isGaugeType(aG.data)?Math.round(aA.radius/5)+"px":""}).transition().duration(aE).style("opacity",function(aG){return aA.isTargetToShow(aG.data.id)&&aA.isArcType(aG.data)?1:0});ay.select("."+F.chartArcsTitle).style("opacity",aA.hasType("donut")||aA.hasType("gauge")?1:0);if(aA.hasType("gauge")){aA.arcs.select("."+F.chartArcsBackground).attr("d",function(){var aG={data:[{value:aB.gauge_max}],startAngle:aB.gauge_startingAngle,endAngle:-1*aB.gauge_startingAngle};return aA.getArc(aG,true,true)});aA.arcs.select("."+F.chartArcsGaugeUnit).attr("dy",".75em").text(aB.gauge_label_show?aB.gauge_units:"");aA.arcs.select("."+F.chartArcsGaugeMin).attr("dx",-1*(aA.innerRadius+((aA.radius-aA.innerRadius)/(aB.gauge_fullCircle?1:2)))+"px").attr("dy","1.2em").text(aB.gauge_label_show?aB.gauge_min:"");aA.arcs.select("."+F.chartArcsGaugeMax).attr("dx",aA.innerRadius+((aA.radius-aA.innerRadius)/(aB.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(aB.gauge_label_show?aB.gauge_max:"")}};H.initGauge=function(){var ay=this.arcs;if(this.hasType("gauge")){ay.append("path").attr("class",F.chartArcsBackground);ay.append("text").attr("class",F.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none");ay.append("text").attr("class",F.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none");ay.append("text").attr("class",F.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none")}};H.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0};H.initRegion=function(){var ay=this;ay.region=ay.main.append("g").attr("clip-path",ay.clipPath).attr("class",F.regions)};H.updateRegion=function(aA){var ay=this,az=ay.config;ay.region.style("visibility",ay.hasArcType()?"hidden":"visible");ay.mainRegion=ay.main.select("."+F.regions).selectAll("."+F.region).data(az.regions);ay.mainRegion.enter().append("g").append("rect").style("fill-opacity",0);ay.mainRegion.attr("class",ay.classRegion.bind(ay));ay.mainRegion.exit().transition().duration(aA).style("opacity",0).remove()};H.redrawRegion=function(aB){var aA=this,aE=aA.mainRegion.selectAll("rect").each(function(){var aF=aA.d3.select(this.parentNode).datum();aA.d3.select(this).datum(aF)}),ay=aA.regionX.bind(aA),aD=aA.regionY.bind(aA),az=aA.regionWidth.bind(aA),aC=aA.regionHeight.bind(aA);return[(aB?aE.transition():aE).attr("x",ay).attr("y",aD).attr("width",az).attr("height",aC).style("fill-opacity",function(aF){return k(aF.opacity)?aF.opacity:0.1})]};H.regionX=function(aC){var ay=this,az=ay.config,aB,aA=aC.axis==="y"?ay.y:ay.y2;if(aC.axis==="y"||aC.axis==="y2"){aB=az.axis_rotated?("start" in aC?aA(aC.start):0):0}else{aB=az.axis_rotated?0:("start" in aC?ay.x(ay.isTimeSeries()?ay.parseDate(aC.start):aC.start):0)}return aB};H.regionY=function(aC){var ay=this,az=ay.config,aB,aA=aC.axis==="y"?ay.y:ay.y2;if(aC.axis==="y"||aC.axis==="y2"){aB=az.axis_rotated?0:("end" in aC?aA(aC.end):0)}else{aB=az.axis_rotated?("start" in aC?ay.x(ay.isTimeSeries()?ay.parseDate(aC.start):aC.start):0):0}return aB};H.regionWidth=function(aC){var az=this,aA=az.config,aD=az.regionX(aC),ay,aB=aC.axis==="y"?az.y:az.y2;if(aC.axis==="y"||aC.axis==="y2"){ay=aA.axis_rotated?("end" in aC?aB(aC.end):az.width):az.width}else{ay=aA.axis_rotated?az.width:("end" in aC?az.x(az.isTimeSeries()?az.parseDate(aC.end):aC.end):az.width)}return ay<aD?0:ay-aD};H.regionHeight=function(aC){var az=this,aA=az.config,aD=this.regionY(aC),ay,aB=aC.axis==="y"?az.y:az.y2;if(aC.axis==="y"||aC.axis==="y2"){ay=aA.axis_rotated?az.height:("start" in aC?aB(aC.start):az.height)}else{ay=aA.axis_rotated?("end" in aC?az.x(az.isTimeSeries()?az.parseDate(aC.end):aC.end):az.height):az.height}return ay<aD?0:ay-aD};H.isRegionOnX=function(ay){return !ay.axis||ay.axis==="x"};H.drag=function(aE){var aJ=this,aA=aJ.config,aD=aJ.main,aK=aJ.d3;var aG,aF,aI,aH,aC,az,aB,ay;if(aJ.hasArcType()){return}if(!aA.data_selection_enabled){return}if(aA.zoom_enabled&&!aJ.zoom.altDomain){return}if(!aA.data_selection_multiple){return}aG=aJ.dragStart[0];aF=aJ.dragStart[1];aI=aE[0];aH=aE[1];aC=Math.min(aG,aI);az=Math.max(aG,aI);aB=(aA.data_selection_grouped)?aJ.margin.top:Math.min(aF,aH);ay=(aA.data_selection_grouped)?aJ.height:Math.max(aF,aH);aD.select("."+F.dragarea).attr("x",aC).attr("y",aB).attr("width",az-aC).attr("height",ay-aB);aD.selectAll("."+F.shapes).selectAll("."+F.shape).filter(function(aL){return aA.data_selection_isselectable(aL)}).each(function(aS,aO){var aR=aK.select(this),aM=aR.classed(F.SELECTED),aL=aR.classed(F.INCLUDED),aU,aT,aV,aN,aQ,aW=false,aP;if(aR.classed(F.circle)){aU=aR.attr("cx")*1;aT=aR.attr("cy")*1;aQ=aJ.togglePoint;aW=aC<aU&&aU<az&&aB<aT&&aT<ay}else{if(aR.classed(F.bar)){aP=T(this);aU=aP.x;aT=aP.y;aV=aP.width;aN=aP.height;aQ=aJ.togglePath;aW=!(az<aU||aU+aV<aC)&&!(ay<aT||aT+aN<aB)}else{return}}if(aW^aL){aR.classed(F.INCLUDED,!aL);aR.classed(F.SELECTED,!aM);aQ.call(aJ,!aM,aR,aS,aO)}})};H.dragstart=function(aA){var ay=this,az=ay.config;if(ay.hasArcType()){return}if(!az.data_selection_enabled){return}ay.dragStart=aA;ay.main.select("."+F.chart).append("rect").attr("class",F.dragarea).style("opacity",0.1);ay.dragging=true};H.dragend=function(){var ay=this,az=ay.config;if(ay.hasArcType()){return}if(!az.data_selection_enabled){return}ay.main.select("."+F.dragarea).transition().duration(100).style("opacity",0).remove();ay.main.selectAll("."+F.shape).classed(F.INCLUDED,false);ay.dragging=false};H.selectPoint=function(aD,aE,aB){var az=this,aA=az.config,ay=(aA.axis_rotated?az.circleY:az.circleX).bind(az),aF=(aA.axis_rotated?az.circleX:az.circleY).bind(az),aC=az.pointSelectR.bind(az);aA.data_onselected.call(az.api,aE,aD.node());az.main.select("."+F.selectedCircles+az.getTargetSelectorSuffix(aE.id)).selectAll("."+F.selectedCircle+"-"+aB).data([aE]).enter().append("circle").attr("class",function(){return az.generateClass(F.selectedCircle,aB)}).attr("cx",ay).attr("cy",aF).attr("stroke",function(){return az.color(aE)}).attr("r",function(aG){return az.pointSelectR(aG)*1.4}).transition().duration(100).attr("r",aC)};H.unselectPoint=function(aA,aB,az){var ay=this;ay.config.data_onunselected.call(ay.api,aB,aA.node());ay.main.select("."+F.selectedCircles+ay.getTargetSelectorSuffix(aB.id)).selectAll("."+F.selectedCircle+"-"+az).transition().duration(100).attr("r",0).remove()};H.togglePoint=function(az,aA,aB,ay){az?this.selectPoint(aA,aB,ay):this.unselectPoint(aA,aB,ay)};H.selectPath=function(az,aA){var ay=this;ay.config.data_onselected.call(ay,aA,az.node());if(ay.config.interaction_brighten){az.transition().duration(100).style("fill",function(){return ay.d3.rgb(ay.color(aA)).brighter(0.75)})}};H.unselectPath=function(az,aA){var ay=this;ay.config.data_onunselected.call(ay,aA,az.node());if(ay.config.interaction_brighten){az.transition().duration(100).style("fill",function(){return ay.color(aA)})}};H.togglePath=function(az,aA,aB,ay){az?this.selectPath(aA,aB,ay):this.unselectPath(aA,aB,ay)};H.getToggle=function(aA,aB){var az=this,ay;if(aA.nodeName==="circle"){if(az.isStepType(aB)){ay=function(){}}else{ay=az.togglePoint}}else{if(aA.nodeName==="path"){ay=az.togglePath}}return ay};H.toggleShape=function(aC,aE,aA){var aF=this,aG=aF.d3,az=aF.config,aD=aG.select(aC),ay=aD.classed(F.SELECTED),aB=aF.getToggle(aC,aE).bind(aF);if(az.data_selection_enabled&&az.data_selection_isselectable(aE)){if(!az.data_selection_multiple){aF.main.selectAll("."+F.shapes+(az.data_selection_grouped?aF.getTargetSelectorSuffix(aE.id):"")).selectAll("."+F.shape).each(function(aJ,aI){var aH=aG.select(this);if(aH.classed(F.SELECTED)){aB(false,aH.classed(F.SELECTED,false),aJ,aI)}})}aD.classed(F.SELECTED,!ay);aB(!ay,aD,aE,aA)}};H.initBrush=function(){var ay=this,az=ay.d3;ay.brush=az.svg.brush().on("brush",function(){ay.redrawForBrush()});ay.brush.update=function(){if(ay.context){ay.context.select("."+F.brush).call(this)}return this};ay.brush.scale=function(aA){return ay.config.axis_rotated?this.y(aA):this.x(aA)}};H.initSubchart=function(){var az=this,aA=az.config,aB=az.context=az.svg.append("g").attr("transform",az.getTranslate("context")),ay=aA.subchart_show?"visible":"hidden";aB.style("visibility",ay);aB.append("g").attr("clip-path",az.clipPathForSubchart).attr("class",F.chart);aB.select("."+F.chart).append("g").attr("class",F.chartBars);aB.select("."+F.chart).append("g").attr("class",F.chartLines);aB.append("g").attr("clip-path",az.clipPath).attr("class",F.brush).call(az.brush);az.axes.subx=aB.append("g").attr("class",F.axisX).attr("transform",az.getTranslate("subx")).attr("clip-path",aA.axis_rotated?"":az.clipPathForXAxis).style("visibility",aA.subchart_axis_x_show?ay:"hidden")};H.updateTargetsForSubchart=function(aH){var aK=this,az=aK.context,aA=aK.config,aJ,aG,ay,aE,aI=aK.classChartBar.bind(aK),aF=aK.classBars.bind(aK),aC=aK.classChartLine.bind(aK),aB=aK.classLines.bind(aK),aD=aK.classAreas.bind(aK);if(aA.subchart_show){aE=az.select("."+F.chartBars).selectAll("."+F.chartBar).data(aH).attr("class",aI);ay=aE.enter().append("g").style("opacity",0).attr("class",aI);ay.append("g").attr("class",aF);aG=az.select("."+F.chartLines).selectAll("."+F.chartLine).data(aH).attr("class",aC);aJ=aG.enter().append("g").style("opacity",0).attr("class",aC);aJ.append("g").attr("class",aB);aJ.append("g").attr("class",aD);az.selectAll("."+F.brush+" rect").attr(aA.axis_rotated?"width":"height",aA.axis_rotated?aK.width2:aK.height2)}};H.updateBarForSubchart=function(az){var ay=this;ay.contextBar=ay.context.selectAll("."+F.bars).selectAll("."+F.bar).data(ay.barData.bind(ay));ay.contextBar.enter().append("path").attr("class",ay.classBar.bind(ay)).style("stroke","none").style("fill",ay.color);ay.contextBar.style("opacity",ay.initialOpacity.bind(ay));ay.contextBar.exit().transition().duration(az).style("opacity",0).remove()};H.redrawBarForSubchart=function(az,ay,aA){(ay?this.contextBar.transition(Math.random().toString()).duration(aA):this.contextBar).attr("d",az).style("opacity",1)};H.updateLineForSubchart=function(az){var ay=this;ay.contextLine=ay.context.selectAll("."+F.lines).selectAll("."+F.line).data(ay.lineData.bind(ay));ay.contextLine.enter().append("path").attr("class",ay.classLine.bind(ay)).style("stroke",ay.color);ay.contextLine.style("opacity",ay.initialOpacity.bind(ay));ay.contextLine.exit().transition().duration(az).style("opacity",0).remove()};H.redrawLineForSubchart=function(ay,az,aA){(az?this.contextLine.transition(Math.random().toString()).duration(aA):this.contextLine).attr("d",ay).style("opacity",1)};H.updateAreaForSubchart=function(aA){var ay=this,az=ay.d3;ay.contextArea=ay.context.selectAll("."+F.areas).selectAll("."+F.area).data(ay.lineData.bind(ay));ay.contextArea.enter().append("path").attr("class",ay.classArea.bind(ay)).style("fill",ay.color).style("opacity",function(){ay.orgAreaOpacity=+az.select(this).style("opacity");return 0});ay.contextArea.style("opacity",0);ay.contextArea.exit().transition().duration(aA).style("opacity",0).remove()};H.redrawAreaForSubchart=function(az,ay,aA){(ay?this.contextArea.transition(Math.random().toString()).duration(aA):this.contextArea).attr("d",az).style("fill",this.color).style("opacity",this.orgAreaOpacity)};H.redrawSubchart=function(aH,aG,aD,az,aC,aE,ay){var aI=this,aK=aI.d3,aB=aI.config,aF,aA,aJ;aI.context.style("visibility",aB.subchart_show?"visible":"hidden");if(aB.subchart_show){if(aK.event&&aK.event.type==="zoom"){aI.brush.extent(aI.x.orgDomain()).update()}if(aH){if(!aI.brush.empty()){aI.brush.extent(aI.x.orgDomain()).update()}aF=aI.generateDrawArea(aC,true);aA=aI.generateDrawBar(aE,true);aJ=aI.generateDrawLine(ay,true);aI.updateBarForSubchart(aD);aI.updateLineForSubchart(aD);aI.updateAreaForSubchart(aD);aI.redrawBarForSubchart(aA,aD,aD);aI.redrawLineForSubchart(aJ,aD,aD);aI.redrawAreaForSubchart(aF,aD,aD)}}};H.redrawForBrush=function(){var az=this,ay=az.x;az.redraw({withTransition:false,withY:az.config.zoom_rescale,withSubchart:false,withUpdateXDomain:true,withDimension:false});az.config.subchart_onbrush.call(az.api,ay.orgDomain())};H.transformContext=function(az,aB){var ay=this,aA;if(aB&&aB.axisSubX){aA=aB.axisSubX}else{aA=ay.context.select("."+F.axisX);if(az){aA=aA.transition()}}ay.context.attr("transform",ay.getTranslate("context"));aA.attr("transform",ay.getTranslate("subx"))};H.getDefaultExtent=function(){var ay=this,az=ay.config,aA=A(az.axis_x_extent)?az.axis_x_extent(ay.getXDomain(ay.data.targets)):az.axis_x_extent;if(ay.isTimeSeries()){aA=[ay.parseDate(aA[0]),ay.parseDate(aA[1])]}return aA};H.initZoom=function(){var az=this,aB=az.d3,aA=az.config,ay;az.zoom=aB.behavior.zoom().on("zoomstart",function(){ay=aB.event.sourceEvent;az.zoom.altDomain=aB.event.sourceEvent.altKey?az.x.orgDomain():null;aA.zoom_onzoomstart.call(az.api,aB.event.sourceEvent)}).on("zoom",function(){az.redrawForZoom.call(az)}).on("zoomend",function(){var aC=aB.event.sourceEvent;if(aC&&ay.clientX===aC.clientX&&ay.clientY===aC.clientY){return}az.redrawEventRect();az.updateZoom();aA.zoom_onzoomend.call(az.api,az.x.orgDomain())});az.zoom.scale=function(aC){return aA.axis_rotated?this.y(aC):this.x(aC)};az.zoom.orgScaleExtent=function(){var aC=aA.zoom_extent?aA.zoom_extent:[1,10];return[aC[0],Math.max(az.getMaxDataCount()/aC[1],aC[1])]};az.zoom.updateScaleExtent=function(){var aD=P(az.x.orgDomain())/P(az.getZoomDomain()),aC=this.orgScaleExtent();this.scaleExtent([aC[0]*aD,aC[1]*aD]);return this}};H.getZoomDomain=function(){var az=this,aA=az.config,aC=az.d3,aB=aC.min([az.orgXDomain[0],aA.zoom_x_min]),ay=aC.max([az.orgXDomain[1],aA.zoom_x_max]);return[aB,ay]};H.updateZoom=function(){var ay=this,az=ay.config.zoom_enabled?ay.zoom:function(){};ay.main.select("."+F.zoomRect).call(az).on("dblclick.zoom",null);ay.main.selectAll("."+F.eventRect).call(az).on("dblclick.zoom",null)};H.redrawForZoom=function(){var az=this,aB=az.d3,aA=az.config,aC=az.zoom,ay=az.x;if(!aA.zoom_enabled){return}if(az.filterTargetsToShow(az.data.targets).length===0){return}if(aB.event.sourceEvent.type==="mousemove"&&aC.altDomain){ay.domain(aC.altDomain);aC.scale(ay).updateScaleExtent();return}if(az.isCategorized()&&ay.orgDomain()[0]===az.orgXDomain[0]){ay.domain([az.orgXDomain[0]-1e-10,ay.orgDomain()[1]])}az.redraw({withTransition:false,withY:aA.zoom_rescale,withSubchart:false,withEventRect:false,withDimension:false});if(aB.event.sourceEvent.type==="mousemove"){az.cancelClick=true}aA.zoom_onzoom.call(az.api,ay.orgDomain())};H.generateColor=function(){var az=this,aA=az.config,aC=az.d3,ay=aA.data_colors,aD=N(aA.color_pattern)?aA.color_pattern:aC.scale.category10().range(),aE=aA.data_color,aB=[];return function(aG){var aH=aG.id||(aG.data&&aG.data.id)||aG,aF;if(ay[aH] instanceof Function){aF=ay[aH](aG)}else{if(ay[aH]){aF=ay[aH]}else{if(aB.indexOf(aH)<0){aB.push(aH)}aF=aD[aB.indexOf(aH)%aD.length];ay[aH]=aF}}return aE instanceof Function?aE(aF,aG):aF}};H.generateLevelColor=function(){var aC=this,aD=aC.config,aA=aD.color_pattern,az=aD.color_threshold,aE=az.unit==="value",aB=az.values&&az.values.length?az.values:[],ay=az.max||100;return N(aD.color_threshold)?function(aI){var aH,aG,aF=aA[aA.length-1];for(aH=0;aH<aB.length;aH++){aG=aE?aI:(aI*100/ay);if(aG<aB[aH]){aF=aA[aH];break}}return aF}:null};H.getYFormat=function(az){var ay=this,aA=az&&!ay.hasType("gauge")?ay.defaultArcValueFormat:ay.yFormat,aB=az&&!ay.hasType("gauge")?ay.defaultArcValueFormat:ay.y2Format;return function(aC,aD,aF){var aE=ay.axis.getId(aF)==="y2"?aB:aA;return aE.call(ay,aC,aD)}};H.yFormat=function(az){var ay=this,aA=ay.config,aB=aA.axis_y_tick_format?aA.axis_y_tick_format:ay.defaultValueFormat;return aB(az)};H.y2Format=function(az){var ay=this,aA=ay.config,aB=aA.axis_y2_tick_format?aA.axis_y2_tick_format:ay.defaultValueFormat;return aB(az)};H.defaultValueFormat=function(ay){return k(ay)?+ay:""};H.defaultArcValueFormat=function(ay,az){return(az*100).toFixed(1)+"%"};H.dataLabelFormat=function(aA){var ay=this,az=ay.config.data_labels,aC,aB=function(aD){return k(aD)?+aD:""};if(typeof az.format==="function"){aC=az.format}else{if(typeof az.format==="object"){if(az.format[aA]){aC=az.format[aA]===true?aB:az.format[aA]}else{aC=function(){return""}}}else{aC=aB}}return aC};H.hasCaches=function(az){for(var ay=0;ay<az.length;ay++){if(!(az[ay] in this.cache)){return false}}return true};H.addCache=function(az,ay){this.cache[az]=this.cloneTarget(ay)};H.getCaches=function(aA){var ay=[],az;for(az=0;az<aA.length;az++){if(aA[az] in this.cache){ay.push(this.cloneTarget(this.cache[aA[az]]))}}return ay};var F=H.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};H.generateClass=function(az,ay){return" "+az+" "+az+this.getTargetSelectorSuffix(ay)};H.classText=function(ay){return this.generateClass(F.text,ay.index)};H.classTexts=function(ay){return this.generateClass(F.texts,ay.id)};H.classShape=function(ay){return this.generateClass(F.shape,ay.index)};H.classShapes=function(ay){return this.generateClass(F.shapes,ay.id)};H.classLine=function(ay){return this.classShape(ay)+this.generateClass(F.line,ay.id)};H.classLines=function(ay){return this.classShapes(ay)+this.generateClass(F.lines,ay.id)};H.classCircle=function(ay){return this.classShape(ay)+this.generateClass(F.circle,ay.index)};H.classCircles=function(ay){return this.classShapes(ay)+this.generateClass(F.circles,ay.id)};H.classBar=function(ay){return this.classShape(ay)+this.generateClass(F.bar,ay.index)};H.classBars=function(ay){return this.classShapes(ay)+this.generateClass(F.bars,ay.id)};H.classArc=function(ay){return this.classShape(ay.data)+this.generateClass(F.arc,ay.data.id)};H.classArcs=function(ay){return this.classShapes(ay.data)+this.generateClass(F.arcs,ay.data.id)};H.classArea=function(ay){return this.classShape(ay)+this.generateClass(F.area,ay.id)};H.classAreas=function(ay){return this.classShapes(ay)+this.generateClass(F.areas,ay.id)};H.classRegion=function(az,ay){return this.generateClass(F.region,ay)+" "+("class" in az?az["class"]:"")};H.classEvent=function(ay){return this.generateClass(F.eventRect,ay.index)};H.classTarget=function(aB){var az=this;var aA=az.config.data_classes[aB],ay="";if(aA){ay=" "+F.target+"-"+aA}return az.generateClass(F.target,aB)+ay};H.classFocus=function(ay){return this.classFocused(ay)+this.classDefocused(ay)};H.classFocused=function(ay){return" "+(this.focusedTargetIds.indexOf(ay.id)>=0?F.focused:"")};H.classDefocused=function(ay){return" "+(this.defocusedTargetIds.indexOf(ay.id)>=0?F.defocused:"")};H.classChartText=function(ay){return F.chartText+this.classTarget(ay.id)};H.classChartLine=function(ay){return F.chartLine+this.classTarget(ay.id)};H.classChartBar=function(ay){return F.chartBar+this.classTarget(ay.id)};H.classChartArc=function(ay){return F.chartArc+this.classTarget(ay.data.id)};H.getTargetSelectorSuffix=function(ay){return ay||ay===0?("-"+ay).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""};H.selectorTarget=function(az,ay){return(ay||"")+"."+F.target+this.getTargetSelectorSuffix(az)};H.selectorTargets=function(az,aA){var ay=this;az=az||[];return az.length?az.map(function(aB){return ay.selectorTarget(aB,aA)}):null};H.selectorLegend=function(ay){return"."+F.legendItem+this.getTargetSelectorSuffix(ay)};H.selectorLegends=function(az){var ay=this;return az&&az.length?az.map(function(aA){return ay.selectorLegend(aA)}):null};var k=H.isValue=function(ay){return ay||ay===0},A=H.isFunction=function(ay){return typeof ay==="function"},t=H.isString=function(ay){return typeof ay==="string"},G=H.isUndefined=function(ay){return typeof ay==="undefined"},K=H.isDefined=function(ay){return typeof ay!=="undefined"},Q=H.ceil10=function(ay){return Math.ceil(ay/10)*10},Y=H.asHalfPixel=function(ay){return Math.ceil(ay)+0.5},P=H.diffDomain=function(ay){return ay[1]-ay[0]},E=H.isEmpty=function(ay){return typeof ay==="undefined"||ay===null||(t(ay)&&ay.length===0)||(typeof ay==="object"&&Object.keys(ay).length===0)},N=H.notEmpty=function(ay){return !H.isEmpty(ay)},w=H.getOption=function(az,aA,ay){return K(az[aA])?az[aA]:ay},v=H.hasValue=function(aA,az){var ay=false;Object.keys(aA).forEach(function(aB){if(aA[aB]===az){ay=true}});return ay},j=H.sanitise=function(ay){return typeof ay==="string"?ay.replace(/</g,"&lt;").replace(/>/g,"&gt;"):ay},T=H.getPathBox=function(aB){var aA=aB.getBoundingClientRect(),az=[aB.pathSegList.getItem(0),aB.pathSegList.getItem(1)],ay=az[0].x,aC=Math.min(az[0].y,az[1].y);return{x:ay,y:aC,width:aA.width,height:aA.height}};D.focus=function(ay){var az=this.internal,aA;ay=az.mapToTargetIds(ay);aA=az.svg.selectAll(az.selectorTargets(ay.filter(az.isTargetToShow,az))),this.revert();this.defocus();aA.classed(F.focused,true).classed(F.defocused,false);if(az.hasArcType()){az.expandArc(ay)}az.toggleFocusLegend(ay,true);az.focusedTargetIds=ay;az.defocusedTargetIds=az.defocusedTargetIds.filter(function(aB){return ay.indexOf(aB)<0})};D.defocus=function(ay){var az=this.internal,aA;ay=az.mapToTargetIds(ay);aA=az.svg.selectAll(az.selectorTargets(ay.filter(az.isTargetToShow,az))),aA.classed(F.focused,false).classed(F.defocused,true);if(az.hasArcType()){az.unexpandArc(ay)}az.toggleFocusLegend(ay,false);az.focusedTargetIds=az.focusedTargetIds.filter(function(aB){return ay.indexOf(aB)<0});az.defocusedTargetIds=ay};D.revert=function(ay){var az=this.internal,aA;ay=az.mapToTargetIds(ay);aA=az.svg.selectAll(az.selectorTargets(ay));aA.classed(F.focused,false).classed(F.defocused,false);if(az.hasArcType()){az.unexpandArc(ay)}if(az.config.legend_show){az.showLegend(ay.filter(az.isLegendToShow.bind(az)));az.legend.selectAll(az.selectorLegends(ay)).filter(function(){return az.d3.select(this).classed(F.legendItemFocused)}).classed(F.legendItemFocused,false)}az.focusedTargetIds=[];az.defocusedTargetIds=[]};D.show=function(az,aB){var aA=this.internal,ay;az=aA.mapToTargetIds(az);aB=aB||{};aA.removeHiddenTargetIds(az);ay=aA.svg.selectAll(aA.selectorTargets(az));ay.transition().style("opacity",1,"important").call(aA.endall,function(){ay.style("opacity",null).style("opacity",1)});if(aB.withLegend){aA.showLegend(az)}aA.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true,withLegend:true})};D.hide=function(az,aB){var aA=this.internal,ay;az=aA.mapToTargetIds(az);aB=aB||{};aA.addHiddenTargetIds(az);ay=aA.svg.selectAll(aA.selectorTargets(az));ay.transition().style("opacity",0,"important").call(aA.endall,function(){ay.style("opacity",null).style("opacity",0)});if(aB.withLegend){aA.hideLegend(az)}aA.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true,withLegend:true})};D.toggle=function(ay,aA){var aB=this,az=this.internal;az.mapToTargetIds(ay).forEach(function(aC){az.isTargetToShow(aC)?aB.hide(aC,aA):aB.show(aC,aA)})};D.zoom=function(az){var ay=this.internal;if(az){if(ay.isTimeSeries()){az=az.map(function(aA){return ay.parseDate(aA)})}ay.brush.extent(az);ay.redraw({withUpdateXDomain:true,withY:ay.config.zoom_rescale});ay.config.zoom_onzoom.call(this,ay.x.orgDomain())}return ay.brush.extent()};D.zoom.enable=function(az){var ay=this.internal;ay.config.zoom_enabled=az;ay.updateAndRedraw()};D.unzoom=function(){var ay=this.internal;ay.brush.clear().update();ay.redraw({withUpdateXDomain:true})};D.zoom.max=function(ay){var az=this.internal,aA=az.config,aB=az.d3;if(ay===0||ay){aA.zoom_x_max=aB.max([az.orgXDomain[1],ay])}else{return aA.zoom_x_max}};D.zoom.min=function(aA){var ay=this.internal,az=ay.config,aB=ay.d3;if(aA===0||aA){az.zoom_x_min=aB.min([ay.orgXDomain[0],aA])}else{return az.zoom_x_min}};D.zoom.range=function(ay){if(arguments.length){if(K(ay.max)){this.domain.max(ay.max)}if(K(ay.min)){this.domain.min(ay.min)}}else{return{max:this.domain.max(),min:this.domain.min()}}};D.load=function(aA){var ay=this.internal,az=ay.config;if(aA.xs){ay.addXs(aA.xs)}if("names" in aA){D.data.names.bind(this)(aA.names)}if("classes" in aA){Object.keys(aA.classes).forEach(function(aB){az.data_classes[aB]=aA.classes[aB]})}if("categories" in aA&&ay.isCategorized()){az.axis_x_categories=aA.categories}if("axes" in aA){Object.keys(aA.axes).forEach(function(aB){az.data_axes[aB]=aA.axes[aB]})}if("colors" in aA){Object.keys(aA.colors).forEach(function(aB){az.data_colors[aB]=aA.colors[aB]})}if("cacheIds" in aA&&ay.hasCaches(aA.cacheIds)){ay.load(ay.getCaches(aA.cacheIds),aA.done);return}if("unload" in aA){ay.unload(ay.mapToTargetIds((typeof aA.unload==="boolean"&&aA.unload)?null:aA.unload),function(){ay.loadFromArgs(aA)})}else{ay.loadFromArgs(aA)}};D.unload=function(az){var ay=this.internal;az=az||{};if(az instanceof Array){az={ids:az}}else{if(typeof az==="string"){az={ids:[az]}}}ay.unload(ay.mapToTargetIds(az.ids),function(){ay.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true,withLegend:true});if(az.done){az.done()}})};D.flow=function(aG){var aL=this.internal,aE,aD,aB=[],aH=aL.getMaxDataCount(),aI,aC,az,ay,aA=0,aF=0,aK,aJ;if(aG.json){aD=aL.convertJsonToData(aG.json,aG.keys)}else{if(aG.rows){aD=aL.convertRowsToData(aG.rows)}else{if(aG.columns){aD=aL.convertColumnsToData(aG.columns)}else{return}}}aE=aL.convertDataToTargets(aD,true);aL.data.targets.forEach(function(aO){var aP=false,aN,aM;for(aN=0;aN<aE.length;aN++){if(aO.id===aE[aN].id){aP=true;if(aO.values[aO.values.length-1]){aF=aO.values[aO.values.length-1].index+1}aA=aE[aN].values.length;for(aM=0;aM<aA;aM++){aE[aN].values[aM].index=aF+aM;if(!aL.isTimeSeries()){aE[aN].values[aM].x=aF+aM}}aO.values=aO.values.concat(aE[aN].values);aE.splice(aN,1);break}}if(!aP){aB.push(aO.id)}});aL.data.targets.forEach(function(aO){var aN,aM;for(aN=0;aN<aB.length;aN++){if(aO.id===aB[aN]){aF=aO.values[aO.values.length-1].index+1;for(aM=0;aM<aA;aM++){aO.values.push({id:aO.id,index:aF+aM,x:aL.isTimeSeries()?aL.getOtherTargetX(aF+aM):aF+aM,value:null})}}}});if(aL.data.targets.length){aE.forEach(function(aO){var aN,aM=[];for(aN=aL.data.targets[0].values[0].index;aN<aF;aN++){aM.push({id:aO.id,index:aN,x:aL.isTimeSeries()?aL.getOtherTargetX(aN):aN,value:null})}aO.values.forEach(function(aP){aP.index+=aF;if(!aL.isTimeSeries()){aP.x+=aF}});aO.values=aM.concat(aO.values)})}aL.data.targets=aL.data.targets.concat(aE);aI=aL.getMaxDataCount();az=aL.data.targets[0];ay=az.values[0];if(K(aG.to)){aA=0;aJ=aL.isTimeSeries()?aL.parseDate(aG.to):aG.to;az.values.forEach(function(aM){if(aM.x<aJ){aA++}})}else{if(K(aG.length)){aA=aG.length}}if(!aH){if(aL.isTimeSeries()){if(az.values.length>1){aK=az.values[az.values.length-1].x-ay.x}else{aK=ay.x-aL.getXDomain(aL.data.targets)[0]}}else{aK=1}aC=[ay.x-aK,ay.x];aL.updateXDomain(null,true,true,false,aC)}else{if(aH===1){if(aL.isTimeSeries()){aK=(az.values[az.values.length-1].x-ay.x)/2;aC=[new Date(+ay.x-aK),new Date(+ay.x+aK)];aL.updateXDomain(null,true,true,false,aC)}}}aL.updateTargets(aL.data.targets);aL.redraw({flow:{index:ay.index,length:aA,duration:k(aG.duration)?aG.duration:aL.config.transition_duration,done:aG.done,orgDataCount:aH,},withLegend:true,withTransition:aH>1,withTrimXDomain:false,withUpdateXAxis:true,})};H.generateFlow=function(aA){var ay=this,az=ay.config,aB=ay.d3;return function(){var a3=aA.targets,aL=aA.flow,aY=aA.drawBar,aS=aA.drawLine,a2=aA.drawArea,aI=aA.cx,aG=aA.cy,aN=aA.xv,aH=aA.xForText,aW=aA.yForText,aD=aA.duration;var a6,a1=1,aQ,aC=aL.index,aR=aL.length,a4=ay.getValueOnIndex(ay.data.targets[0].values,aC),aO=ay.getValueOnIndex(ay.data.targets[0].values,aC+aR),aV=ay.x.domain(),a5,aM=aL.duration||aD,aU=aL.done||function(){},aX=ay.generateWait();var aE=ay.xgrid||aB.selectAll([]),a0=ay.xgridLines||aB.selectAll([]),aK=ay.mainRegion||aB.selectAll([]),aJ=ay.mainText||aB.selectAll([]),aT=ay.mainBar||aB.selectAll([]),aF=ay.mainLine||aB.selectAll([]),aP=ay.mainArea||aB.selectAll([]),aZ=ay.mainCircle||aB.selectAll([]);ay.flowing=true;ay.data.targets.forEach(function(a7){a7.values.splice(0,aR)});a5=ay.updateXDomain(a3,true,true);if(ay.updateXGrid){ay.updateXGrid(true)}if(!aL.orgDataCount){if(ay.data.targets[0].values.length!==1){a6=ay.x(aV[0])-ay.x(a5[0])}else{if(ay.isTimeSeries()){a4=ay.getValueOnIndex(ay.data.targets[0].values,0);aO=ay.getValueOnIndex(ay.data.targets[0].values,ay.data.targets[0].values.length-1);a6=ay.x(a4.x)-ay.x(aO.x)}else{a6=P(a5)/2}}}else{if(aL.orgDataCount===1||(a4&&a4.x)===(aO&&aO.x)){a6=ay.x(aV[0])-ay.x(a5[0])}else{if(ay.isTimeSeries()){a6=(ay.x(aV[0])-ay.x(a5[0]))}else{a6=(ay.x(a4.x)-ay.x(aO.x))}}}a1=(P(aV)/P(a5));aQ="translate("+a6+",0) scale("+a1+",1)";ay.hideXGridFocus();aB.transition().ease("linear").duration(aM).each(function(){aX.add(ay.axes.x.transition().call(ay.xAxis));aX.add(aT.transition().attr("transform",aQ));aX.add(aF.transition().attr("transform",aQ));aX.add(aP.transition().attr("transform",aQ));aX.add(aZ.transition().attr("transform",aQ));aX.add(aJ.transition().attr("transform",aQ));aX.add(aK.filter(ay.isRegionOnX).transition().attr("transform",aQ));aX.add(aE.transition().attr("transform",aQ));aX.add(a0.transition().attr("transform",aQ))}).call(aX,function(){var a9,a7=[],ba=[],a8=[];if(aR){for(a9=0;a9<aR;a9++){a7.push("."+F.shape+"-"+(aC+a9));ba.push("."+F.text+"-"+(aC+a9));a8.push("."+F.eventRect+"-"+(aC+a9))}ay.svg.selectAll("."+F.shapes).selectAll(a7).remove();ay.svg.selectAll("."+F.texts).selectAll(ba).remove();ay.svg.selectAll("."+F.eventRects).selectAll(a8).remove();ay.svg.select("."+F.xgrid).remove()}aE.attr("transform",null).attr(ay.xgridAttr);a0.attr("transform",null);a0.select("line").attr("x1",az.axis_rotated?0:aN).attr("x2",az.axis_rotated?ay.width:aN);a0.select("text").attr("x",az.axis_rotated?ay.width:0).attr("y",aN);aT.attr("transform",null).attr("d",aY);aF.attr("transform",null).attr("d",aS);aP.attr("transform",null).attr("d",a2);aZ.attr("transform",null).attr("cx",aI).attr("cy",aG);aJ.attr("transform",null).attr("x",aH).attr("y",aW).style("fill-opacity",ay.opacityForText.bind(ay));aK.attr("transform",null);aK.select("rect").filter(ay.isRegionOnX).attr("x",ay.regionX.bind(ay)).attr("width",ay.regionWidth.bind(ay));if(az.interaction_enabled){ay.redrawEventRect()}aU();ay.flowing=false})}};D.selected=function(az){var ay=this.internal,aA=ay.d3;return aA.merge(ay.main.selectAll("."+F.shapes+ay.getTargetSelectorSuffix(az)).selectAll("."+F.shape).filter(function(){return aA.select(this).classed(F.SELECTED)}).map(function(aB){return aB.map(function(aD){var aC=aD.__data__;return aC.data?aC.data:aC})}))};D.select=function(aC,aD,aB){var ay=this.internal,aA=ay.d3,az=ay.config;if(!az.data_selection_enabled){return}ay.main.selectAll("."+F.shapes).selectAll("."+F.shape).each(function(aK,aI){var aG=aA.select(this),aL=aK.data?aK.data.id:aK.id,aE=ay.getToggle(this,aK).bind(ay),aF=az.data_selection_grouped||!aC||aC.indexOf(aL)>=0,aJ=!aD||aD.indexOf(aI)>=0,aH=aG.classed(F.SELECTED);if(aG.classed(F.line)||aG.classed(F.area)){return}if(aF&&aJ){if(az.data_selection_isselectable(aK)&&!aH){aE(true,aG.classed(F.SELECTED,true),aK,aI)}}else{if(K(aB)&&aB){if(aH){aE(false,aG.classed(F.SELECTED,false),aK,aI)}}}})};D.unselect=function(aB,aC){var ay=this.internal,aA=ay.d3,az=ay.config;if(!az.data_selection_enabled){return}ay.main.selectAll("."+F.shapes).selectAll("."+F.shape).each(function(aJ,aH){var aF=aA.select(this),aK=aJ.data?aJ.data.id:aJ.id,aD=ay.getToggle(this,aJ).bind(ay),aE=az.data_selection_grouped||!aB||aB.indexOf(aK)>=0,aI=!aC||aC.indexOf(aH)>=0,aG=aF.classed(F.SELECTED);if(aF.classed(F.line)||aF.classed(F.area)){return}if(aE&&aI){if(az.data_selection_isselectable(aJ)){if(aG){aD(false,aF.classed(F.SELECTED,false),aJ,aH)}}}})};D.transform=function(aB,ay){var az=this.internal,aA=["pie","donut"].indexOf(aB)>=0?{withTransform:true}:null;az.transformTo(ay,aB,aA)};H.transformTo=function(az,aC,ay){var aA=this,aD=!aA.hasArcType(),aB=ay||{withTransitionForAxis:aD};aB.withTransitionForTransform=false;aA.transiting=false;aA.setTargetType(az,aC);aA.updateTargets(aA.data.targets);aA.updateAndRedraw(aB)};D.groups=function(ay){var az=this.internal,aA=az.config;if(G(ay)){return aA.data_groups}aA.data_groups=ay;az.redraw();return aA.data_groups};D.xgrids=function(aA){var ay=this.internal,az=ay.config;if(!aA){return az.grid_x_lines}az.grid_x_lines=aA;ay.redrawWithoutRescale();return az.grid_x_lines};D.xgrids.add=function(az){var ay=this.internal;return this.xgrids(ay.config.grid_x_lines.concat(az?az:[]))};D.xgrids.remove=function(az){var ay=this.internal;ay.removeGridLines(az,true)};D.ygrids=function(aA){var ay=this.internal,az=ay.config;if(!aA){return az.grid_y_lines}az.grid_y_lines=aA;ay.redrawWithoutRescale();return az.grid_y_lines};D.ygrids.add=function(az){var ay=this.internal;return this.ygrids(ay.config.grid_y_lines.concat(az?az:[]))};D.ygrids.remove=function(az){var ay=this.internal;ay.removeGridLines(az,false)};D.regions=function(aA){var ay=this.internal,az=ay.config;if(!aA){return az.regions}az.regions=aA;ay.redrawWithoutRescale();return az.regions};D.regions.add=function(aA){var ay=this.internal,az=ay.config;if(!aA){return az.regions}az.regions=az.regions.concat(aA);ay.redrawWithoutRescale();return az.regions};D.regions.remove=function(aA){var ay=this.internal,az=ay.config,aC,aB,aD;aA=aA||{};aC=ay.getOption(aA,"duration",az.transition_duration);aB=ay.getOption(aA,"classes",[F.region]);aD=ay.main.select("."+F.regions).selectAll(aB.map(function(aE){return"."+aE}));(aC?aD.transition().duration(aC):aD).style("opacity",0).remove();az.regions=az.regions.filter(function(aF){var aE=false;if(!aF["class"]){return true}aF["class"].split(" ").forEach(function(aG){if(aB.indexOf(aG)>=0){aE=true}});return !aE});return az.regions};D.data=function(az){var ay=this.internal.data.targets;return typeof az==="undefined"?ay:ay.filter(function(aA){return[].concat(az).indexOf(aA.id)>=0})};D.data.shown=function(ay){return this.internal.filterTargetsToShow(this.data(ay))};D.data.values=function(aA){var ay,az=null;if(aA){ay=this.data(aA);az=ay[0]?ay[0].values.map(function(aB){return aB.value}):null}return az};D.data.names=function(ay){this.internal.clearLegendItemTextBoxCache();return this.internal.updateDataAttributes("names",ay)};D.data.colors=function(ay){return this.internal.updateDataAttributes("colors",ay)};D.data.axes=function(ay){return this.internal.updateDataAttributes("axes",ay)};D.category=function(aA,aB){var ay=this.internal,az=ay.config;if(arguments.length>1){az.axis_x_categories[aA]=aB;ay.redraw()}return az.axis_x_categories[aA]};D.categories=function(az){var ay=this.internal,aA=ay.config;if(!arguments.length){return aA.axis_x_categories}aA.axis_x_categories=az;ay.redraw();return aA.axis_x_categories};D.color=function(az){var ay=this.internal;return ay.color(az)};D.x=function(ay){var az=this.internal;if(arguments.length){az.updateTargetX(az.data.targets,ay);az.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true})}return az.data.xs};D.xs=function(az){var ay=this.internal;if(arguments.length){ay.updateTargetXs(ay.data.targets,az);ay.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true})}return ay.data.xs};D.axis=function(){};D.axis.labels=function(az){var ay=this.internal;if(arguments.length){Object.keys(az).forEach(function(aA){ay.axis.setLabelText(aA,az[aA])});ay.axis.updateLabels()}};D.axis.max=function(ay){var az=this.internal,aA=az.config;if(arguments.length){if(typeof ay==="object"){if(k(ay.x)){aA.axis_x_max=ay.x}if(k(ay.y)){aA.axis_y_max=ay.y}if(k(ay.y2)){aA.axis_y2_max=ay.y2}}else{aA.axis_y_max=aA.axis_y2_max=ay}az.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true})}else{return{x:aA.axis_x_max,y:aA.axis_y_max,y2:aA.axis_y2_max}}};D.axis.min=function(aA){var ay=this.internal,az=ay.config;if(arguments.length){if(typeof aA==="object"){if(k(aA.x)){az.axis_x_min=aA.x}if(k(aA.y)){az.axis_y_min=aA.y}if(k(aA.y2)){az.axis_y2_min=aA.y2}}else{az.axis_y_min=az.axis_y2_min=aA}ay.redraw({withUpdateOrgXDomain:true,withUpdateXDomain:true})}else{return{x:az.axis_x_min,y:az.axis_y_min,y2:az.axis_y2_min}}};D.axis.range=function(ay){if(arguments.length){if(K(ay.max)){this.axis.max(ay.max)}if(K(ay.min)){this.axis.min(ay.min)}}else{return{max:this.axis.max(),min:this.axis.min()}}};D.legend=function(){};D.legend.show=function(ay){var az=this.internal;az.showLegend(az.mapToTargetIds(ay));az.updateAndRedraw({withLegend:true})};D.legend.hide=function(ay){var az=this.internal;az.hideLegend(az.mapToTargetIds(ay));az.updateAndRedraw({withLegend:true})};D.resize=function(aA){var ay=this.internal,az=ay.config;az.size_width=aA?aA.width:null;az.size_height=aA?aA.height:null;this.flush()};D.flush=function(){var ay=this.internal;ay.updateAndRedraw({withLegend:true,withTransition:false,withTransitionForTransform:false})};D.destroy=function(){var ay=this.internal;af.clearInterval(ay.intervalForObserveInserted);if(ay.resizeTimeout!==undefined){af.clearTimeout(ay.resizeTimeout)}if(af.detachEvent){af.detachEvent("onresize",ay.resizeFunction)}else{if(af.removeEventListener){af.removeEventListener("resize",ay.resizeFunction)}else{var az=af.onresize;if(az&&az.add&&az.remove){az.remove(ay.resizeFunction)}}}ay.selectChart.classed("c3",false).html("");Object.keys(ay).forEach(function(aA){ay[aA]=null});return null};D.tooltip=function(){};D.tooltip.show=function(aB){var ay=this.internal,aA,az;if(aB.mouse){az=aB.mouse}if(aB.data){if(ay.isMultipleX()){az=[ay.x(aB.data.x),ay.getYScale(aB.data.id)(aB.data.value)];aA=null}else{aA=k(aB.data.index)?aB.data.index:ay.getIndexByX(aB.data.x)}}else{if(typeof aB.x!=="undefined"){aA=ay.getIndexByX(aB.x)}else{if(typeof aB.index!=="undefined"){aA=aB.index}}}ay.dispatchEvent("mouseover",aA,az);ay.dispatchEvent("mousemove",aA,az);ay.config.tooltip_onshow.call(ay,aB.data)};D.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0);this.internal.config.tooltip_onhide.call(this)};var au;function d(aS,aP){var aT=aS.scale.linear(),aJ="bottom",aH=6,aF,aN=3,ay=null,aM,aD;var aE=0,aO=true,aG;aP=aP||{};aF=aP.withOuterTick?6:0;function aB(aV,aU){aV.attr("transform",function(aW){return"translate("+Math.ceil(aU(aW)+aE)+", 0)"})}function aA(aU,aV){aU.attr("transform",function(aW){return"translate(0,"+Math.ceil(aV(aW))+")"})}function az(aV){var aW=aV[0],aU=aV[aV.length-1];return aW<aU?[aW,aU]:[aU,aW]}function aR(aX){var aU,aW,aV=[];if(aX.ticks){return aX.ticks.apply(aX,aD)}aW=aX.domain();for(aU=Math.ceil(aW[0]);aU<aW[1];aU++){aV.push(aU)}if(aV.length>0&&aV[0]>0){aV.unshift(aV[0]-(aV[1]-aV[0]))}return aV}function aI(){var aV=aT.copy(),aU;if(aP.isCategory){aU=aT.domain();aV.domain([aU[0],aU[1]-1])}return aV}function aL(aU){var aV=aM?aM(aU):aU;return typeof aV!=="undefined"?aV:""}function aK(aV){if(au){return au}var aU={h:11.5,w:5.5};aV.select("text").text(aL).each(function(a0){var aY=this.getBoundingClientRect(),aZ=aL(a0),aX=aY.height,aW=aZ?(aY.width/aZ.length):undefined;if(aX&&aW){aU.h=aX;aU.w=aW}}).text("");au=aU;return aU}function aQ(aU){return aP.withoutTransition?aU:aS.transition(aU)}function aC(aU){aU.each(function(){var bm=aC.g=aS.select(this);var bi=this.__chart__||aT,bg=this.__chart__=aI();var bq=ay?ay:aR(bg),bj=bm.selectAll(".tick").data(bq,bg),ba=bj.enter().insert("g",".domain").attr("class","tick").style("opacity",0.000001),bf=bj.exit().remove(),a0=aQ(bj).style("opacity",1),aV,a8,a6;var a9=aT.rangeExtent?aT.rangeExtent():az(aT.range()),bd=bm.selectAll(".domain").data([0]),bs=(bd.enter().append("path").attr("class","domain"),aQ(bd));ba.append("line");ba.append("text");var aY=ba.select("line"),bo=a0.select("line"),a1=ba.select("text"),bl=a0.select("text");if(aP.isCategory){aE=Math.ceil((bg(1)-bg(0))/2);a8=aG?0:aE;a6=aG?aE:0}else{aE=a8=0}var a7,a2,br=aK(bm.select(".tick")),bn=[];var aW=Math.max(aH,0)+aN,a3=aJ==="left"||aJ==="right";function aX(bz,bx){var bt=aL(bz),bv,bw,by,bA=[];if(Object.prototype.toString.call(bt)==="[object Array]"){return bt}if(!bx||bx<=0){bx=a3?95:aP.isCategory?(Math.ceil(bg(bq[1])-bg(bq[0]))-12):110}function bu(bD,bC){bw=undefined;for(var bB=1;bB<bC.length;bB++){if(bC.charAt(bB)===" "){bw=bB}bv=bC.substr(0,bB+1);by=br.w*bv.length;if(bx<by){return bu(bD.concat(bC.substr(0,bw?bw:bB)),bC.slice(bw?bw+1:bB))}}return bD.concat(bC)}return bu(bA,bt+"")}function bc(bv,bu){var bt=br.h;if(bu===0){if(aJ==="left"||aJ==="right"){bt=-((bn[bv.index]-1)*(br.h/2)-3)}else{bt=".71em"}}return bt}function bb(bu){var bt=aT(bu)+(aG?0:aE);return a9[0]<bt&&bt<a9[1]?aH:0}a7=bj.select("text");a2=a7.selectAll("tspan").data(function(bu,bt){var bv=aP.tickMultiline?aX(bu,aP.tickWidth):[].concat(aL(bu));bn[bt]=bv.length;return bv.map(function(bw){return{index:bt,splitted:bw}})});a2.enter().append("tspan");a2.exit().remove();a2.text(function(bt){return bt.splitted});var bh=aP.tickTextRotate;function bk(bt){if(!bt){return"middle"}return bt>0?"start":"end"}function bp(bt){if(!bt){return""}return"rotate("+bt+")"}function aZ(bt){if(!bt){return 0}return 8*Math.sin(Math.PI*(bt/180))}function be(bt){if(!bt){return aW}return 11.5-2.5*(bt/15)*(bt>0?1:-1)}switch(aJ){case"bottom":aV=aB;aY.attr("y2",aH);a1.attr("y",aW);bo.attr("x1",a8).attr("x2",a8).attr("y2",bb);bl.attr("x",0).attr("y",be(bh)).style("text-anchor",bk(bh)).attr("transform",bp(bh));a2.attr("x",0).attr("dy",bc).attr("dx",aZ(bh));bs.attr("d","M"+a9[0]+","+aF+"V0H"+a9[1]+"V"+aF);break;case"top":aV=aB;aY.attr("y2",-aH);a1.attr("y",-aW);bo.attr("x2",0).attr("y2",-aH);bl.attr("x",0).attr("y",-aW);a7.style("text-anchor","middle");a2.attr("x",0).attr("dy","0em");bs.attr("d","M"+a9[0]+","+-aF+"V0H"+a9[1]+"V"+-aF);break;case"left":aV=aA;aY.attr("x2",-aH);a1.attr("x",-aW);bo.attr("x2",-aH).attr("y1",a6).attr("y2",a6);bl.attr("x",-aW).attr("y",aE);a7.style("text-anchor","end");a2.attr("x",-aW).attr("dy",bc);bs.attr("d","M"+-aF+","+a9[0]+"H0V"+a9[1]+"H"+-aF);break;case"right":aV=aA;aY.attr("x2",aH);a1.attr("x",aW);bo.attr("x2",aH).attr("y2",0);bl.attr("x",aW).attr("y",0);a7.style("text-anchor","start");a2.attr("x",aW).attr("dy",bc);bs.attr("d","M"+aF+","+a9[0]+"H0V"+a9[1]+"H"+aF);break}if(bg.rangeBand){var a4=bg,a5=a4.rangeBand()/2;bi=bg=function(bt){return a4(bt)+a5}}else{if(bi.rangeBand){bi=bg}else{bf.call(aV,bg)}}ba.call(aV,bi);a0.call(aV,bg)})}aC.scale=function(aU){if(!arguments.length){return aT}aT=aU;return aC};aC.orient=function(aU){if(!arguments.length){return aJ}aJ=aU in {top:1,right:1,bottom:1,left:1}?aU+"":"bottom";return aC};aC.tickFormat=function(aU){if(!arguments.length){return aM}aM=aU;return aC};aC.tickCentered=function(aU){if(!arguments.length){return aG}aG=aU;return aC};aC.tickOffset=function(){return aE};aC.tickInterval=function(){var aU,aV;if(aP.isCategory){aU=aE*2}else{aV=aC.g.select("path.domain").node().getTotalLength()-aF*2;aU=aV/aC.g.selectAll("line").size()}return aU===Infinity?0:aU};aC.ticks=function(){if(!arguments.length){return aD}aD=arguments;return aC};aC.tickCulling=function(aU){if(!arguments.length){return aO}aO=aU;return aC};aC.tickValues=function(aU){if(typeof aU==="function"){ay=function(){return aU(aT.domain())}}else{if(!arguments.length){return ay}ay=aU}return aC};return aC}H.isSafari=function(){var ay=af.navigator.userAgent;return ay.indexOf("Safari")>=0&&ay.indexOf("Chrome")<0};H.isChrome=function(){var ay=af.navigator.userAgent;return ay.indexOf("Chrome")>=0};if(!Function.prototype.bind){Function.prototype.bind=function(ay){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var aC=Array.prototype.slice.call(arguments,1),aB=this,az=function(){},aA=function(){return aB.apply(this instanceof az?this:ay,aC.concat(Array.prototype.slice.call(arguments)))};az.prototype=this.prototype;aA.prototype=new az();return aA}}(function(){if(!("SVGPathSeg" in af)){af.SVGPathSeg=function(az,aA,ay){this.pathSegType=az;this.pathSegTypeAsLetter=aA;this._owningPathSegList=ay};SVGPathSeg.PATHSEG_UNKNOWN=0;SVGPathSeg.PATHSEG_CLOSEPATH=1;SVGPathSeg.PATHSEG_MOVETO_ABS=2;SVGPathSeg.PATHSEG_MOVETO_REL=3;SVGPathSeg.PATHSEG_LINETO_ABS=4;SVGPathSeg.PATHSEG_LINETO_REL=5;SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6;SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7;SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8;SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9;SVGPathSeg.PATHSEG_ARC_ABS=10;SVGPathSeg.PATHSEG_ARC_REL=11;SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12;SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13;SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14;SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15;SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16;SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17;SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18;SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19;SVGPathSeg.prototype._segmentChanged=function(){if(this._owningPathSegList){this._owningPathSegList.segmentChanged(this)}};af.SVGPathSegClosePath=function(ay){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CLOSEPATH,"z",ay)};SVGPathSegClosePath.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"};SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter};SVGPathSegClosePath.prototype.clone=function(){return new SVGPathSegClosePath(undefined)};af.SVGPathSegMovetoAbs=function(az,ay,aA){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_ABS,"M",az);this._x=ay;this._y=aA};SVGPathSegMovetoAbs.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"};SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};SVGPathSegMovetoAbs.prototype.clone=function(){return new SVGPathSegMovetoAbs(undefined,this._x,this._y)};Object.defineProperty(SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(ay){this._x=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(ay){this._y=ay;this._segmentChanged()},enumerable:true});af.SVGPathSegMovetoRel=function(az,ay,aA){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_REL,"m",az);this._x=ay;this._y=aA};SVGPathSegMovetoRel.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"};SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};SVGPathSegMovetoRel.prototype.clone=function(){return new SVGPathSegMovetoRel(undefined,this._x,this._y)};Object.defineProperty(SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(ay){this._x=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(ay){this._y=ay;this._segmentChanged()},enumerable:true});af.SVGPathSegLinetoAbs=function(az,ay,aA){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_ABS,"L",az);this._x=ay;this._y=aA};SVGPathSegLinetoAbs.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"};SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};SVGPathSegLinetoAbs.prototype.clone=function(){return new SVGPathSegLinetoAbs(undefined,this._x,this._y)};Object.defineProperty(SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(ay){this._x=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(ay){this._y=ay;this._segmentChanged()},enumerable:true});af.SVGPathSegLinetoRel=function(az,ay,aA){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_REL,"l",az);this._x=ay;this._y=aA};SVGPathSegLinetoRel.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"};SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};SVGPathSegLinetoRel.prototype.clone=function(){return new SVGPathSegLinetoRel(undefined,this._x,this._y)};Object.defineProperty(SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(ay){this._x=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(ay){this._y=ay;this._segmentChanged()},enumerable:true});af.SVGPathSegCurvetoCubicAbs=function(aB,ay,aE,aA,aD,az,aC){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",aB);this._x=ay;this._y=aE;this._x1=aA;this._y1=aD;this._x2=az;this._y2=aC};SVGPathSegCurvetoCubicAbs.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"};SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y};SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicAbs(undefined,this._x,this._y,this._x1,this._y1,this._x2,this._y2)};Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(ay){this._x=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(ay){this._y=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(ay){this._x1=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(ay){this._y1=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(ay){this._x2=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(ay){this._y2=ay;this._segmentChanged()},enumerable:true});af.SVGPathSegCurvetoCubicRel=function(aB,ay,aE,aA,aD,az,aC){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",aB);this._x=ay;this._y=aE;this._x1=aA;this._y1=aD;this._x2=az;this._y2=aC};SVGPathSegCurvetoCubicRel.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"};SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y};SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicRel(undefined,this._x,this._y,this._x1,this._y1,this._x2,this._y2)};Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(ay){this._x=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(ay){this._y=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(ay){this._x1=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(ay){this._y1=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(ay){this._x2=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(ay){this._y2=ay;this._segmentChanged()},enumerable:true});af.SVGPathSegCurvetoQuadraticAbs=function(aA,ay,aC,az,aB){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",aA);this._x=ay;this._y=aC;this._x1=az;this._y1=aB};SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"};SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y};SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticAbs(undefined,this._x,this._y,this._x1,this._y1)};Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(ay){this._x=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(ay){this._y=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(ay){this._x1=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(ay){this._y1=ay;this._segmentChanged()},enumerable:true});af.SVGPathSegCurvetoQuadraticRel=function(aA,ay,aC,az,aB){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",aA);this._x=ay;this._y=aC;this._x1=az;this._y1=aB};SVGPathSegCurvetoQuadraticRel.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"};SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y};SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticRel(undefined,this._x,this._y,this._x1,this._y1)};Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(ay){this._x=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(ay){this._y=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(ay){this._x1=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(ay){this._y1=ay;this._segmentChanged()},enumerable:true});af.SVGPathSegArcAbs=function(aB,ay,aF,aA,az,aE,aD,aC){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_ABS,"A",aB);this._x=ay;this._y=aF;this._r1=aA;this._r2=az;this._angle=aE;this._largeArcFlag=aD;this._sweepFlag=aC};SVGPathSegArcAbs.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"};SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y};SVGPathSegArcAbs.prototype.clone=function(){return new SVGPathSegArcAbs(undefined,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)};Object.defineProperty(SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(ay){this._x=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(ay){this._y=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(ay){this._r1=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(ay){this._r2=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(ay){this._angle=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(ay){this._largeArcFlag=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(ay){this._sweepFlag=ay;this._segmentChanged()},enumerable:true});af.SVGPathSegArcRel=function(aB,ay,aF,aA,az,aE,aD,aC){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_REL,"a",aB);this._x=ay;this._y=aF;this._r1=aA;this._r2=az;this._angle=aE;this._largeArcFlag=aD;this._sweepFlag=aC};SVGPathSegArcRel.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"};SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y};SVGPathSegArcRel.prototype.clone=function(){return new SVGPathSegArcRel(undefined,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)};Object.defineProperty(SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(ay){this._x=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(ay){this._y=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(ay){this._r1=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(ay){this._r2=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(ay){this._angle=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(ay){this._largeArcFlag=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(ay){this._sweepFlag=ay;this._segmentChanged()},enumerable:true});af.SVGPathSegLinetoHorizontalAbs=function(az,ay){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",az);this._x=ay};SVGPathSegLinetoHorizontalAbs.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"};SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x};SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new SVGPathSegLinetoHorizontalAbs(undefined,this._x)};Object.defineProperty(SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(ay){this._x=ay;this._segmentChanged()},enumerable:true});af.SVGPathSegLinetoHorizontalRel=function(az,ay){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",az);this._x=ay};SVGPathSegLinetoHorizontalRel.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"};SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x};SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new SVGPathSegLinetoHorizontalRel(undefined,this._x)};Object.defineProperty(SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(ay){this._x=ay;this._segmentChanged()},enumerable:true});af.SVGPathSegLinetoVerticalAbs=function(ay,az){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",ay);this._y=az};SVGPathSegLinetoVerticalAbs.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"};SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y};SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new SVGPathSegLinetoVerticalAbs(undefined,this._y)};Object.defineProperty(SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(ay){this._y=ay;this._segmentChanged()},enumerable:true});af.SVGPathSegLinetoVerticalRel=function(ay,az){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",ay);this._y=az};SVGPathSegLinetoVerticalRel.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"};SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y};SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new SVGPathSegLinetoVerticalRel(undefined,this._y)};Object.defineProperty(SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(ay){this._y=ay;this._segmentChanged()},enumerable:true});af.SVGPathSegCurvetoCubicSmoothAbs=function(aA,ay,aC,az,aB){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",aA);this._x=ay;this._y=aC;this._x2=az;this._y2=aB};SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"};SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y};SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothAbs(undefined,this._x,this._y,this._x2,this._y2)};Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(ay){this._x=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(ay){this._y=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(ay){this._x2=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(ay){this._y2=ay;this._segmentChanged()},enumerable:true});af.SVGPathSegCurvetoCubicSmoothRel=function(aA,ay,aC,az,aB){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",aA);this._x=ay;this._y=aC;this._x2=az;this._y2=aB};SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"};SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y};SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothRel(undefined,this._x,this._y,this._x2,this._y2)};Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(ay){this._x=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(ay){this._y=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(ay){this._x2=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(ay){this._y2=ay;this._segmentChanged()},enumerable:true});af.SVGPathSegCurvetoQuadraticSmoothAbs=function(az,ay,aA){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",az);this._x=ay;this._y=aA};SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"};SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothAbs(undefined,this._x,this._y)};Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(ay){this._x=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(ay){this._y=ay;this._segmentChanged()},enumerable:true});af.SVGPathSegCurvetoQuadraticSmoothRel=function(az,ay,aA){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",az);this._x=ay;this._y=aA};SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(SVGPathSeg.prototype);SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"};SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y};SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothRel(undefined,this._x,this._y)};Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(ay){this._x=ay;this._segmentChanged()},enumerable:true});Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(ay){this._y=ay;this._segmentChanged()},enumerable:true});SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new SVGPathSegClosePath(undefined)};SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(ay,az){return new SVGPathSegMovetoAbs(undefined,ay,az)};SVGPathElement.prototype.createSVGPathSegMovetoRel=function(ay,az){return new SVGPathSegMovetoRel(undefined,ay,az)};SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(ay,az){return new SVGPathSegLinetoAbs(undefined,ay,az)};SVGPathElement.prototype.createSVGPathSegLinetoRel=function(ay,az){return new SVGPathSegLinetoRel(undefined,ay,az)};SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(ay,aD,aA,aC,az,aB){return new SVGPathSegCurvetoCubicAbs(undefined,ay,aD,aA,aC,az,aB)};SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(ay,aD,aA,aC,az,aB){return new SVGPathSegCurvetoCubicRel(undefined,ay,aD,aA,aC,az,aB)};SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(ay,aB,az,aA){return new SVGPathSegCurvetoQuadraticAbs(undefined,ay,aB,az,aA)};SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(ay,aB,az,aA){return new SVGPathSegCurvetoQuadraticRel(undefined,ay,aB,az,aA)};SVGPathElement.prototype.createSVGPathSegArcAbs=function(ay,aE,aA,az,aD,aC,aB){return new SVGPathSegArcAbs(undefined,ay,aE,aA,az,aD,aC,aB)};SVGPathElement.prototype.createSVGPathSegArcRel=function(ay,aE,aA,az,aD,aC,aB){return new SVGPathSegArcRel(undefined,ay,aE,aA,az,aD,aC,aB)};SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(ay){return new SVGPathSegLinetoHorizontalAbs(undefined,ay)};SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(ay){return new SVGPathSegLinetoHorizontalRel(undefined,ay)};SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(ay){return new SVGPathSegLinetoVerticalAbs(undefined,ay)};SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(ay){return new SVGPathSegLinetoVerticalRel(undefined,ay)};SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(ay,aB,az,aA){return new SVGPathSegCurvetoCubicSmoothAbs(undefined,ay,aB,az,aA)};SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(ay,aB,az,aA){return new SVGPathSegCurvetoCubicSmoothRel(undefined,ay,aB,az,aA)};SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(ay,az){return new SVGPathSegCurvetoQuadraticSmoothAbs(undefined,ay,az)};SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(ay,az){return new SVGPathSegCurvetoQuadraticSmoothRel(undefined,ay,az)}}if(!("SVGPathSegList" in af)){af.SVGPathSegList=function(ay){this._pathElement=ay;this._list=this._parsePath(this._pathElement.getAttribute("d"));this._mutationObserverConfig={attributes:true,attributeFilter:["d"]};this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this));this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)};Object.defineProperty(SVGPathSegList.prototype,"numberOfItems",{get:function(){this._checkPathSynchronizedToList();return this._list.length},enumerable:true});Object.defineProperty(SVGPathElement.prototype,"pathSegList",{get:function(){if(!this._pathSegList){this._pathSegList=new SVGPathSegList(this)}return this._pathSegList},enumerable:true});Object.defineProperty(SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:true});Object.defineProperty(SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:true});Object.defineProperty(SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:true});SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())};SVGPathSegList.prototype._updateListFromPathMutations=function(az){if(!this._pathElement){return}var ay=false;az.forEach(function(aA){if(aA.attributeName=="d"){ay=true}});if(ay){this._list=this._parsePath(this._pathElement.getAttribute("d"))}};SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect();this._pathElement.setAttribute("d",SVGPathSegList._pathSegArrayAsString(this._list));this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)};SVGPathSegList.prototype.segmentChanged=function(ay){this._writeListToPath()};SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList();this._list.forEach(function(ay){ay._owningPathSegList=null});this._list=[];this._writeListToPath()};SVGPathSegList.prototype.initialize=function(ay){this._checkPathSynchronizedToList();this._list=[ay];ay._owningPathSegList=this;this._writeListToPath();return ay};SVGPathSegList.prototype._checkValidIndex=function(ay){if(isNaN(ay)||ay<0||ay>=this.numberOfItems){throw"INDEX_SIZE_ERR"}};SVGPathSegList.prototype.getItem=function(ay){this._checkPathSynchronizedToList();this._checkValidIndex(ay);return this._list[ay]};SVGPathSegList.prototype.insertItemBefore=function(az,ay){this._checkPathSynchronizedToList();if(ay>this.numberOfItems){ay=this.numberOfItems}if(az._owningPathSegList){az=az.clone()}this._list.splice(ay,0,az);az._owningPathSegList=this;this._writeListToPath();return az};SVGPathSegList.prototype.replaceItem=function(az,ay){this._checkPathSynchronizedToList();if(az._owningPathSegList){az=az.clone()}this._checkValidIndex(ay);this._list[ay]=az;az._owningPathSegList=this;this._writeListToPath();return az};SVGPathSegList.prototype.removeItem=function(ay){this._checkPathSynchronizedToList();this._checkValidIndex(ay);var az=this._list[ay];this._list.splice(ay,1);this._writeListToPath();return az};SVGPathSegList.prototype.appendItem=function(ay){this._checkPathSynchronizedToList();if(ay._owningPathSegList){ay=ay.clone()}this._list.push(ay);ay._owningPathSegList=this;this._writeListToPath();return ay};SVGPathSegList._pathSegArrayAsString=function(az){var ay="";var aA=true;az.forEach(function(aB){if(aA){aA=false;ay+=aB._asPathString()}else{ay+=" "+aB._asPathString()}});return ay};SVGPathSegList.prototype._parsePath=function(aA){if(!aA||aA.length==0){return[]}var az=this;var aE=function(){this.pathSegList=[]};aE.prototype.appendSegment=function(aF){this.pathSegList.push(aF)};var aB=function(aF){this._string=aF;this._currentIndex=0;this._endIndex=this._string.length;this._previousCommand=SVGPathSeg.PATHSEG_UNKNOWN;this._skipOptionalSpaces()};aB.prototype._isCurrentSpace=function(){var aF=this._string[this._currentIndex];return aF<=" "&&(aF==" "||aF=="\n"||aF=="\t"||aF=="\r"||aF=="\f")};aB.prototype._skipOptionalSpaces=function(){while(this._currentIndex<this._endIndex&&this._isCurrentSpace()){this._currentIndex++}return this._currentIndex<this._endIndex};aB.prototype._skipOptionalSpacesOrDelimiter=function(){if(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string.charAt(this._currentIndex)!=","){return false}if(this._skipOptionalSpaces()){if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)==","){this._currentIndex++;this._skipOptionalSpaces()}}return this._currentIndex<this._endIndex};aB.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex};aB.prototype.peekSegmentType=function(){var aF=this._string[this._currentIndex];return this._pathSegTypeFromChar(aF)};aB.prototype._pathSegTypeFromChar=function(aF){switch(aF){case"Z":case"z":return SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return SVGPathSeg.PATHSEG_LINETO_REL;case"C":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return SVGPathSeg.PATHSEG_ARC_ABS;case"a":return SVGPathSeg.PATHSEG_ARC_REL;case"H":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return SVGPathSeg.PATHSEG_UNKNOWN}};aB.prototype._nextCommandHelper=function(aF,aG){if((aF=="+"||aF=="-"||aF=="."||(aF>="0"&&aF<="9"))&&aG!=SVGPathSeg.PATHSEG_CLOSEPATH){if(aG==SVGPathSeg.PATHSEG_MOVETO_ABS){return SVGPathSeg.PATHSEG_LINETO_ABS}if(aG==SVGPathSeg.PATHSEG_MOVETO_REL){return SVGPathSeg.PATHSEG_LINETO_REL}return aG}return SVGPathSeg.PATHSEG_UNKNOWN};aB.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData()){return true}var aF=this.peekSegmentType();return aF==SVGPathSeg.PATHSEG_MOVETO_ABS||aF==SVGPathSeg.PATHSEG_MOVETO_REL};aB.prototype._parseNumber=function(){var aN=0;var aL=0;var aG=1;var aK=0;var aH=1;var aF=1;var aO=this._currentIndex;this._skipOptionalSpaces();if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="+"){this._currentIndex++}else{if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="-"){this._currentIndex++;aH=-1}}if(this._currentIndex==this._endIndex||((this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&this._string.charAt(this._currentIndex)!=".")){return undefined}var aM=this._currentIndex;while(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9"){this._currentIndex++}if(this._currentIndex!=aM){var aJ=this._currentIndex-1;var aP=1;while(aJ>=aM){aL+=aP*(this._string.charAt(aJ--)-"0");aP*=10}}if(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)=="."){this._currentIndex++;if(this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9"){return undefined}while(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9"){aK+=(this._string.charAt(this._currentIndex++)-"0")*(aG*=0.1)}}if(this._currentIndex!=aO&&this._currentIndex+1<this._endIndex&&(this._string.charAt(this._currentIndex)=="e"||this._string.charAt(this._currentIndex)=="E")&&(this._string.charAt(this._currentIndex+1)!="x"&&this._string.charAt(this._currentIndex+1)!="m")){this._currentIndex++;if(this._string.charAt(this._currentIndex)=="+"){this._currentIndex++}else{if(this._string.charAt(this._currentIndex)=="-"){this._currentIndex++;aF=-1}}if(this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9"){return undefined}while(this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9"){aN*=10;aN+=(this._string.charAt(this._currentIndex)-"0");this._currentIndex++}}var aI=aL+aK;aI*=aH;if(aN){aI*=Math.pow(10,aF*aN)}if(aO==this._currentIndex){return undefined}this._skipOptionalSpacesOrDelimiter();return aI};aB.prototype._parseArcFlag=function(){if(this._currentIndex>=this._endIndex){return undefined}var aF=false;var aG=this._string.charAt(this._currentIndex++);if(aG=="0"){aF=false}else{if(aG=="1"){aF=true}else{return undefined}}this._skipOptionalSpacesOrDelimiter();return aF};aB.prototype.parseSegment=function(){var aG=this._string[this._currentIndex];var aH=this._pathSegTypeFromChar(aG);if(aH==SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==SVGPathSeg.PATHSEG_UNKNOWN){return null}aH=this._nextCommandHelper(aG,this._previousCommand);if(aH==SVGPathSeg.PATHSEG_UNKNOWN){return null}}else{this._currentIndex++}this._previousCommand=aH;switch(aH){case SVGPathSeg.PATHSEG_MOVETO_REL:return new SVGPathSegMovetoRel(az,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_MOVETO_ABS:return new SVGPathSegMovetoAbs(az,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_REL:return new SVGPathSegLinetoRel(az,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_ABS:return new SVGPathSegLinetoAbs(az,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new SVGPathSegLinetoHorizontalRel(az,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new SVGPathSegLinetoHorizontalAbs(az,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new SVGPathSegLinetoVerticalRel(az,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new SVGPathSegLinetoVerticalAbs(az,this._parseNumber());case SVGPathSeg.PATHSEG_CLOSEPATH:this._skipOptionalSpaces();return new SVGPathSegClosePath(az);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var aF={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicRel(az,aF.x,aF.y,aF.x1,aF.y1,aF.x2,aF.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var aF={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicAbs(az,aF.x,aF.y,aF.x1,aF.y1,aF.x2,aF.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var aF={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothRel(az,aF.x,aF.y,aF.x2,aF.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var aF={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothAbs(az,aF.x,aF.y,aF.x2,aF.y2);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var aF={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticRel(az,aF.x,aF.y,aF.x1,aF.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var aF={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticAbs(az,aF.x,aF.y,aF.x1,aF.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new SVGPathSegCurvetoQuadraticSmoothRel(az,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new SVGPathSegCurvetoQuadraticSmoothAbs(az,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_ARC_REL:var aF={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcRel(az,aF.x,aF.y,aF.x1,aF.y1,aF.arcAngle,aF.arcLarge,aF.arcSweep);case SVGPathSeg.PATHSEG_ARC_ABS:var aF={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcAbs(az,aF.x,aF.y,aF.x1,aF.y1,aF.arcAngle,aF.arcLarge,aF.arcSweep);default:throw"Unknown path seg type."}};var ay=new aE();var aC=new aB(aA);if(!aC.initialCommandIsMoveTo()){return[]}while(aC.hasMoreData()){var aD=aC.parseSegment();if(!aD){return[]}ay.appendSegment(aD)}return ay.pathSegList}}}());if(typeof define==="function"&&define.amd){define("c3",["d3"],function(){return o})}else{if("undefined"!==typeof a&&"undefined"!==typeof c){c.exports=o}else{af.c3=o}}})(window)},{d3:29}],29:[function(b,c,a){!function(){var ho={version:"3.5.17"};var bP=[].slice,dP=function(d3){return bP.call(d3)};var bO=this.document;function d8(d3){return d3&&(d3.ownerDocument||d3.document||d3).documentElement}function fy(d3){return d3&&(d3.ownerDocument&&d3.ownerDocument.defaultView||d3.document&&d3||d3.defaultView)}if(bO){try{dP(bO.documentElement.childNodes)[0].nodeType}catch(hd){dP=function(ic){var d3=ic.length,id=new Array(d3);while(d3--){id[d3]=ic[d3]}return id}}}if(!Date.now){Date.now=function(){return +new Date()}}if(bO){try{bO.createElement("DIV").style.setProperty("opacity",0,"")}catch(fw){var dN=this.Element.prototype,b3=dN.setAttribute,g6=dN.setAttributeNS,dB=this.CSSStyleDeclaration.prototype,gO=dB.setProperty;dN.setAttribute=function(d3,ic){b3.call(this,d3,ic+"")};dN.setAttributeNS=function(id,d3,ic){g6.call(this,id,d3,ic+"")};dB.setProperty=function(d3,id,ic){gO.call(this,d3,id+"",ic)}}}ho.ascending=fi;function fi(ic,d3){return ic<d3?-1:ic>d3?1:ic>=d3?0:NaN}ho.descending=function(ic,d3){return d3<ic?-1:d3>ic?1:d3>=ic?0:NaN};ho.min=function(ih,ie){var id=-1,ig=ih.length,ic,d3;if(arguments.length===1){while(++id<ig){if((d3=ih[id])!=null&&d3>=d3){ic=d3;break}}while(++id<ig){if((d3=ih[id])!=null&&ic>d3){ic=d3}}}else{while(++id<ig){if((d3=ie.call(ih,ih[id],id))!=null&&d3>=d3){ic=d3;break}}while(++id<ig){if((d3=ie.call(ih,ih[id],id))!=null&&ic>d3){ic=d3}}}return ic};ho.max=function(ih,ie){var id=-1,ig=ih.length,ic,d3;if(arguments.length===1){while(++id<ig){if((d3=ih[id])!=null&&d3>=d3){ic=d3;break}}while(++id<ig){if((d3=ih[id])!=null&&d3>ic){ic=d3}}}else{while(++id<ig){if((d3=ie.call(ih,ih[id],id))!=null&&d3>=d3){ic=d3;break}}while(++id<ig){if((d3=ie.call(ih,ih[id],id))!=null&&d3>ic){ic=d3}}}return ic};ho.extent=function(ii,ie){var id=-1,ih=ii.length,ic,d3,ig;if(arguments.length===1){while(++id<ih){if((d3=ii[id])!=null&&d3>=d3){ic=ig=d3;break}}while(++id<ih){if((d3=ii[id])!=null){if(ic>d3){ic=d3}if(ig<d3){ig=d3}}}}else{while(++id<ih){if((d3=ie.call(ii,ii[id],id))!=null&&d3>=d3){ic=ig=d3;break}}while(++id<ih){if((d3=ie.call(ii,ii[id],id))!=null){if(ic>d3){ic=d3}if(ig<d3){ig=d3}}}}return[ic,ig]};function ht(d3){return d3===null?NaN:+d3}function bc(d3){return !isNaN(d3)}ho.sum=function(ih,ie){var id=0,ig=ih.length,d3,ic=-1;if(arguments.length===1){while(++ic<ig){if(bc(d3=+ih[ic])){id+=d3}}}else{while(++ic<ig){if(bc(d3=+ie.call(ih,ih[ic],ic))){id+=d3}}}return id};ho.mean=function(ii,ig){var ie=0,ih=ii.length,d3,id=-1,ic=ih;if(arguments.length===1){while(++id<ih){if(bc(d3=ht(ii[id]))){ie+=d3}else{--ic}}}else{while(++id<ih){if(bc(d3=ht(ig.call(ii,ii[id],id)))){ie+=d3}else{--ic}}}if(ic){return ie/ic}};ho.quantile=function(ic,ih){var id=(ic.length-1)*ih+1,ie=Math.floor(id),d3=+ic[ie-1],ig=id-ie;return ig?d3+ig*(ic[ie]-d3):d3};ho.median=function(ih,ie){var ic=[],ig=ih.length,d3,id=-1;if(arguments.length===1){while(++id<ig){if(bc(d3=ht(ih[id]))){ic.push(d3)}}}else{while(++id<ig){if(bc(d3=ht(ie.call(ih,ih[id],id)))){ic.push(d3)}}}if(ic.length){return ho.quantile(ic.sort(fi),0.5)}};ho.variance=function(ih,ig){var d3=ih.length,ic=0,ij,ii,ik=0,ie=-1,id=0;if(arguments.length===1){while(++ie<d3){if(bc(ij=ht(ih[ie]))){ii=ij-ic;ic+=ii/++id;ik+=ii*(ij-ic)}}}else{while(++ie<d3){if(bc(ij=ht(ig.call(ih,ih[ie],ie)))){ii=ij-ic;ic+=ii/++id;ik+=ii*(ij-ic)}}}if(id>1){return ik/(id-1)}};ho.deviation=function(){var d3=ho.variance.apply(this,arguments);return d3?Math.sqrt(d3):d3};function go(d3){return{left:function(id,ic,ih,ig){if(arguments.length<3){ih=0}if(arguments.length<4){ig=id.length}while(ih<ig){var ie=ih+ig>>>1;if(d3(id[ie],ic)<0){ih=ie+1}else{ig=ie}}return ih},right:function(id,ic,ih,ig){if(arguments.length<3){ih=0}if(arguments.length<4){ig=id.length}while(ih<ig){var ie=ih+ig>>>1;if(d3(id[ie],ic)>0){ig=ie}else{ih=ie+1}}return ih}}}var c0=go(fi);ho.bisectLeft=c0.left;ho.bisect=ho.bisectRight=c0.right;ho.bisector=function(d3){return go(d3.length===1?function(id,ic){return fi(d3(id),ic)}:d3)};ho.shuffle=function(ih,ig,ie){if((d3=arguments.length)<3){ie=ih.length;if(d3<2){ig=0}}var d3=ie-ig,id,ic;while(d3){ic=Math.random()*d3--|0;id=ih[d3+ig],ih[d3+ig]=ih[ic+ig],ih[ic+ig]=id}return ih};ho.permute=function(ie,ic){var id=ic.length,d3=new Array(id);while(id--){d3[id]=ie[ic[id]]}return d3};ho.pairs=function(ih){var d3=0,ig=ih.length-1,ie,id=ih[0],ic=new Array(ig<0?0:ig);while(d3<ig){ic[d3]=[ie=id,id=ih[++d3]]}return ic};ho.transpose=function(ic){if(!(ii=ic.length)){return[]}for(var ie=-1,d3=ho.min(ic,bU),ig=new Array(d3);++ie<d3;){for(var id=-1,ii,ih=ig[ie]=new Array(ii);++id<ii;){ih[id]=ic[id][ie]}}return ig};function bU(d3){return d3.length}ho.zip=function(){return ho.transpose(arguments)};ho.keys=function(id){var ic=[];for(var d3 in id){ic.push(d3)}return ic};ho.values=function(id){var d3=[];for(var ic in id){d3.push(id[ic])}return d3};ho.entries=function(id){var d3=[];for(var ic in id){d3.push({key:ic,value:id[ic]})}return d3};ho.merge=function(ig){var ii=ig.length,ic,ie=-1,id=0,d3,ih;while(++ie<ii){id+=ig[ie].length}d3=new Array(id);while(--ii>=0){ih=ig[ii];ic=ih.length;while(--ic>=0){d3[--id]=ih[ic]}}return d3};var cH=Math.abs;ho.range=function(ii,ig,ih){if(arguments.length<3){ih=1;if(arguments.length<2){ig=ii;ii=0}}if((ig-ii)/ih===Infinity){throw new Error("infinite range")}var ic=[],d3=gk(cH(ih)),ie=-1,id;ii*=d3,ig*=d3,ih*=d3;if(ih<0){while((id=ii+ih*++ie)>ig){ic.push(id/d3)}}else{while((id=ii+ih*++ie)<ig){ic.push(id/d3)}}return ic};function gk(d3){var ic=1;while(d3*ic%1){ic*=10}return ic}function h4(id,ic){for(var d3 in ic){Object.defineProperty(id.prototype,d3,{value:ic[d3],enumerable:false})}}ho.map=function(d3,ie){var ig=new aI();if(d3 instanceof aI){d3.forEach(function(ij,ik){ig.set(ij,ik)})}else{if(Array.isArray(d3)){var id=-1,ii=d3.length,ih;if(arguments.length===1){while(++id<ii){ig.set(id,d3[id])}}else{while(++id<ii){ig.set(ie.call(d3,ih=d3[id],id),ih)}}}else{for(var ic in d3){ig.set(ic,d3[ic])}}}return ig};function aI(){this._=Object.create(null)}var dc="__proto__",cG="\x00";h4(aI,{has:gI,get:function(d3){return this._[a1(d3)]},set:function(d3,ic){return this._[a1(d3)]=ic},remove:cX,keys:fv,values:function(){var d3=[];for(var ic in this._){d3.push(this._[ic])}return d3},entries:function(){var d3=[];for(var ic in this._){d3.push({key:a2(ic),value:this._[ic]})}return d3},size:hG,empty:aA,forEach:function(ic){for(var d3 in this._){ic.call(this,a2(d3),this._[d3])}}});function a1(d3){return(d3+="")===dc||d3[0]===cG?cG+d3:d3}function a2(d3){return(d3+="")[0]===cG?d3.slice(1):d3}function gI(d3){return a1(d3) in this._}function cX(d3){return(d3=a1(d3)) in this._&&delete this._[d3]}function fv(){var ic=[];for(var d3 in this._){ic.push(a2(d3))}return ic}function hG(){var ic=0;for(var d3 in this._){++ic}return ic}function aA(){for(var d3 in this._){return false}return true}ho.nest=function(){var ie={},id=[],ii=[],ic,ig;function ih(ik,it,iq){if(iq>=id.length){return ig?ig.call(ie,it):ic?it.sort(ic):it}var ir=-1,ij=it.length,iv=id[iq++],ip,io,im,il=new aI(),iu;while(++ir<ij){if(iu=il.get(ip=iv(io=it[ir]))){iu.push(io)}else{il.set(ip,[io])}}if(ik){io=ik();im=function(ix,iw){io.set(ix,ih(ik,iw,iq))}}else{io={};im=function(ix,iw){io[ix]=ih(ik,iw,iq)}}il.forEach(im);return io}function d3(ik,il){if(il>=id.length){return ik}var im=[],ij=ii[il++];ik.forEach(function(io,ip){im.push({key:io,values:d3(ip,il)})});return ij?im.sort(function(ip,io){return ij(ip.key,io.key)}):im}ie.map=function(ik,ij){return ih(ij,ik,0)};ie.entries=function(ij){return d3(ih(ho.map,ij,0),0)};ie.key=function(ij){id.push(ij);return ie};ie.sortKeys=function(ij){ii[id.length-1]=ij;return ie};ie.sortValues=function(ij){ic=ij;return ie};ie.rollup=function(ij){ig=ij;return ie};return ie};ho.set=function(ie){var id=new ds();if(ie){for(var d3=0,ic=ie.length;d3<ic;++d3){id.add(ie[d3])}}return id};function ds(){this._=Object.create(null)}h4(ds,{has:gI,add:function(d3){this._[a1(d3+="")]=true;return d3},remove:cX,values:fv,size:hG,empty:aA,forEach:function(ic){for(var d3 in this._){ic.call(this,a2(d3))}}});ho.behavior={};function gl(d3){return d3}ho.rebind=function(id,ic){var d3=1,ig=arguments.length,ie;while(++d3<ig){id[ie=arguments[d3]]=eA(id,ic,ic[ie])}return id};function eA(ic,d3,id){return function(){var ie=id.apply(d3,arguments);return ie===d3?ic:ie}}function dh(id,ic){if(ic in id){return ic}ic=ic.charAt(0).toUpperCase()+ic.slice(1);for(var ie=0,ig=K.length;ie<ig;++ie){var d3=K[ie]+ic;if(d3 in id){return d3}}}var K=["webkit","ms","moz","Moz","o","O"];function aH(){}ho.dispatch=function(){var d3=new eV(),ic=-1,id=arguments.length;while(++ic<id){d3[arguments[ic]]=fg(d3)}return d3};function eV(){}eV.prototype.on=function(id,ie){var ic=id.indexOf("."),d3="";if(ic>=0){d3=id.slice(ic+1);id=id.slice(0,ic)}if(id){return arguments.length<2?this[id].on(d3):this[id].on(d3,ie)}if(arguments.length===2){if(ie==null){for(id in this){if(this.hasOwnProperty(id)){this[id].on(d3,null)}}}return this}};function fg(d3){var id=[],ic=new aI();function ie(){var ii=id,ih=-1,ij=ii.length,ig;while(++ih<ij){if(ig=ii[ih].on){ig.apply(this,arguments)}}return d3}ie.on=function(ih,ij){var ig=ic.get(ih),ii;if(arguments.length<2){return ig&&ig.on}if(ig){ig.on=null;id=id.slice(0,ii=id.indexOf(ig)).concat(id.slice(ii+1));ic.remove(ih)}if(ij){id.push(ic.set(ih,{on:ij}))}return d3};return ie}ho.event=null;function w(){ho.event.preventDefault()}function ae(){var ic=ho.event,d3;while(d3=ic.sourceEvent){ic=d3}return ic}function hi(id){var d3=new eV(),ic=0,ie=arguments.length;while(++ic<ie){d3[arguments[ic]]=fg(d3)}d3.of=function(ih,ig){return function(ii){try{var ij=ii.sourceEvent=ho.event;ii.target=id;ho.event=ii;d3[ii.type].apply(ih,ig)}finally{ho.event=ij}}};return d3}ho.requote=function(d3){return d3.replace(c9,"\\$&")};var c9=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var h6={}.__proto__?function(ic,d3){ic.__proto__=d3}:function(ic,d3){for(var id in d3){ic[id]=d3[id]}};function d0(d3){h6(d3,dZ);return d3}var dr=function(d3,ic){return ic.querySelector(d3)},f7=function(d3,ic){return ic.querySelectorAll(d3)},d=function(id,d3){var ic=id.matches||id[dh(id,"matchesSelector")];d=function(ig,ie){return ic.call(ig,ie)};return d(id,d3)};if(typeof Sizzle==="function"){dr=function(d3,ic){return Sizzle(d3,ic)[0]||null};f7=Sizzle;d=Sizzle.matchesSelector}ho.selection=function(){return ho.select(bO.documentElement)};var dZ=ho.selection.prototype=[];dZ.select=function(ih){var id=[],il,d3,ik,ie;ih=z(ih);for(var ii=-1,ig=this.length;++ii<ig;){id.push(il=[]);il.parentNode=(ik=this[ii]).parentNode;for(var ij=-1,ic=ik.length;++ij<ic;){if(ie=ik[ij]){il.push(d3=ih.call(ie,ie.__data__,ij,ii));if(d3&&"__data__" in ie){d3.__data__=ie.__data__}}else{il.push(null)}}}return d0(id)};function z(d3){return typeof d3==="function"?d3:function(){return dr(d3,this)}}dZ.selectAll=function(ig){var ic=[],ik,id;ig=c2(ig);for(var ih=-1,ie=this.length;++ih<ie;){for(var ij=this[ih],ii=-1,d3=ij.length;++ii<d3;){if(id=ij[ii]){ic.push(ik=dP(ig.call(id,id.__data__,ii,ih)));ik.parentNode=id}}}return d0(ic)};function c2(d3){return typeof d3==="function"?d3:function(){return f7(d3,this)}}var fR="http://www.w3.org/1999/xhtml";var ee={svg:"http://www.w3.org/2000/svg",xhtml:fR,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ho.ns={prefix:ee,qualify:function(d3){var ic=d3.indexOf(":"),id=d3;if(ic>=0&&(id=d3.slice(0,ic))!=="xmlns"){d3=d3.slice(ic+1)}return ee.hasOwnProperty(id)?{space:ee[id],local:d3}:d3}};dZ.attr=function(d3,id){if(arguments.length<2){if(typeof d3==="string"){var ic=this.node();d3=ho.ns.qualify(d3);return d3.local?ic.getAttributeNS(d3.space,d3.local):ic.getAttribute(d3)}for(id in d3){this.each(bv(id,d3[id]))}return this}return this.each(bv(d3,id))};function bv(id,ii){id=ho.ns.qualify(id);function ic(){this.removeAttribute(id)}function ij(){this.removeAttributeNS(id.space,id.local)}function ih(){this.setAttribute(id,ii)}function ig(){this.setAttributeNS(id.space,id.local,ii)}function d3(){var ik=ii.apply(this,arguments);if(ik==null){this.removeAttribute(id)}else{this.setAttribute(id,ik)}}function ie(){var ik=ii.apply(this,arguments);if(ik==null){this.removeAttributeNS(id.space,id.local)}else{this.setAttributeNS(id.space,id.local,ik)}}return ii==null?id.local?ij:ic:typeof ii==="function"?id.local?ie:d3:id.local?ig:ih}function cI(d3){return d3.trim().replace(/\s+/g," ")}dZ.classed=function(d3,ie){if(arguments.length<2){if(typeof d3==="string"){var id=this.node(),ig=(d3=gv(d3)).length,ic=-1;if(ie=id.classList){while(++ic<ig){if(!ie.contains(d3[ic])){return false}}}else{ie=id.getAttribute("class");while(++ic<ig){if(!gQ(d3[ic]).test(ie)){return false}}}return true}for(ie in d3){this.each(gE(ie,d3[ie]))}return this}return this.each(gE(d3,ie))};function gQ(d3){return new RegExp("(?:^|\\s+)"+ho.requote(d3)+"(?:\\s+|$)","g")}function gv(d3){return(d3+"").trim().split(/^|\s+/)}function gE(ic,ie){ic=gv(ic).map(h2);var ig=ic.length;function d3(){var ih=-1;while(++ih<ig){ic[ih](this,ie)}}function id(){var ii=-1,ih=ie.apply(this,arguments);while(++ii<ig){ic[ii](this,ih)}}return typeof ie==="function"?id:d3}function h2(d3){var ic=gQ(d3);return function(id,ie){if(ig=id.classList){return ie?ig.add(d3):ig.remove(d3)}var ig=id.getAttribute("class")||"";if(ie){ic.lastIndex=0;if(!ic.test(ig)){id.setAttribute("class",cI(ig+" "+d3))}}else{id.setAttribute("class",cI(ig.replace(ic," ")))}}}dZ.style=function(d3,ie,ic){var ig=arguments.length;if(ig<3){if(typeof d3!=="string"){if(ig<2){ie=""}for(ic in d3){this.each(fL(ic,d3[ic],ie))}return this}if(ig<2){var id=this.node();return fy(id).getComputedStyle(id,null).getPropertyValue(d3)}ic=""}return this.each(fL(d3,ie,ic))};function fL(id,ih,ie){function ic(){this.style.removeProperty(id)}function ig(){this.style.setProperty(id,ih,ie)}function d3(){var ii=ih.apply(this,arguments);if(ii==null){this.style.removeProperty(id)}else{this.style.setProperty(id,ii,ie)}}return ih==null?ic:typeof ih==="function"?d3:ig}dZ.property=function(d3,ic){if(arguments.length<2){if(typeof d3==="string"){return this.node()[d3]}for(ic in d3){this.each(hI(ic,d3[ic]))}return this}return this.each(hI(d3,ic))};function hI(ic,ie){function d3(){delete this[ic]}function id(){this[ic]=ie}function ig(){var ih=ie.apply(this,arguments);if(ih==null){delete this[ic]}else{this[ic]=ih}}return ie==null?d3:typeof ie==="function"?ig:id}dZ.text=function(d3){return arguments.length?this.each(typeof d3==="function"?function(){var ic=d3.apply(this,arguments);this.textContent=ic==null?"":ic}:d3==null?function(){this.textContent=""}:function(){this.textContent=d3}):this.node().textContent};dZ.html=function(d3){return arguments.length?this.each(typeof d3==="function"?function(){var ic=d3.apply(this,arguments);this.innerHTML=ic==null?"":ic}:d3==null?function(){this.innerHTML=""}:function(){this.innerHTML=d3}):this.node().innerHTML};dZ.append=function(d3){d3=aD(d3);return this.select(function(){return this.appendChild(d3.apply(this,arguments))})};function aD(d3){function ic(){var ie=this.ownerDocument,ig=this.namespaceURI;return ig===fR&&ie.documentElement.namespaceURI===fR?ie.createElement(d3):ie.createElementNS(ig,d3)}function id(){return this.ownerDocument.createElementNS(d3.space,d3.local)}return typeof d3==="function"?d3:(d3=ho.ns.qualify(d3)).local?id:ic}dZ.insert=function(d3,ic){d3=aD(d3);ic=z(ic);return this.select(function(){return this.insertBefore(d3.apply(this,arguments),ic.apply(this,arguments)||null)})};dZ.remove=function(){return this.each(ek)};function ek(){var d3=this.parentNode;if(d3){d3.removeChild(this)}}dZ.data=function(ij,il){var ig=-1,ic=this.length,ik,id;if(!arguments.length){ij=new Array(ic=(ik=this[0]).length);while(++ig<ic){if(id=ik[ig]){ij[ig]=id.__data__}}return ij}function ih(ix,ir){var iu,io=ix.length,iq=ir.length,iw=Math.min(io,iq),iA=new Array(iq),iy=new Array(iq),iv=new Array(io),ip,im;if(il){var iB=new aI(),iz=new Array(io),it;for(iu=-1;++iu<io;){if(ip=ix[iu]){if(iB.has(it=il.call(ip,ip.__data__,iu))){iv[iu]=ip}else{iB.set(it,ip)}iz[iu]=it}}for(iu=-1;++iu<iq;){if(!(ip=iB.get(it=il.call(ir,im=ir[iu],iu)))){iy[iu]=L(im)}else{if(ip!==true){iA[iu]=ip;ip.__data__=im}}iB.set(it,true)}for(iu=-1;++iu<io;){if(iu in iz&&iB.get(iz[iu])!==true){iv[iu]=ix[iu]}}}else{for(iu=-1;++iu<iw;){ip=ix[iu];im=ir[iu];if(ip){ip.__data__=im;iA[iu]=ip}else{iy[iu]=L(im)}}for(;iu<iq;++iu){iy[iu]=L(ir[iu])}for(;iu<io;++iu){iv[iu]=ix[iu]}}iy.update=iA;iy.parentNode=iA.parentNode=iv.parentNode=ix.parentNode;ii.push(iy);ie.push(iA);d3.push(iv)}var ii=bW([]),ie=d0([]),d3=d0([]);if(typeof ij==="function"){while(++ig<ic){ih(ik=this[ig],ij.call(ik,ik.parentNode.__data__,ig))}}else{while(++ig<ic){ih(ik=this[ig],ij)}}ie.enter=function(){return ii};ie.exit=function(){return d3};return ie};function L(d3){return{__data__:d3}}dZ.datum=function(d3){return arguments.length?this.property("__data__",d3):this.property("__data__")};dZ.filter=function(d3){var id=[],ik,ij,ie;if(typeof d3!=="function"){d3=a9(d3)}for(var ih=0,ig=this.length;ih<ig;ih++){id.push(ik=[]);ik.parentNode=(ij=this[ih]).parentNode;for(var ii=0,ic=ij.length;ii<ic;ii++){if((ie=ij[ii])&&d3.call(ie,ie.__data__,ii,ih)){ik.push(ie)}}}return d0(id)};function a9(d3){return function(){return d(this,d3)}}dZ.order=function(){for(var ic=-1,d3=this.length;++ic<d3;){for(var ih=this[ic],id=ih.length-1,ie=ih[id],ig;--id>=0;){if(ig=ih[id]){if(ie&&ie!==ig.nextSibling){ie.parentNode.insertBefore(ig,ie)}ie=ig}}}return this};dZ.sort=function(ic){ic=gN.apply(this,arguments);for(var id=-1,d3=this.length;++id<d3;){this[id].sort(ic)}return this.order()};function gN(d3){if(!arguments.length){d3=fi}return function(id,ic){return id&&ic?d3(id.__data__,ic.__data__):!id-!ic}}dZ.each=function(d3){return cJ(this,function(ie,id,ic){d3.call(ie,ie.__data__,id,ic)})};function cJ(ic,ij){for(var id=0,d3=ic.length;id<d3;id++){for(var ih=ic[id],ie=0,ii=ih.length,ig;ie<ii;ie++){if(ig=ih[ie]){ij(ig,ie,id)}}}return ic}dZ.call=function(ic){var d3=dP(arguments);ic.apply(d3[0]=this,d3);return this};dZ.empty=function(){return !this.node()};dZ.node=function(){for(var ic=0,d3=this.length;ic<d3;ic++){for(var ig=this[ic],id=0,ih=ig.length;id<ih;id++){var ie=ig[id];if(ie){return ie}}}return null};dZ.size=function(){var d3=0;cJ(this,function(){++d3});return d3};function bW(d3){h6(d3,e4);return d3}var e4=[];ho.selection.enter=bW;ho.selection.enter.prototype=e4;e4.append=dZ.append;e4.empty=dZ.empty;e4.node=dZ.node;e4.call=dZ.call;e4.size=dZ.size;e4.select=function(ih){var id=[],im,d3,ik,il,ig;for(var ii=-1,ie=this.length;++ii<ie;){ik=(il=this[ii]).update;id.push(im=[]);im.parentNode=il.parentNode;for(var ij=-1,ic=il.length;++ij<ic;){if(ig=il[ij]){im.push(ik[ij]=d3=ih.call(il.parentNode,ig.__data__,ij,ii));d3.__data__=ig.__data__}else{im.push(null)}}}return d0(id)};e4.insert=function(d3,ic){if(arguments.length<2){ic=gu(this)}return dZ.insert.call(this,d3,ic)};function gu(id){var d3,ic;return function(ij,ig,ie){var ii=id[ie].update,ik=ii.length,ih;if(ie!=ic){ic=ie,d3=0}if(ig>=d3){d3=ig+1}while(!(ih=ii[d3])&&++d3<ik){}return ih}}ho.select=function(d3){var ic;if(typeof d3==="string"){ic=[dr(d3,bO)];ic.parentNode=bO.documentElement}else{ic=[d3];ic.parentNode=d8(d3)}return d0([ic])};ho.selectAll=function(d3){var ic;if(typeof d3==="string"){ic=dP(f7(d3,bO));ic.parentNode=bO.documentElement}else{ic=dP(d3);ic.parentNode=null}return d0([ic])};dZ.on=function(ic,id,d3){var ie=arguments.length;if(ie<3){if(typeof ic!=="string"){if(ie<2){id=false}for(d3 in ic){this.each(m(d3,ic[d3],id))}return this}if(ie<2){return(ie=this.node()["__on"+ic])&&ie._}d3=false}return this.each(m(ic,id,d3))};function m(ik,ie,il){var d3="__on"+ik,ih=ik.indexOf("."),ic=fq;if(ih>0){ik=ik.slice(0,ih)}var id=bK.get(ik);if(id){ik=id,ic=ap}function ig(){var im=this[d3];if(im){this.removeEventListener(ik,im,im.$);delete this[d3]}}function ij(){var im=ic(ie,dP(arguments));ig.call(this);this.addEventListener(ik,this[d3]=im,im.$=il);im._=ie}function ii(){var iq=new RegExp("^__on([^.]+)"+ho.requote(ik)+"$"),ip;for(var io in this){if(ip=io.match(iq)){var im=this[io];this.removeEventListener(ip[1],im,im.$);delete this[io]}}}return ih?ie?ij:ig:ie?aH:ii}var bK=ho.map({mouseenter:"mouseover",mouseleave:"mouseout"});if(bO){bK.forEach(function(d3){if("on"+d3 in bO){bK.remove(d3)}})}function fq(ic,d3){return function(id){var ie=ho.event;ho.event=id;d3[0]=this.__data__;try{ic.apply(this,d3)}finally{ho.event=ie}}}function ap(id,d3){var ic=fq(id,d3);return function(ih){var ig=this,ie=ih.relatedTarget;if(!ie||ie!==ig&&!(ie.compareDocumentPosition(ig)&8)){ic.call(ig,ih)}}}var cd,gK=0;function bL(ih){var id=".dragsuppress-"+ ++gK,ig="click"+id,ic=ho.select(fy(ih)).on("touchmove"+id,w).on("dragstart"+id,w).on("selectstart"+id,w);if(cd==null){cd="onselectstart" in ih?false:dh(ih.style,"userSelect")}if(cd){var ie=d8(ih).style,d3=ie[cd];ie[cd]="none"}return function(ii){ic.on(id,null);if(cd){ie[cd]=d3}if(ii){var ij=function(){ic.on(ig,null)};ic.on(ig,function(){w();ij()},true);setTimeout(ij,0)}}}ho.mouse=function(d3){return aY(d3,ae())};var cE=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function aY(id,ii){if(ii.changedTouches){ii=ii.changedTouches[0]}var ie=id.ownerSVGElement||id;if(ie.createSVGPoint){var d3=ie.createSVGPoint();if(cE<0){var ih=fy(id);if(ih.scrollX||ih.scrollY){ie=ho.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ic=ie[0][0].getScreenCTM();cE=!(ic.f||ic.e);ie.remove()}}if(cE){d3.x=ii.pageX,d3.y=ii.pageY}else{d3.x=ii.clientX,d3.y=ii.clientY}d3=d3.matrixTransform(id.getScreenCTM().inverse());return[d3.x,d3.y]}var ig=id.getBoundingClientRect();return[ii.clientX-ig.left-id.clientLeft,ii.clientY-ig.top-id.clientTop]}ho.touch=function(d3,ie,ic){if(arguments.length<3){ic=ie,ie=ae().changedTouches}if(ie){for(var id=0,ih=ie.length,ig;id<ih;++id){if((ig=ie[id]).identifier===ic){return aY(d3,ig)}}}};ho.behavior.drag=function(){var ig=hi(ie,"drag","dragstart","dragend"),d3=null,ic=id(aH,ho.mouse,fy,"mousemove","mouseup"),ih=id(hm,ho.touch,gl,"touchmove","touchend");function ie(){this.on("mousedown.drag",ic).on("touchstart.drag",ih)}function id(im,ii,il,ik,ij){return function(){var iv=this,iw=ho.event.target.correspondingElement||ho.event.target,iB=iv.parentNode,ix=ig.of(iv,arguments),iz=0,ip=im(),io=".drag"+(ip==null?"":"-"+ip),it,iq=ho.select(il(iw)).on(ik+io,iy).on(ij+io,iA),iu=bL(iw),ir=ii(iB,ip);if(d3){it=d3.apply(iv,arguments);it=[it.x-ir[0],it.y-ir[1]]}else{it=[0,0]}ix({type:"dragstart"});function iy(){var iD=ii(iB,ip),iE,iC;if(!iD){return}iE=iD[0]-ir[0];iC=iD[1]-ir[1];iz|=iE|iC;ir=iD;ix({type:"drag",x:iD[0]+it[0],y:iD[1]+it[1],dx:iE,dy:iC})}function iA(){if(!ii(iB,ip)){return}iq.on(ik+io,null).on(ij+io,null);iu(iz);ix({type:"dragend"})}}}ie.origin=function(ii){if(!arguments.length){return d3}d3=ii;return ie};return ho.rebind(ie,ig,"on")};function hm(){return ho.event.changedTouches[0].identifier}ho.touches=function(d3,ic){if(arguments.length<2){ic=ae().touches}return ic?dP(ic).map(function(ie){var id=aY(d3,ie);id.identifier=ie.identifier;return id}):[]};var gn=0.000001,eE=gn*gn,ge=Math.PI,f8=2*ge,gF=f8-gn,eq=ge/2,J=ge/180,hF=180/ge;function ca(d3){return d3>0?1:d3<0?-1:0}function e0(ic,d3,id){return(d3[0]-ic[0])*(id[1]-ic[1])-(d3[1]-ic[1])*(id[0]-ic[0])}function ad(d3){return d3>1?0:d3<-1?ge:Math.acos(d3)}function cg(d3){return d3>1?eq:d3<-1?-eq:Math.asin(d3)}function dX(d3){return((d3=Math.exp(d3))-1/d3)/2}function bF(d3){return((d3=Math.exp(d3))+1/d3)/2}function fs(d3){return((d3=Math.exp(2*d3))-1)/(d3+1)}function aE(d3){return(d3=Math.sin(d3/2))*d3}var gb=Math.SQRT2,aa=2,Y=4;ho.interpolateZoom=function(ic,d3){var im=ic[0],it=ic[1],ik=ic[2],il=d3[0],ir=d3[1],ii=d3[2],ij=il-im,ih=ir-it,iu=ij*ij+ih*ih,ip,id;if(iu<eE){id=Math.log(ii/ik)/gb;ip=function(iw){return[im+iw*ij,it+iw*ih,ik*Math.exp(gb*iw*id)]}}else{var iv=Math.sqrt(iu),ig=(ii*ii-ik*ik+Y*iu)/(2*ik*aa*iv),ie=(ii*ii-ik*ik-Y*iu)/(2*ii*aa*iv),iq=Math.log(Math.sqrt(ig*ig+1)-ig),io=Math.log(Math.sqrt(ie*ie+1)-ie);id=(io-iq)/gb;ip=function(ix){var iy=ix*id,iz=bF(iq),iw=ik/(aa*iv)*(iz*fs(gb*iy+iq)-dX(iq));return[im+iw*ij,it+iw*ih,ik*iz/bF(gb*iy+iq)]}}ip.duration=id*1000;return ip};ho.behavior.zoom=function(){var iq={x:0,y:0,k:1},iH,im,iJ,iw=[960,500],ie=fV,d3=250,iG=0,iA="mousedown.zoom",iI="mousemove.zoom",iB="mouseup.zoom",ix,iE="touchstart.zoom",il,iC=hi(id,"zoomstart","zoom","zoomend"),iF,iD,ij,ih;if(!g5){g5="onwheel" in bO?(cy=function(){return -ho.event.deltaY*(ho.event.deltaMode?120:1)},"wheel"):"onmousewheel" in bO?(cy=function(){return ho.event.wheelDelta},"mousewheel"):(cy=function(){return -ho.event.detail},"MozMousePixelScroll")}function id(iL){iL.on(iA,ig).on(g5+".zoom",ir).on("dblclick.zoom",io).on(iE,ii)}id.event=function(iL){iL.each(function(){var iN=iC.of(this,arguments),iM=iq;if(ar){ho.select(this).transition().each("start.zoom",function(){iq=this.__chart__||{x:0,y:0,k:1};iy(iN)}).tween("zoom:zoom",function(){var iQ=iw[0],iP=iw[1],iO=im?im[0]:iQ/2,iS=im?im[1]:iP/2,iR=ho.interpolateZoom([(iO-iq.x)/iq.k,(iS-iq.y)/iq.k,iQ/iq.k],[(iO-iM.x)/iM.k,(iS-iM.y)/iM.k,iQ/iM.k]);return function(iV){var iT=iR(iV),iU=iQ/iT[2];this.__chart__=iq={x:iO-iT[0]*iU,y:iS-iT[1]*iU,k:iU};iv(iN)}}).each("interrupt.zoom",function(){iu(iN)}).each("end.zoom",function(){iu(iN)})}else{this.__chart__=iq;iy(iN);iv(iN);iu(iN)}})};id.translate=function(iL){if(!arguments.length){return[iq.x,iq.y]}iq={x:+iL[0],y:+iL[1],k:iq.k};ip();return id};id.scale=function(iL){if(!arguments.length){return iq.k}iq={x:iq.x,y:iq.y,k:null};ik(+iL);ip();return id};id.scaleExtent=function(iL){if(!arguments.length){return ie}ie=iL==null?fV:[+iL[0],+iL[1]];return id};id.center=function(iL){if(!arguments.length){return iJ}iJ=iL&&[+iL[0],+iL[1]];return id};id.size=function(iL){if(!arguments.length){return iw}iw=iL&&[+iL[0],+iL[1]];return id};id.duration=function(iL){if(!arguments.length){return d3}d3=+iL;return id};id.x=function(iL){if(!arguments.length){return iD}iD=iL;iF=iL.copy();iq={x:0,y:0,k:1};return id};id.y=function(iL){if(!arguments.length){return ih}ih=iL;ij=iL.copy();iq={x:0,y:0,k:1};return id};function ic(iL){return[(iL[0]-iq.x)/iq.k,(iL[1]-iq.y)/iq.k]}function iz(iL){return[iL[0]*iq.k+iq.x,iL[1]*iq.k+iq.y]}function ik(iL){iq.k=Math.max(ie[0],Math.min(ie[1],iL))}function iK(iM,iL){iL=iz(iL);iq.x+=iM[0]-iL[0];iq.y+=iM[1]-iL[1]}function it(iN,iO,iL,iM){iN.__chart__={x:iq.x,y:iq.y,k:iq.k};ik(Math.pow(2,iM));iK(im=iO,iL);iN=ho.select(iN);if(d3>0){iN=iN.transition().duration(d3)}iN.call(id.event)}function ip(){if(iD){iD.domain(iF.range().map(function(iL){return(iL-iq.x)/iq.k}).map(iF.invert))}if(ih){ih.domain(ij.range().map(function(iL){return(iL-iq.y)/iq.k}).map(ij.invert))}}function iy(iL){if(!iG++){iL({type:"zoomstart"})}}function iv(iL){ip();iL({type:"zoom",scale:iq.k,translate:[iq.x,iq.y]})}function iu(iL){if(!--iG){iL({type:"zoomend"}),im=null}}function ig(){var iR=this,iN=iC.of(iR,arguments),iL=0,iO=ho.select(fy(iR)).on(iI,iP).on(iB,iS),iM=ic(ho.mouse(iR)),iQ=bL(iR);cV.call(iR);iy(iN);function iP(){iL=1;iK(ho.mouse(iR),iM);iv(iN)}function iS(){iO.on(iI,null).on(iB,null);iQ(iL);iu(iN)}}function ii(){var iR=this,iT=iC.of(iR,arguments),iP={},iV=0,iS,iM=".zoom-"+ho.event.changedTouches[0].identifier,iN="touchmove"+iM,iZ="touchend"+iM,iQ=[],iW=ho.select(iR),iO=bL(iR);iU();iy(iT);iW.on(iA,null).on(iE,iU);function iL(){var i0=ho.touches(iR);iS=iq.k;i0.forEach(function(i1){if(i1.identifier in iP){iP[i1.identifier]=ic(i1)}});return i0}function iU(){var i7=ho.event.target;ho.select(i7).on(iN,iX).on(iZ,iY);iQ.push(i7);var i4=ho.event.changedTouches;for(var i5=0,i3=i4.length;i5<i3;++i5){iP[i4[i5].identifier]=null}var i6=iL(),i2=Date.now();if(i6.length===1){if(i2-il<500){var i1=i6[0];it(iR,i1,iP[i1.identifier],Math.floor(Math.log(iq.k)/Math.LN2)+1);w()}il=i2}else{if(i6.length>1){var i1=i6[0],i0=i6[1],i9=i1[0]-i0[0],i8=i1[1]-i0[1];iV=i9*i9+i8*i8}}}function iX(){var i4=ho.touches(iR),i8,i2,i7,i1;cV.call(iR);for(var i3=0,i0=i4.length;i3<i0;++i3,i1=null){i7=i4[i3];if(i1=iP[i7.identifier]){if(i2){break}i8=i7,i2=i1}}if(i1){var i6=(i6=i7[0]-i8[0])*i6+(i6=i7[1]-i8[1])*i6,i5=iV&&Math.sqrt(i6/iV);i8=[(i8[0]+i7[0])/2,(i8[1]+i7[1])/2];i2=[(i2[0]+i1[0])/2,(i2[1]+i1[1])/2];ik(i5*iS)}il=null;iK(i8,i2);iv(iT)}function iY(){if(ho.event.touches.length){var i2=ho.event.changedTouches;for(var i1=0,i3=i2.length;i1<i3;++i1){delete iP[i2[i1].identifier]}for(var i0 in iP){return void iL()}}ho.selectAll(iQ).on(iM,null);iW.on(iA,ig).on(iE,ii);iO();iu(iT)}}function ir(){var iL=iC.of(this,arguments);if(ix){clearTimeout(ix)}else{cV.call(this),iH=ic(im=iJ||ho.mouse(this)),iy(iL)}ix=setTimeout(function(){ix=null;iu(iL)},50);w();ik(Math.pow(2,cy()*0.002)*iq.k);iK(im,iH);iv(iL)}function io(){var iM=ho.mouse(this),iL=Math.log(iq.k)/Math.LN2;it(this,iM,ic(iM),ho.event.shiftKey?Math.ceil(iL)-1:Math.floor(iL)+1)}return ho.rebind(id,iC,"on")};var fV=[0,Infinity],cy,g5;ho.color=gV;function gV(){}gV.prototype.toString=function(){return this.rgb()+""};ho.hsl=eI;function eI(id,ic,d3){return this instanceof eI?void (this.h=+id,this.s=+ic,this.l=+d3):arguments.length<2?id instanceof eI?new eI(id.h,id.s,id.l):aX(""+id,gx,eI):new eI(id,ic,d3)}var ey=eI.prototype=new gV();ey.brighter=function(d3){d3=Math.pow(0.7,arguments.length?d3:1);return new eI(this.h,this.s,this.l/d3)};ey.darker=function(d3){d3=Math.pow(0.7,arguments.length?d3:1);return new eI(this.h,this.s,d3*this.l)};ey.rgb=function(){return bh(this.h,this.s,this.l)};function bh(ih,ig,d3){var ie,id;ih=isNaN(ih)?0:(ih%=360)<0?ih+360:ih;ig=isNaN(ig)?0:ig<0?0:ig>1?1:ig;d3=d3<0?0:d3>1?1:d3;id=d3<=0.5?d3*(1+ig):d3+ig-d3*ig;ie=2*d3-id;function ic(ij){if(ij>360){ij-=360}else{if(ij<0){ij+=360}}if(ij<60){return ie+(id-ie)*ij/60}if(ij<180){return id}if(ij<240){return ie+(id-ie)*(240-ij)/60}return ie}function ii(ij){return Math.round(ic(ij)*255)}return new es(ii(ih+120),ii(ih),ii(ih-120))}ho.hcl=bD;function bD(ic,id,d3){return this instanceof bD?void (this.h=+ic,this.c=+id,this.l=+d3):arguments.length<2?ic instanceof bD?new bD(ic.h,ic.c,ic.l):ic instanceof co?gH(ic.l,ic.a,ic.b):gH((ic=d1((ic=ho.rgb(ic)).r,ic.g,ic.b)).l,ic.a,ic.b):new bD(ic,id,d3)}var hg=bD.prototype=new gV();hg.brighter=function(d3){return new bD(this.h,this.c,Math.min(100,this.l+bt*(arguments.length?d3:1)))};hg.darker=function(d3){return new bD(this.h,this.c,Math.max(0,this.l-bt*(arguments.length?d3:1)))};hg.rgb=function(){return bE(this.h,this.c,this.l).rgb()};function bE(ic,id,d3){if(isNaN(ic)){ic=0}if(isNaN(id)){id=0}return new co(d3,Math.cos(ic*=J)*id,Math.sin(ic)*id)}ho.lab=co;function co(id,ic,d3){return this instanceof co?void (this.l=+id,this.a=+ic,this.b=+d3):arguments.length<2?id instanceof co?new co(id.l,id.a,id.b):id instanceof bD?bE(id.h,id.c,id.l):d1((id=es(id)).r,id.g,id.b):new co(id,ic,d3)}var bt=18;var bi=0.95047,bg=1,bd=1.08883;var gy=co.prototype=new gV();gy.brighter=function(d3){return new co(Math.min(100,this.l+bt*(arguments.length?d3:1)),this.a,this.b)};gy.darker=function(d3){return new co(Math.max(0,this.l-bt*(arguments.length?d3:1)),this.a,this.b)};gy.rgb=function(){return aC(this.l,this.a,this.b)};function aC(ie,id,ic){var ih=(ie+16)/116,d3=ih+id/500,ig=ih-ic/200;d3=g1(d3)*bi;ih=g1(ih)*bg;ig=g1(ig)*bd;return new es(g(3.2404542*d3-1.5371385*ih-0.4985314*ig),g(-0.969266*d3+1.8760108*ih+0.041556*ig),g(0.0556434*d3-0.2040259*ih+1.0572252*ig))}function gH(id,ic,d3){return id>0?new bD(Math.atan2(d3,ic)*hF,Math.sqrt(ic*ic+d3*d3),id):new bD(NaN,NaN,id)}function g1(d3){return d3>0.206893034?d3*d3*d3:(d3-4/29)/7.787037}function gq(d3){return d3>0.008856?Math.pow(d3,1/3):7.787037*d3+4/29}function g(d3){return Math.round(255*(d3<=0.00304?12.92*d3:1.055*Math.pow(d3,1/2.4)-0.055))}ho.rgb=es;function es(id,ic,d3){return this instanceof es?void (this.r=~~id,this.g=~~ic,this.b=~~d3):arguments.length<2?id instanceof es?new es(id.r,id.g,id.b):aX(""+id,es,bh):new es(id,ic,d3)}function df(d3){return new es(d3>>16,d3>>8&255,d3&255)}function dx(d3){return df(d3)+""}var eJ=es.prototype=new gV();eJ.brighter=function(ic){ic=Math.pow(0.7,arguments.length?ic:1);var ig=this.r,ie=this.g,d3=this.b,id=30;if(!ig&&!ie&&!d3){return new es(id,id,id)}if(ig&&ig<id){ig=id}if(ie&&ie<id){ie=id}if(d3&&d3<id){d3=id}return new es(Math.min(255,ig/ic),Math.min(255,ie/ic),Math.min(255,d3/ic))};eJ.darker=function(d3){d3=Math.pow(0.7,arguments.length?d3:1);return new es(d3*this.r,d3*this.g,d3*this.b)};eJ.hsl=function(){return gx(this.r,this.g,this.b)};eJ.toString=function(){return"#"+cw(this.r)+cw(this.g)+cw(this.b)};function cw(d3){return d3<16?"0"+Math.max(0,d3).toString(16):Math.min(255,d3).toString(16)}function aX(ih,ie,ii){var d3=0,id=0,ig=0,ik,ij,ic;ik=/([a-z]+)\((.*)\)/.exec(ih=ih.toLowerCase());if(ik){ij=ik[2].split(",");switch(ik[1]){case"hsl":return ii(parseFloat(ij[0]),parseFloat(ij[1])/100,parseFloat(ij[2])/100);case"rgb":return ie(eX(ij[0]),eX(ij[1]),eX(ij[2]))}}if(ic=am.get(ih)){return ie(ic.r,ic.g,ic.b)}if(ih!=null&&ih.charAt(0)==="#"&&!isNaN(ic=parseInt(ih.slice(1),16))){if(ih.length===4){d3=(ic&3840)>>4;d3=d3>>4|d3;id=ic&240;id=id>>4|id;ig=ic&15;ig=ig<<4|ig}else{if(ih.length===7){d3=(ic&16711680)>>16;id=(ic&65280)>>8;ig=ic&255}}}return ie(d3,id,ig)}function gx(d3,ig,ii){var id=Math.min(d3/=255,ig/=255,ii/=255),ij=Math.max(d3,ig,ii),ih=ij-id,ie,ik,ic=(ij+id)/2;if(ih){ik=ic<0.5?ih/(ij+id):ih/(2-ij-id);if(d3==ij){ie=(ig-ii)/ih+(ig<ii?6:0)}else{if(ig==ij){ie=(ii-d3)/ih+2}else{ie=(d3-ig)/ih+4}}ie*=60}else{ie=NaN;ik=ic>0&&ic<1?0:ie}return new eI(ie,ik,ic)}function d1(ie,id,ic){ie=dE(ie);id=dE(id);ic=dE(ic);var d3=gq((0.4124564*ie+0.3575761*id+0.1804375*ic)/bi),ih=gq((0.2126729*ie+0.7151522*id+0.072175*ic)/bg),ig=gq((0.0193339*ie+0.119192*id+0.9503041*ic)/bd);return co(116*ih-16,500*(d3-ih),200*(ih-ig))}function dE(d3){return(d3/=255)<=0.04045?d3/12.92:Math.pow((d3+0.055)/1.055,2.4)}function eX(ic){var d3=parseFloat(ic);return ic.charAt(ic.length-1)==="%"?Math.round(d3*2.55):d3}var am=ho.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});am.forEach(function(d3,ic){am.set(d3,df(ic))});function R(d3){return typeof d3==="function"?d3:function(){return d3}}ho.functor=R;ho.xhr=X(gl);function X(d3){return function(ic,id,ie){if(arguments.length===2&&typeof id==="function"){ie=id,id=null}return hZ(ic,id,d3,ie)}}function hZ(d3,id,ig,ik){var il={},ij=ho.dispatch("beforesend","progress","load","error"),ie={},ih=new XMLHttpRequest(),ii=null;if(this.XDomainRequest&&!("withCredentials" in ih)&&/^(http(s)?:)?\/\//.test(d3)){ih=new XDomainRequest()}"onload" in ih?ih.onload=ih.onerror=ic:ih.onreadystatechange=function(){ih.readyState>3&&ic()};function ic(){var io=ih.status,im;if(!io&&fI(ih)||io>=200&&io<300||io===304){try{im=ig.call(il,ih)}catch(ip){ij.error.call(il,ip);return}ij.load.call(il,im)}else{ij.error.call(il,ih)}}ih.onprogress=function(im){var io=ho.event;ho.event=im;try{ij.progress.call(il,ih)}finally{ho.event=io}};il.header=function(im,io){im=(im+"").toLowerCase();if(arguments.length<2){return ie[im]}if(io==null){delete ie[im]}else{ie[im]=io+""}return il};il.mimeType=function(im){if(!arguments.length){return id}id=im==null?null:im+"";return il};il.responseType=function(im){if(!arguments.length){return ii}ii=im;return il};il.response=function(im){ig=im;return il};["get","post"].forEach(function(im){il[im]=function(){return il.send.apply(il,[im].concat(dP(arguments)))}});il.send=function(iq,io,ip){if(arguments.length===2&&typeof io==="function"){ip=io,io=null}ih.open(iq,d3,true);if(id!=null&&!("accept" in ie)){ie.accept=id+",*/*"}if(ih.setRequestHeader){for(var im in ie){ih.setRequestHeader(im,ie[im])}}if(id!=null&&ih.overrideMimeType){ih.overrideMimeType(id)}if(ii!=null){ih.responseType=ii}if(ip!=null){il.on("error",ip).on("load",function(ir){ip(null,ir)})}ij.beforesend.call(il,ih);ih.send(io==null?null:io);return il};il.abort=function(){ih.abort();return il};ho.rebind(il,ij,"on");return ik==null?il:il.get(d7(ik))}function d7(d3){return d3.length===1?function(ic,id){d3(ic==null?id:null)}:d3}function fI(ic){var d3=ic.responseType;return d3&&d3!=="text"?ic.response:ic.responseText}ho.dsv=function(d3,ic){var ie=new RegExp('["'+d3+"\n]"),ih=d3.charCodeAt(0);function ij(il,io,ip){if(arguments.length<3){ip=io,io=null}var im=hZ(il,ic,io==null?ig:id(io),ip);im.row=function(iq){return arguments.length?im.response((io=iq)==null?ig:id(iq)):io};return im}function ig(il){return ij.parse(il.responseText)}function id(il){return function(im){return ij.parse(im.responseText,il)}}ij.parse=function(io,il){var im;return ij.parseRows(io,function(ir,iq){if(im){return im(ir,iq-1)}var ip=new Function("d","return {"+ir.map(function(it,iu){return JSON.stringify(it)+": d["+iu+"]"}).join(",")+"}");im=il?function(iu,it){return il(ip(iu),it)}:ip})};ij.parseRows=function(iw,iq){var im={},ip={},iy=[],ir=iw.length,iv=0,il=0,ix,it;function io(){if(iv>=ir){return ip}if(it){return it=false,im}var iA=iv;if(iw.charCodeAt(iA)===34){var iB=iA;while(iB++<ir){if(iw.charCodeAt(iB)===34){if(iw.charCodeAt(iB+1)!==34){break}++iB}}iv=iB+2;var iC=iw.charCodeAt(iB+1);if(iC===13){it=true;if(iw.charCodeAt(iB+2)===10){++iv}}else{if(iC===10){it=true}}return iw.slice(iA+1,iB).replace(/""/g,'"')}while(iv<ir){var iC=iw.charCodeAt(iv++),iz=1;if(iC===10){it=true}else{if(iC===13){it=true;if(iw.charCodeAt(iv)===10){++iv,++iz}}else{if(iC!==ih){continue}}}return iw.slice(iA,iv-iz)}return iw.slice(iA)}while((ix=io())!==ip){var iu=[];while(ix!==im&&ix!==ip){iu.push(ix);ix=io()}if(iq&&(iu=iq(iu,il++))==null){continue}iy.push(iu)}return iy};ij.format=function(io){if(Array.isArray(io[0])){return ij.formatRows(io)}var im=new ds(),il=[];io.forEach(function(iq){for(var ip in iq){if(!im.has(ip)){il.push(im.add(ip))}}});return[il.map(ii).join(d3)].concat(io.map(function(ip){return il.map(function(iq){return ii(ip[iq])}).join(d3)})).join("\n")};ij.formatRows=function(il){return il.map(ik).join("\n")};function ik(il){return il.map(ii).join(d3)}function ii(il){return ie.test(il)?'"'+il.replace(/\"/g,'""')+'"':il}return ij};ho.csv=ho.dsv(",","text/csv");ho.tsv=ho.dsv("	","text/tab-separated-values");var d2,af,cr,ff,hu=this[dh(this,"requestAnimationFrame")]||function(d3){setTimeout(d3,17)};ho.timer=function(){g3.apply(this,arguments)};function g3(ih,d3,id){var ig=arguments.length;if(ig<2){d3=0}if(ig<3){id=Date.now()}var ic=id+d3,ie={c:ih,t:ic,n:null};if(af){af.n=ie}else{d2=ie}af=ie;if(!cr){ff=clearTimeout(ff);cr=1;hu(hv)}return ie}function hv(){var ic=bG(),d3=ac()-ic;if(d3>24){if(isFinite(d3)){clearTimeout(ff);ff=setTimeout(hv,d3)}cr=0}else{cr=1;hu(hv)}}ho.timer.flush=function(){bG();ac()};function bG(){var d3=Date.now(),ic=d2;while(ic){if(d3>=ic.t&&ic.c(d3-ic.t)){ic.c=null}ic=ic.n}return d3}function ac(){var ic,d3=d2,id=Infinity;while(d3){if(d3.c){if(d3.t<id){id=d3.t}d3=(ic=d3).n}else{d3=ic?ic.n=d3.n:d2=d3.n}}af=ic;return id}function eg(d3,ic){return ic-(d3?Math.ceil(Math.log(d3)/Math.LN10):1)}ho.round=function(d3,ic){return ic?Math.round(d3*(ic=Math.pow(10,ic)))/ic:Math.round(d3)};var cv=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(dO);ho.formatPrefix=function(id,d3){var ic=0;if(id=+id){if(id<0){id*=-1}if(d3){id=ho.round(id,eg(id,d3))}ic=1+Math.floor(1e-12+Math.log(id)/Math.LN10);ic=Math.max(-24,Math.min(24,Math.floor((ic-1)/3)*3))}return cv[8+ic/3]};function dO(id,ic){var d3=Math.pow(10,cH(8-ic)*3);return{scale:ic>8?function(ie){return ie/d3}:function(ie){return ie*d3},symbol:id}}function bp(d3){var ie=d3.decimal,ih=d3.thousands,ig=d3.grouping,id=d3.currency,ic=ig&&ih?function(ip,il){var ik=ip.length,ij=[],ii=0,io=ig[0],im=0;while(ik>0&&io>0){if(im+io+1>il){io=Math.max(1,il-im)}ij.push(ip.substring(ik-=io,ik+io));if((im+=io+1)>il){break}io=ig[ii=(ii+1)%ig.length]}return ij.reverse().join(ih)}:gl;return function(ix){var ir=cA.exec(ix),iz=ir[1]||" ",iu=ir[2]||">",ij=ir[3]||"-",il=ir[4]||"",im=ir[5],ii=+ir[6],iA=ir[7],iq=ir[8],iv=ir[9],ik=1,it="",iy="",ip=false,iw=true;if(iq){iq=+iq.substring(1)}if(im||iz==="0"&&iu==="="){im=iz="0";iu="="}switch(iv){case"n":iA=true;iv="g";break;case"%":ik=100;iy="%";iv="f";break;case"p":ik=100;iy="%";iv="r";break;case"b":case"o":case"x":case"X":if(il==="#"){it="0"+iv.toLowerCase()}case"c":iw=false;case"d":ip=true;iq=0;break;case"s":ik=-1;iv="r";break}if(il==="$"){it=id[0],iy=id[1]}if(iv=="r"&&!iq){iv="g"}if(iq!=null){if(iv=="g"){iq=Math.max(1,Math.min(21,iq))}else{if(iv=="e"||iv=="f"){iq=Math.max(0,Math.min(20,iq))}}}iv=x.get(iv)||bo;var io=im&&iA;return function(iJ){var iH=iy;if(ip&&iJ%1){return""}var iD=iJ<0||iJ===0&&1/iJ<0?(iJ=-iJ,"-"):ij==="-"?"":ij;if(ik<0){var iK=ho.formatPrefix(iJ,iq);iJ=iK.scale(iJ);iH=iK.symbol+iy}else{iJ*=ik}iJ=iv(iJ,iq);var iF=iJ.lastIndexOf("."),iI,iB;if(iF<0){var iE=iw?iJ.lastIndexOf("e"):-1;if(iE<0){iI=iJ,iB=""}else{iI=iJ.substring(0,iE),iB=iJ.substring(iE)}}else{iI=iJ.substring(0,iF);iB=ie+iJ.substring(iF+1)}if(!im&&iA){iI=ic(iI,Infinity)}var iC=it.length+iI.length+iB.length+(io?0:iD.length),iG=iC<ii?new Array(iC=ii-iC+1).join(iz):"";if(io){iI=ic(iG+iI,iG.length?ii-iB.length:Infinity)}iD+=it;iJ=iI+iB;return(iu==="<"?iD+iJ+iG:iu===">"?iG+iD+iJ:iu==="^"?iG.substring(0,iC>>=1)+iD+iJ+iG.substring(iC):iD+(io?iJ:iG+iJ))+iH}}}var cA=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var x=ho.map({b:function(d3){return d3.toString(2)},c:function(d3){return String.fromCharCode(d3)},o:function(d3){return d3.toString(8)},x:function(d3){return d3.toString(16)},X:function(d3){return d3.toString(16).toUpperCase()},g:function(d3,ic){return d3.toPrecision(ic)},e:function(d3,ic){return d3.toExponential(ic)},f:function(d3,ic){return d3.toFixed(ic)},r:function(d3,ic){return(d3=ho.round(d3,eg(d3,ic))).toFixed(Math.max(0,Math.min(20,eg(d3*(1+1e-15),ic))))}});function bo(d3){return d3+""}var fG=ho.time={},hs=Date;function cm(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}cm.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){f1.setUTCDate.apply(this._,arguments)},setDay:function(){f1.setUTCDay.apply(this._,arguments)},setFullYear:function(){f1.setUTCFullYear.apply(this._,arguments)},setHours:function(){f1.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){f1.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){f1.setUTCMinutes.apply(this._,arguments)},setMonth:function(){f1.setUTCMonth.apply(this._,arguments)},setSeconds:function(){f1.setUTCSeconds.apply(this._,arguments)},setTime:function(){f1.setTime.apply(this._,arguments)}};var f1=Date.prototype;function c1(ih,d3,ic){function ik(il){var io=ih(il),im=ie(io,1);return il-io<im-il?io:im}function ij(il){d3(il=ih(new hs(il-1)),1);return il}function ie(im,il){d3(im=new hs(+im),il);return im}function ig(io,im,il){var ip=ij(io),iq=[];if(il>1){while(ip<im){if(!(ic(ip)%il)){iq.push(new Date(+ip))}d3(ip,1)}}else{while(ip<im){iq.push(new Date(+ip)),d3(ip,1)}}return iq}function id(ip,io,im){try{hs=cm;var il=new cm();il._=ip;return ig(il,io,im)}finally{hs=Date}}ih.floor=ih;ih.round=ik;ih.ceil=ij;ih.offset=ie;ih.range=ig;var ii=ih.utc=dT(ih);ii.floor=ii;ii.round=dT(ik);ii.ceil=dT(ij);ii.offset=dT(ie);ii.range=id;return ih}function dT(d3){return function(id,ic){try{hs=cm;var ie=new cm();ie._=id;return d3(ie,ic)._}finally{hs=Date}}}fG.year=c1(function(d3){d3=fG.day(d3);d3.setMonth(0,1);return d3},function(d3,ic){d3.setFullYear(d3.getFullYear()+ic)},function(d3){return d3.getFullYear()});fG.years=fG.year.range;fG.years.utc=fG.year.utc.range;fG.day=c1(function(ic){var d3=new hs(2000,0);d3.setFullYear(ic.getFullYear(),ic.getMonth(),ic.getDate());return d3},function(d3,ic){d3.setDate(d3.getDate()+ic)},function(d3){return d3.getDate()-1});fG.days=fG.day.range;fG.days.utc=fG.day.utc.range;fG.dayOfYear=function(d3){var ic=fG.year(d3);return Math.floor((d3-ic-(d3.getTimezoneOffset()-ic.getTimezoneOffset())*60000)/86400000)};["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(ic,id){id=7-id;var d3=fG[ic]=c1(function(ie){(ie=fG.day(ie)).setDate(ie.getDate()-(ie.getDay()+id)%7);return ie},function(ie,ig){ie.setDate(ie.getDate()+Math.floor(ig)*7)},function(ig){var ie=fG.year(ig).getDay();return Math.floor((fG.dayOfYear(ig)+(ie+id)%7)/7)-(ie!==id)});fG[ic+"s"]=d3.range;fG[ic+"s"].utc=d3.utc.range;fG[ic+"OfYear"]=function(ig){var ie=fG.year(ig).getDay();return Math.floor((fG.dayOfYear(ig)+(ie+id)%7)/7)}});fG.week=fG.sunday;fG.weeks=fG.sunday.range;fG.weeks.utc=fG.sunday.utc.range;fG.weekOfYear=fG.sundayOfYear;function aq(iw){var iB=iw.dateTime,iq=iw.date,ic=iw.time,ik=iw.periods,d3=iw.days,il=iw.shortDays,ip=iw.months,ig=iw.shortMonths;function iA(iI){var iK=iI.length;function iJ(iN){var iM=[],iO=-1,iL=0,iR,iQ,iP;while(++iO<iK){if(iI.charCodeAt(iO)===37){iM.push(iI.slice(iL,iO));if((iQ=aO[iR=iI.charAt(++iO)])!=null){iR=iI.charAt(++iO)}if(iP=iy[iR]){iR=iP(iN,iQ==null?iR==="e"?" ":"0":iQ)}iM.push(iR);iL=iO+1}}iM.push(iI.slice(iL,iO));return iM.join("")}iJ.parse=function(iN){var iP={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},iO=iu(iP,iI,iN,0);if(iO!=iN.length){return null}if("p" in iP){iP.H=iP.H%12+iP.p*12}var iL=iP.Z!=null&&hs!==cm,iM=new (iL?cm:hs)();if("j" in iP){iM.setFullYear(iP.y,0,iP.j)}else{if("W" in iP||"U" in iP){if(!("w" in iP)){iP.w="W" in iP?1:0}iM.setFullYear(iP.y,0,1);iM.setFullYear(iP.y,0,"W" in iP?(iP.w+6)%7+iP.W*7-(iM.getDay()+5)%7:iP.w+iP.U*7-(iM.getDay()+6)%7)}else{iM.setFullYear(iP.y,iP.m,iP.d)}}iM.setHours(iP.H+(iP.Z/100|0),iP.M+iP.Z%100,iP.S,iP.L);return iL?iM._:iM};iJ.toString=function(){return iI};return iJ}function iu(iL,iQ,iO,iM){var iP,iI,iR,iN=0,iJ=iQ.length,iK=iO.length;while(iN<iJ){if(iM>=iK){return -1}iP=iQ.charCodeAt(iN++);if(iP===37){iR=iQ.charAt(iN++);iI=ix[iR in aO?iQ.charAt(iN++):iR];if(!iI||(iM=iI(iL,iO,iM))<0){return -1}}else{if(iP!=iO.charCodeAt(iM++)){return -1}}}return iM}iA.utc=function(iJ){var iI=iA(iJ);function iK(iL){try{hs=cm;var iM=new hs();iM._=iL;return iI(iM)}finally{hs=Date}}iK.parse=function(iM){try{hs=cm;var iL=iI.parse(iM);return iL&&iL._}finally{hs=Date}};iK.toString=iI.toString;return iK};iA.multi=iA.utc.multi=gp;var ir=ho.map(),iE=cL(d3),iF=gU(d3),iD=cL(il),ih=gU(il),iG=cL(ip),iH=gU(ip),im=cL(ig),ie=gU(ig);ik.forEach(function(iJ,iI){ir.set(iJ.toLowerCase(),iI)});var iy={a:function(iI){return il[iI.getDay()]},A:function(iI){return d3[iI.getDay()]},b:function(iI){return ig[iI.getMonth()]},B:function(iI){return ip[iI.getMonth()]},c:iA(iB),d:function(iJ,iI){return dz(iJ.getDate(),iI,2)},e:function(iJ,iI){return dz(iJ.getDate(),iI,2)},H:function(iJ,iI){return dz(iJ.getHours(),iI,2)},I:function(iJ,iI){return dz(iJ.getHours()%12||12,iI,2)},j:function(iJ,iI){return dz(1+fG.dayOfYear(iJ),iI,3)},L:function(iJ,iI){return dz(iJ.getMilliseconds(),iI,3)},m:function(iJ,iI){return dz(iJ.getMonth()+1,iI,2)},M:function(iJ,iI){return dz(iJ.getMinutes(),iI,2)},p:function(iI){return ik[+(iI.getHours()>=12)]},S:function(iJ,iI){return dz(iJ.getSeconds(),iI,2)},U:function(iJ,iI){return dz(fG.sundayOfYear(iJ),iI,2)},w:function(iI){return iI.getDay()},W:function(iJ,iI){return dz(fG.mondayOfYear(iJ),iI,2)},x:iA(iq),X:iA(ic),y:function(iJ,iI){return dz(iJ.getFullYear()%100,iI,2)},Y:function(iJ,iI){return dz(iJ.getFullYear()%10000,iI,4)},Z:fW,"%":function(){return"%"}};var ix={a:io,A:id,b:iC,B:iv,c:ij,d:b4,e:b4,H:aQ,I:aQ,j:F,L:gX,m:gJ,M:cW,p:it,S:dY,U:bu,w:dV,W:dI,x:iz,X:ii,y:O,Y:bB,Z:a5,"%":ft};function io(iJ,iI,iK){iD.lastIndex=0;var iL=iD.exec(iI.slice(iK));return iL?(iJ.w=ih.get(iL[0].toLowerCase()),iK+iL[0].length):-1}function id(iJ,iI,iK){iE.lastIndex=0;var iL=iE.exec(iI.slice(iK));return iL?(iJ.w=iF.get(iL[0].toLowerCase()),iK+iL[0].length):-1}function iC(iJ,iI,iK){im.lastIndex=0;var iL=im.exec(iI.slice(iK));return iL?(iJ.m=ie.get(iL[0].toLowerCase()),iK+iL[0].length):-1}function iv(iJ,iI,iK){iG.lastIndex=0;var iL=iG.exec(iI.slice(iK));return iL?(iJ.m=iH.get(iL[0].toLowerCase()),iK+iL[0].length):-1}function ij(iJ,iI,iK){return iu(iJ,iy.c.toString(),iI,iK)}function iz(iJ,iI,iK){return iu(iJ,iy.x.toString(),iI,iK)}function ii(iJ,iI,iK){return iu(iJ,iy.X.toString(),iI,iK)}function it(iJ,iI,iK){var iL=ir.get(iI.slice(iK,iK+=2).toLowerCase());return iL==null?-1:(iJ.p=iL,iK)}return iA}var aO={"-":"",_:" ","0":"0"},f6=/^\s*\d+/,e8=/^%/;function dz(ig,ih,id){var d3=ig<0?"-":"",ic=(d3?-ig:ig)+"",ie=ic.length;return d3+(ie<id?new Array(id-ie+1).join(ih)+ic:ic)}function cL(d3){return new RegExp("^(?:"+d3.map(ho.requote).join("|")+")","i")}function gU(id){var ic=new aI(),d3=-1,ie=id.length;while(++d3<ie){ic.set(id[d3].toLowerCase(),d3)}return ic}function dV(ic,d3,id){f6.lastIndex=0;var ie=f6.exec(d3.slice(id,id+1));return ie?(ic.w=+ie[0],id+ie[0].length):-1}function bu(ic,d3,id){f6.lastIndex=0;var ie=f6.exec(d3.slice(id));return ie?(ic.U=+ie[0],id+ie[0].length):-1}function dI(ic,d3,id){f6.lastIndex=0;var ie=f6.exec(d3.slice(id));return ie?(ic.W=+ie[0],id+ie[0].length):-1}function bB(ic,d3,id){f6.lastIndex=0;var ie=f6.exec(d3.slice(id,id+4));return ie?(ic.y=+ie[0],id+ie[0].length):-1}function O(ic,d3,id){f6.lastIndex=0;var ie=f6.exec(d3.slice(id,id+2));return ie?(ic.y=c3(+ie[0]),id+ie[0].length):-1}function a5(ic,d3,id){return/^[+-]\d{4}$/.test(d3=d3.slice(id,id+5))?(ic.Z=-d3,id+5):-1}function c3(d3){return d3+(d3>68?1900:2000)}function gJ(ic,d3,id){f6.lastIndex=0;var ie=f6.exec(d3.slice(id,id+2));return ie?(ic.m=ie[0]-1,id+ie[0].length):-1}function b4(ic,d3,id){f6.lastIndex=0;var ie=f6.exec(d3.slice(id,id+2));return ie?(ic.d=+ie[0],id+ie[0].length):-1}function F(ic,d3,id){f6.lastIndex=0;var ie=f6.exec(d3.slice(id,id+3));return ie?(ic.j=+ie[0],id+ie[0].length):-1}function aQ(ic,d3,id){f6.lastIndex=0;var ie=f6.exec(d3.slice(id,id+2));return ie?(ic.H=+ie[0],id+ie[0].length):-1}function cW(ic,d3,id){f6.lastIndex=0;var ie=f6.exec(d3.slice(id,id+2));return ie?(ic.M=+ie[0],id+ie[0].length):-1}function dY(ic,d3,id){f6.lastIndex=0;var ie=f6.exec(d3.slice(id,id+2));return ie?(ic.S=+ie[0],id+ie[0].length):-1}function gX(ic,d3,id){f6.lastIndex=0;var ie=f6.exec(d3.slice(id,id+3));return ie?(ic.L=+ie[0],id+ie[0].length):-1}function fW(ig){var ie=ig.getTimezoneOffset(),id=ie>0?"-":"+",ic=cH(ie)/60|0,d3=cH(ie)%60;return id+dz(ic,"0",2)+dz(d3,"0",2)}function ft(ic,d3,id){e8.lastIndex=0;var ie=e8.exec(d3.slice(id,id+1));return ie?id+ie[0].length:-1}function gp(d3){var id=d3.length,ic=-1;while(++ic<id){d3[ic][0]=this(d3[ic][0])}return function(ie){var ig=0,ih=d3[ig];while(!ih[1](ie)){ih=d3[++ig]}return ih[0](ie)}}ho.locale=function(d3){return{numberFormat:bp(d3),timeFormat:aq(d3)}};var di=ho.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ho.format=di.numberFormat;ho.geo={};function fc(){}fc.prototype={s:0,t:0,add:function(d3){dq(d3,this.t,hP);dq(hP.s,this.s,this);if(this.s){this.t+=hP.t}else{this.s=hP.t}},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var hP=new fc();function dq(ie,id,ih){var ic=ih.s=ie+id,d3=ic-ie,ig=ic-d3;ih.t=ie-ig+(id-d3)}ho.geo.stream=function(d3,ic){if(d3&&A.hasOwnProperty(d3.type)){A[d3.type](d3,ic)}else{aP(d3,ic)}};function aP(ic,d3){if(ic&&eS.hasOwnProperty(ic.type)){eS[ic.type](ic,d3)}}var A={Feature:function(d3,ic){aP(d3.geometry,ic)},FeatureCollection:function(d3,ie){var id=d3.features,ic=-1,ig=id.length;while(++ic<ig){aP(id[ic].geometry,ie)}}};var eS={Sphere:function(d3,ic){ic.sphere()},Point:function(d3,ic){d3=d3.coordinates;ic.point(d3[0],d3[1],d3[2])},MultiPoint:function(d3,id){var ie=d3.coordinates,ic=-1,ig=ie.length;while(++ic<ig){d3=ie[ic],id.point(d3[0],d3[1],d3[2])}},LineString:function(d3,ic){cp(d3.coordinates,ic,0)},MultiLineString:function(d3,id){var ie=d3.coordinates,ic=-1,ig=ie.length;while(++ic<ig){cp(ie[ic],id,0)}},Polygon:function(d3,ic){hf(d3.coordinates,ic)},MultiPolygon:function(d3,id){var ie=d3.coordinates,ic=-1,ig=ie.length;while(++ic<ig){hf(ie[ic],id)}},GeometryCollection:function(d3,ie){var id=d3.geometries,ic=-1,ig=id.length;while(++ic<ig){aP(id[ic],ie)}}};function cp(ie,id,d3){var ic=-1,ih=ie.length-d3,ig;id.lineStart();while(++ic<ih){ig=ie[ic],id.point(ig[0],ig[1],ig[2])}id.lineEnd()}function hf(id,ic){var d3=-1,ie=id.length;ic.polygonStart();while(++d3<ie){cp(id[d3],ic,1)}ic.polygonEnd()}ho.geo.area=function(d3){ba=0;ho.geo.stream(d3,hl);return ba};var ba,fP=new fc();var hl={sphere:function(){ba+=4*ge},point:aH,lineStart:aH,lineEnd:aH,polygonStart:function(){fP.reset();hl.lineStart=b7},polygonEnd:function(){var d3=2*fP;ba+=d3<0?4*ge+d3:d3;hl.lineStart=hl.lineEnd=hl.point=aH}};function b7(){var ic,d3,ie,id,ig;hl.point=function(ij,ii){hl.point=ih;ie=(ic=ij)*J,id=Math.cos(ii=(d3=ii)*J/2+ge/4),ig=Math.sin(ii)};function ih(ik,it){ik*=J;it=it*J/2+ge/4;var io=ik-ie,im=io>=0?1:-1,ip=im*io,ii=Math.cos(it),il=Math.sin(it),ij=ig*il,ir=id*ii+ij*Math.cos(ip),iq=ij*im*Math.sin(ip);fP.add(Math.atan2(iq,ir));ie=ik,id=ii,ig=il}hl.lineEnd=function(){ih(ic,d3)}}function av(d3){var id=d3[0],ic=d3[1],ie=Math.cos(ic);return[ie*Math.cos(id),ie*Math.sin(id),Math.sin(ic)]}function ay(ic,d3){return ic[0]*d3[0]+ic[1]*d3[1]+ic[2]*d3[2]}function cZ(ic,d3){return[ic[1]*d3[2]-ic[2]*d3[1],ic[2]*d3[0]-ic[0]*d3[2],ic[0]*d3[1]-ic[1]*d3[0]]}function cC(ic,d3){ic[0]+=d3[0];ic[1]+=d3[1];ic[2]+=d3[2]}function gf(d3,ic){return[d3[0]*ic,d3[1]*ic,d3[2]*ic]}function fk(ic){var d3=Math.sqrt(ic[0]*ic[0]+ic[1]*ic[1]+ic[2]*ic[2]);ic[0]/=d3;ic[1]/=d3;ic[2]/=d3}function h8(d3){return[Math.atan2(d3[1],d3[0]),cg(d3[2])]}function eT(ic,d3){return cH(ic[0]-d3[0])<gn&&cH(ic[1]-d3[1])<gn}ho.geo.bounds=function(){var ie,ix,ic,iv,ig,io,iq,ih,ik,ii,il;var d3={point:ir,lineStart:im,lineEnd:iu,polygonStart:function(){d3.point=it;d3.lineStart=ij;d3.lineEnd=ip;ik=0;hl.polygonStart()},polygonEnd:function(){hl.polygonEnd();d3.point=ir;d3.lineStart=im;d3.lineEnd=iu;if(fP<0){ie=-(ic=180),ix=-(iv=90)}else{if(ik>gn){iv=90}else{if(ik<-gn){ix=-90}}}il[0]=ie,il[1]=ic}};function ir(iB,iA){ii.push(il=[ie=iB,ic=iB]);if(iA<ix){ix=iA}if(iA>iv){iv=iA}}function id(iE,iK){var iA=av([iE*J,iK*J]);if(ih){var iG=cZ(ih,iA),iH=[iG[1],-iG[0],0],iF=cZ(iH,iG);fk(iF);iF=h8(iF);var iI=iE-ig,iJ=iI>0?1:-1,iB=iF[0]*hF*iJ,iD=cH(iI)>180;if(iD^(iJ*ig<iB&&iB<iJ*iE)){var iC=iF[1]*hF;if(iC>iv){iv=iC}}else{if(iB=(iB+360)%360-180,iD^(iJ*ig<iB&&iB<iJ*iE)){var iC=-iF[1]*hF;if(iC<ix){ix=iC}}else{if(iK<ix){ix=iK}if(iK>iv){iv=iK}}}if(iD){if(iE<ig){if(iw(ie,iE)>iw(ie,ic)){ic=iE}}else{if(iw(iE,ic)>iw(ie,ic)){ie=iE}}}else{if(ic>=ie){if(iE<ie){ie=iE}if(iE>ic){ic=iE}}else{if(iE>ig){if(iw(ie,iE)>iw(ie,ic)){ic=iE}}else{if(iw(iE,ic)>iw(ie,ic)){ie=iE}}}}}else{ir(iE,iK)}ih=iA,ig=iE}function im(){d3.point=id}function iu(){il[0]=ie,il[1]=ic;d3.point=ir;ih=null}function it(iB,iA){if(ih){var iC=iB-ig;ik+=cH(iC)>180?iC+(iC>0?360:-360):iC}else{io=iB,iq=iA}hl.point(iB,iA);id(iB,iA)}function ij(){hl.lineStart()}function ip(){it(io,iq);hl.lineEnd();if(cH(ik)>gn){ie=-(ic=180)}il[0]=ie,il[1]=ic;ih=null}function iw(iB,iA){return(iA-=iB)<0?iA+360:iA}function iz(iB,iA){return iB[0]-iA[0]}function iy(iA,iB){return iB[0]<=iB[1]?iB[0]<=iA&&iA<=iB[1]:iA<iB[0]||iB[1]<iA}return function(iF){iv=ic=-(ie=ix=Infinity);ii=[];ho.geo.stream(iF,d3);var iH=ii.length;if(iH){ii.sort(iz);for(var iE=1,iC=ii[0],iB,iA=[iC];iE<iH;++iE){iB=ii[iE];if(iy(iB[0],iC)||iy(iB[1],iC)){if(iw(iC[0],iB[1])>iw(iC[0],iC[1])){iC[1]=iB[1]}if(iw(iB[0],iC[1])>iw(iC[0],iC[1])){iC[0]=iB[0]}}else{iA.push(iC=iB)}}var iG=-Infinity,iD;for(var iH=iA.length-1,iE=0,iC=iA[iH],iB;iE<=iH;iC=iB,++iE){iB=iA[iE];if((iD=iw(iC[1],iB[0]))>iG){iG=iD,ie=iB[0],ic=iC[1]}}}ii=il=null;return ie===Infinity||ix===Infinity?[[NaN,NaN],[NaN,NaN]]:[[ie,ix],[ic,iv]]}}();ho.geo.centroid=function(id){ec=ea=dL=dm=c7=dK=dl=c5=dJ=dk=c4=0;ho.geo.stream(id,gh);var ic=dJ,ig=dk,ie=c4,d3=ic*ic+ig*ig+ie*ie;if(d3<eE){ic=dK,ig=dl,ie=c5;if(ea<gn){ic=dL,ig=dm,ie=c7}d3=ic*ic+ig*ig+ie*ie;if(d3<eE){return[NaN,NaN]}}return[Math.atan2(ig,ic)*hF,cg(ie/Math.sqrt(d3))*hF]};var ec,ea,dL,dm,c7,dK,dl,c5,dJ,dk,c4;var gh={sphere:aH,point:cb,lineStart:fj,lineEnd:aF,polygonStart:function(){gh.lineStart=bs},polygonEnd:function(){gh.lineStart=fj}};function cb(ic,d3){ic*=J;var id=Math.cos(d3*=J);gt(id*Math.cos(ic),id*Math.sin(ic),Math.sin(d3))}function gt(d3,id,ic){++ec;dL+=(d3-dL)/ec;dm+=(id-dm)/ec;c7+=(ic-c7)/ec}function fj(){var d3,ic,ie;gh.point=function(ih,ig){ih*=J;var ii=Math.cos(ig*=J);d3=ii*Math.cos(ih);ic=ii*Math.sin(ih);ie=Math.sin(ig);gh.point=id;gt(d3,ic,ie)};function id(ij,ii){ij*=J;var ik=Math.cos(ii*=J),ig=ik*Math.cos(ij),im=ik*Math.sin(ij),il=Math.sin(ii),ih=Math.atan2(Math.sqrt((ih=ic*il-ie*im)*ih+(ih=ie*ig-d3*il)*ih+(ih=d3*im-ic*ig)*ih),d3*ig+ic*im+ie*il);ea+=ih;dK+=ih*(d3+(d3=ig));dl+=ih*(ic+(ic=im));c5+=ih*(ie+(ie=il));gt(d3,ic,ie)}}function aF(){gh.point=cb}function bs(){var ic,d3,id,ie,ih;gh.point=function(ij,ii){ic=ij,d3=ii;gh.point=ig;ij*=J;var ik=Math.cos(ii*=J);id=ik*Math.cos(ij);ie=ik*Math.sin(ij);ih=Math.sin(ii);gt(id,ie,ih)};gh.lineEnd=function(){ig(ic,d3);gh.lineEnd=aF;gh.point=cb};function ig(io,iw){io*=J;var il=Math.cos(iw*=J),ir=il*Math.cos(io),iq=il*Math.sin(io),ip=Math.sin(iw),im=ie*ip-ih*iq,ik=ih*ir-id*ip,ij=id*iq-ie*ir,ii=Math.sqrt(im*im+ik*ik+ij*ij),iv=id*ir+ie*iq+ih*ip,iu=ii&&-ad(iv)/ii,it=Math.atan2(ii,iv);dJ+=iu*im;dk+=iu*ik;c4+=iu*ij;ea+=it;dK+=it*(id+(id=ir));dl+=it*(ie+(ie=iq));c5+=it*(ih+(ih=ip));gt(id,ie,ih)}}function e6(ic,d3){function id(ie,ig){return ie=ic(ie,ig),d3(ie[0],ie[1])}if(ic.invert&&d3.invert){id.invert=function(ie,ig){return ie=d3.invert(ie,ig),ie&&ic.invert(ie[0],ie[1])}}return id}function ah(){return true}function cs(ii,ic,im,ik,ie){var il=[],ig=[];ii.forEach(function(iw){if((iz=iw.length-1)<=0){return}var iz,iy=iw[0],ix=iw[iz];if(eT(iy,ix)){ie.lineStart();for(var iv=0;iv<iz;++iv){ie.point((iy=iw[iv])[0],iy[1])}ie.lineEnd();return}var iu=new f(iy,iw,null,true),it=new f(iy,null,iu,false);iu.o=it;il.push(iu);ig.push(it);iu=new f(ix,iw,null,false);it=new f(ix,null,iu,true);iu.o=it;il.push(iu);ig.push(it)});ig.sort(ic);hK(il);hK(ig);if(!il.length){return}for(var ih=0,ip=im,id=ig.length;ih<id;++ih){ig[ih].e=ip=!ip}var d3=il[0],iq,io;while(1){var ij=d3,ir=true;while(ij.v){if((ij=ij.n)===d3){return}}iq=ij.z;ie.lineStart();do{ij.v=ij.o.v=true;if(ij.e){if(ir){for(var ih=0,id=iq.length;ih<id;++ih){ie.point((io=iq[ih])[0],io[1])}}else{ik(ij.x,ij.n.x,1,ie)}ij=ij.n}else{if(ir){iq=ij.p.z;for(var ih=iq.length-1;ih>=0;--ih){ie.point((io=iq[ih])[0],io[1])}}else{ik(ij.x,ij.p.x,-1,ie)}ij=ij.p}ij=ij.o;iq=ij.z;ir=!ir}while(!ij.v);ie.lineEnd()}}function hK(ig){if(!(ie=ig.length)){return}var ie,id=0,ic=ig[0],d3;while(++id<ie){ic.n=d3=ig[id];d3.p=ic;ic=d3}ic.n=d3=ig[0];d3.p=ic}function f(ic,id,d3,ie){this.x=ic;this.z=id;this.o=d3;this.e=ie;this.v=false;this.n=this.p=null}function ei(d3,ie,ic,id){return function(ix,ik){var ip=ie(ik),ij=ix.invert(id[0],id[1]);var iz={point:iu,lineStart:ir,lineEnd:iy,polygonStart:function(){iz.point=ih;iz.lineStart=il;iz.lineEnd=it;iv=[];iq=[]},polygonEnd:function(){iz.point=iu;iz.lineStart=ir;iz.lineEnd=iy;iv=ho.merge(iv);var iA=fM(ij,iq);if(iv.length){if(!ii){ik.polygonStart(),ii=true}cs(iv,dW,iA,ic,ik)}else{if(iA){if(!ii){ik.polygonStart(),ii=true}ik.lineStart();ic(null,null,1,ik);ik.lineEnd()}}if(ii){ik.polygonEnd(),ii=false}iv=iq=null},sphere:function(){ik.polygonStart();ik.lineStart();ic(null,null,1,ik);ik.lineEnd();ik.polygonEnd()}};function iu(iC,iB){var iA=ix(iC,iB);if(d3(iC=iA[0],iB=iA[1])){ik.point(iC,iB)}}function im(iC,iB){var iA=ix(iC,iB);ip.point(iA[0],iA[1])}function ir(){iz.point=im;ip.lineStart()}function iy(){iz.point=iu;ip.lineEnd()}var iv;var iw=Q(),ig=ie(iw),ii=false,iq,io;function ih(iC,iB){io.push([iC,iB]);var iA=ix(iC,iB);ig.point(iA[0],iA[1])}function il(){ig.lineStart();io=[]}function it(){ih(io[0][0],io[0][1]);ig.lineEnd();var iC=ig.clean(),iE=iw.buffer(),iD,iF=iE.length;io.pop();iq.push(io);io=null;if(!iF){return}if(iC&1){iD=iE[0];var iF=iD.length-1,iB=-1,iA;if(iF>0){if(!ii){ik.polygonStart(),ii=true}ik.lineStart();while(++iB<iF){ik.point((iA=iD[iB])[0],iA[1])}ik.lineEnd()}return}if(iF>1&&iC&2){iE.push(iE.pop().concat(iE.shift()))}iv.push(iE.filter(eO))}return iz}}function eO(d3){return d3.length>1}function Q(){var ic=[],d3;return{lineStart:function(){ic.push(d3=[])},point:function(ie,id){d3.push([ie,id])},lineEnd:aH,buffer:function(){var id=ic;ic=[];d3=null;return id},rejoin:function(){if(ic.length>1){ic.push(ic.pop().concat(ic.shift()))}}}}function dW(ic,d3){return((ic=ic.x)[0]<0?ic[1]-eq-gn:eq-ic[1])-((d3=d3.x)[0]<0?d3[1]-eq-gn:eq-d3[1])}var l=ei(ah,eF,dd,[-ge,-ge/2]);function eF(ig){var ic=NaN,d3=NaN,ie=NaN,id;return{lineStart:function(){ig.lineStart();id=1},point:function(ii,ih){var ik=ii>0?ge:-ge,ij=cH(ii-ic);if(cH(ij-ge)<gn){ig.point(ic,d3=(d3+ih)/2>0?eq:-eq);ig.point(ie,d3);ig.lineEnd();ig.lineStart();ig.point(ik,d3);ig.point(ii,d3);id=0}else{if(ie!==ik&&ij>=ge){if(cH(ic-ie)<gn){ic-=ie*gn}if(cH(ii-ik)<gn){ii-=ik*gn}d3=v(ic,d3,ii,ih);ig.point(ie,d3);ig.lineEnd();ig.lineStart();ig.point(ik,d3);id=0}}ig.point(ic=ii,d3=ih);ie=ik},lineEnd:function(){ig.lineEnd();ic=d3=NaN},clean:function(){return 2-id}}}function v(ih,ig,ie,id){var ic,d3,ii=Math.sin(ih-ie);return cH(ii)>gn?Math.atan((Math.sin(ig)*(d3=Math.cos(id))*Math.sin(ie)-Math.sin(id)*(ic=Math.cos(ig))*Math.sin(ih))/(ic*d3*ii)):(ig+id)/2}function dd(ih,ig,ie,id){var d3;if(ih==null){d3=ie*eq;id.point(-ge,d3);id.point(0,d3);id.point(ge,d3);id.point(ge,0);id.point(ge,-d3);id.point(0,-d3);id.point(-ge,-d3);id.point(-ge,0);id.point(-ge,d3)}else{if(cH(ih[0]-ig[0])>gn){var ic=ih[0]<ig[0]?ge:-ge;d3=ie*ic/2;id.point(-ic,d3);id.point(0,d3);id.point(ic,d3)}else{id.point(ig[0],ig[1])}}}function fM(ix,it){var iF=ix[0],iG=ix[1],d3=[Math.sin(iF),-Math.cos(iF),0],ir=0,iD=0;fP.reset();for(var iC=0,iu=it.length;iC<iu;++iC){var ik=it[iC],iw=ik.length;if(!iw){continue}var ih=ik[0],id=ih[0],iE=ih[1]/2+ge/4,ij=Math.sin(iE),ic=Math.cos(iE),iB=1;while(true){if(iB===iw){iB=0}ix=ik[iB];var iv=ix[0],iq=ix[1]/2+ge/4,ie=Math.sin(iq),iA=Math.cos(iq),iz=iv-id,il=iz>=0?1:-1,io=il*iz,ig=io>ge,iy=ij*ie;fP.add(Math.atan2(iy*il*Math.sin(io),ic*iA+iy*Math.cos(io)));ir+=ig?iz+il*f8:iz;if(ig^id>=iF^iv>=iF){var im=cZ(av(ih),av(ix));fk(im);var ip=cZ(d3,im);fk(ip);var ii=(ig^iz>=0?-1:1)*cg(ip[2]);if(iG>ii||iG===ii&&(im[0]||im[1])){iD+=ig^iz>=0?1:-1}}if(!iB++){break}id=iv,ij=ie,ic=iA,ih=ix}}return(ir<-gn||ir<gn&&fP<-gn)^iD&1}function aL(ig){var ih=Math.cos(ig),ie=ih>0,ii=cH(ih)>gn,ij=b6(ig,6*J);return ei(id,ik,ij,ie?[0,-ig]:[-ge,ig-ge]);function id(im,il){return Math.cos(im)*Math.cos(il)>ih}function ik(ir){var iq,ip,il,io,im;return{lineStart:function(){io=il=false;im=1},point:function(iu,it){var iy=[iu,it],ix,iv=id(iu,it),iz=ie?iv?0:d3(iu,it):iv?d3(iu+(iu<0?ge:-ge),it):0;if(!iq&&(io=il=iv)){ir.lineStart()}if(iv!==il){ix=ic(iq,iy);if(eT(iq,ix)||eT(iy,ix)){iy[0]+=gn;iy[1]+=gn;iv=id(iy[0],iy[1])}}if(iv!==il){im=0;if(iv){ir.lineStart();ix=ic(iy,iq);ir.point(ix[0],ix[1])}else{ix=ic(iq,iy);ir.point(ix[0],ix[1]);ir.lineEnd()}iq=ix}else{if(ii&&iq&&ie^iv){var iw;if(!(iz&ip)&&(iw=ic(iy,iq,true))){im=0;if(ie){ir.lineStart();ir.point(iw[0][0],iw[0][1]);ir.point(iw[1][0],iw[1][1]);ir.lineEnd()}else{ir.point(iw[1][0],iw[1][1]);ir.lineEnd();ir.lineStart();ir.point(iw[0][0],iw[0][1])}}}}if(iv&&(!iq||!eT(iq,iy))){ir.point(iy[0],iy[1])}iq=iy,il=iv,ip=iz},lineEnd:function(){if(il){ir.lineEnd()}iq=null},clean:function(){return im|(io&&il)<<1}}}function ic(iO,iN,iq){var io=av(iO),il=av(iN);var iw=[1,0,0],it=cZ(io,il),iz=ay(it,it),iM=it[0],iF=iz-iM*iM;if(!iF){return !iq&&iO}var iI=ih*iz/iF,iH=-ih*iM/iF,iP=cZ(iw,it),iG=gf(iw,iI),iE=gf(it,iH);cC(iG,iE);var iB=iP,iA=ay(iG,iB),ir=ay(iB,iB),iy=iA*iA-ir*(ay(iG,iG)-1);if(iy<0){return}var iC=Math.sqrt(iy),iD=gf(iB,(-iA-iC)/ir);cC(iD,iG);iD=h8(iD);if(!iq){return iD}var ip=iO[0],im=iN[0],iK=iO[1],iJ=iN[1],iv;if(im<ip){iv=ip,ip=im,im=iv}var iu=im-ip,iQ=cH(iu-ge)<gn,iL=iQ||iu<gn;if(!iQ&&iJ<iK){iv=iK,iK=iJ,iJ=iv}if(iL?iQ?iK+iJ>0^iD[1]<(cH(iD[0]-ip)<gn?iK:iJ):iK<=iD[1]&&iD[1]<=iJ:iu>ge^(ip<=iD[0]&&iD[0]<=im)){var ix=gf(iB,(-iA+iC)/ir);cC(ix,iG);return[iD,h8(ix)]}}function d3(im,il){var ip=ie?ig:ge-ig,io=0;if(im<-ip){io|=1}else{if(im>ip){io|=2}}if(il<-ip){io|=4}else{if(il>ip){io|=8}}return io}}function ak(ic,ie,d3,id){return function(it){var io=it.a,im=it.b,ih=io.x,ir=io.y,il=im.x,ik=im.y,ij=0,ii=1,iq=il-ih,ip=ik-ir,ig;ig=ic-ih;if(!iq&&ig>0){return}ig/=iq;if(iq<0){if(ig<ij){return}if(ig<ii){ii=ig}}else{if(iq>0){if(ig>ii){return}if(ig>ij){ij=ig}}}ig=d3-ih;if(!iq&&ig<0){return}ig/=iq;if(iq<0){if(ig>ii){return}if(ig>ij){ij=ig}}else{if(iq>0){if(ig<ij){return}if(ig<ii){ii=ig}}}ig=ie-ir;if(!ip&&ig>0){return}ig/=ip;if(ip<0){if(ig<ij){return}if(ig<ii){ii=ig}}else{if(ip>0){if(ig>ii){return}if(ig>ij){ij=ig}}}ig=id-ir;if(!ip&&ig<0){return}ig/=ip;if(ip<0){if(ig>ii){return}if(ig>ij){ij=ig}}else{if(ip>0){if(ig<ij){return}if(ig<ii){ii=ig}}}if(ij>0){it.a={x:ih+ij*iq,y:ir+ij*ip}}if(ii<1){it.b={x:ih+ii*iq,y:ir+ii*ip}}return it}}var cK=1000000000;ho.geo.clipExtent=function(){var id,ih,ic,ie,ii,ig,d3={stream:function(ij){if(ii){ii.valid=false}ii=ig(ij);ii.valid=true;return ii},extent:function(ij){if(!arguments.length){return[[id,ih],[ic,ie]]}ig=ef(id=+ij[0][0],ih=+ij[0][1],ic=+ij[1][0],ie=+ij[1][1]);if(ii){ii.valid=false,ii=null}return d3}};return d3.extent([[0,0],[960,500]])};function ef(ic,ig,d3,id){return function(ip){var ik=ip,iv=Q(),il=ak(ic,ig,d3,id),iD,iw,it;var iH={point:iC,lineStart:iz,lineEnd:iF,polygonStart:function(){ip=iv;iD=[];iw=[];iE=true},polygonEnd:function(){ip=ik;iD=ho.merge(iD);var iJ=iy([ic,id]),iI=iE&&iJ,iK=iD.length;if(iI||iK){ip.polygonStart();if(iI){ip.lineStart();iu(null,null,1,ip);ip.lineEnd()}if(iK){cs(iD,ih,iJ,iu,ip)}ip.polygonEnd()}iD=iw=it=null}};function iy(iI){var iQ=0,iJ=iw.length,iO=iI[1];for(var iM=0;iM<iJ;++iM){for(var iL=1,iR=iw[iM],iK=iR.length,iP=iR[0],iN;iL<iK;++iL){iN=iR[iL];if(iP[1]<=iO){if(iN[1]>iO&&e0(iP,iN,iI)>0){++iQ}}else{if(iN[1]<=iO&&e0(iP,iN,iI)<0){--iQ}}iP=iN}}return iQ!==0}function iu(iN,iM,iL,iK){var iJ=0,iI=0;if(iN==null||(iJ=ie(iN,iL))!==(iI=ie(iM,iL))||ii(iN,iM)<0^iL>0){do{iK.point(iJ===0||iJ===3?ic:d3,iJ>1?id:ig)}while((iJ=(iJ+iL+4)%4)!==iI)}else{iK.point(iM[0],iM[1])}}function ix(iI,iJ){return ic<=iI&&iI<=d3&&ig<=iJ&&iJ<=id}function iC(iI,iJ){if(ix(iI,iJ)){ip.point(iI,iJ)}}var iB,iq,iA,iG,io,im,ir,iE;function iz(){iH.point=ij;if(iw){iw.push(it=[])}ir=true;im=false;iG=io=NaN}function iF(){if(iD){ij(iB,iq);if(iA&&im){iv.rejoin()}iD.push(iv.buffer())}iH.point=iC;if(im){ip.lineEnd()}}function ij(iI,iL){iI=Math.max(-cK,Math.min(cK,iI));iL=Math.max(-cK,Math.min(cK,iL));var iK=ix(iI,iL);if(iw){it.push([iI,iL])}if(ir){iB=iI,iq=iL,iA=iK;ir=false;if(iK){ip.lineStart();ip.point(iI,iL)}}else{if(iK&&im){ip.point(iI,iL)}else{var iJ={a:{x:iG,y:io},b:{x:iI,y:iL}};if(il(iJ)){if(!im){ip.lineStart();ip.point(iJ.a.x,iJ.a.y)}ip.point(iJ.b.x,iJ.b.y);if(!iK){ip.lineEnd()}iE=false}else{if(iK){ip.lineStart();ip.point(iI,iL);iE=false}}}}iG=iI,io=iL,im=iK}return iH};function ie(ik,ij){return cH(ik[0]-ic)<gn?ij>0?0:3:cH(ik[0]-d3)<gn?ij>0?2:1:cH(ik[1]-ig)<gn?ij>0?1:0:ij>0?3:2}function ih(ik,ij){return ii(ik.x,ij.x)}function ii(im,ik){var il=ie(im,1),ij=ie(ik,1);return il!==ij?il-ij:il===0?ik[1]-im[1]:il===1?im[0]-ik[0]:il===2?im[1]-ik[1]:ik[0]-im[0]}}function b8(ie){var id=0,ic=ge/3,d3=fh(ie),ig=d3(id,ic);ig.parallels=function(ih){if(!arguments.length){return[id/ge*180,ic/ge*180]}return d3(id=ih[0]*ge/180,ic=ih[1]*ge/180)};return ig}function N(ic,d3){var ig=Math.sin(ic),ii=(ig+Math.sin(d3))/2,ih=1+ig*(2*ii-ig),ie=Math.sqrt(ih)/ii;function id(ik,ij){var il=Math.sqrt(ih-2*ii*Math.sin(ij))/ii;return[il*Math.sin(ik*=ii),ie-il*Math.cos(ik)]}id.invert=function(ij,il){var ik=ie-il;return[Math.atan2(ij,ik)/ii,cg((ih-(ij*ij+ik*ik)*ii*ii)/(2*ii))]};return id}(ho.geo.conicEqualArea=function(){return b8(N)}).raw=N;ho.geo.albers=function(){return ho.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)};ho.geo.albersUsa=function(){var ic=ho.geo.albers();var ih=ho.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]);var id=ho.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]);var ij,d3={point:function(il,im){ij=[il,im]}},ig,ii,ie;function ik(im){var il=im[0],io=im[1];ij=null;(ig(il,io),ij)||(ii(il,io),ij)||ie(il,io);return ij}ik.invert=function(ip){var im=ic.scale(),io=ic.translate(),il=(ip[0]-io[0])/im,iq=(ip[1]-io[1])/im;return(iq>=0.12&&iq<0.234&&il>=-0.425&&il<-0.214?ih:iq>=0.166&&iq<0.234&&il>=-0.214&&il<-0.115?id:ic).invert(ip)};ik.stream=function(io){var im=ic.stream(io),ip=ih.stream(io),il=id.stream(io);return{point:function(iq,ir){im.point(iq,ir);ip.point(iq,ir);il.point(iq,ir)},sphere:function(){im.sphere();ip.sphere();il.sphere()},lineStart:function(){im.lineStart();ip.lineStart();il.lineStart()},lineEnd:function(){im.lineEnd();ip.lineEnd();il.lineEnd()},polygonStart:function(){im.polygonStart();ip.polygonStart();il.polygonStart()},polygonEnd:function(){im.polygonEnd();ip.polygonEnd();il.polygonEnd()}}};ik.precision=function(il){if(!arguments.length){return ic.precision()}ic.precision(il);ih.precision(il);id.precision(il);return ik};ik.scale=function(il){if(!arguments.length){return ic.scale()}ic.scale(il);ih.scale(il*0.35);id.scale(il);return ik.translate(ic.translate())};ik.translate=function(io){if(!arguments.length){return ic.translate()}var im=ic.scale(),il=+io[0],ip=+io[1];ig=ic.translate(io).clipExtent([[il-0.455*im,ip-0.238*im],[il+0.455*im,ip+0.238*im]]).stream(d3).point;ii=ih.translate([il-0.307*im,ip+0.201*im]).clipExtent([[il-0.425*im+gn,ip+0.12*im+gn],[il-0.214*im-gn,ip+0.234*im-gn]]).stream(d3).point;ie=id.translate([il-0.205*im,ip+0.212*im]).clipExtent([[il-0.214*im+gn,ip+0.166*im+gn],[il-0.115*im-gn,ip+0.234*im-gn]]).stream(d3).point;return ik};return ik.scale(1070)};var fN,B,dC={point:aH,lineStart:aH,lineEnd:aH,polygonStart:function(){B=0;dC.lineStart=cM},polygonEnd:function(){dC.lineStart=dC.lineEnd=dC.point=aH;fN+=cH(B/2)}};function cM(){var ie,d3,ic,id;dC.point=function(ih,ii){dC.point=ig;ie=ic=ih,d3=id=ii};function ig(ih,ii){B+=id*ih-ic*ii;ic=ih,id=ii}dC.lineEnd=function(){ig(ie,d3)}}var eM,ep,eK,eo;var ax={point:cU,lineStart:aH,lineEnd:aH,polygonStart:aH,polygonEnd:aH};function cU(d3,ic){if(d3<eM){eM=d3}if(d3>eK){eK=d3}if(ic<ep){ep=ic}if(ic>eo){eo=ic}}function ck(){var id=g8(4.5),ic=[];var ij={point:d3,lineStart:function(){ij.point=ii},lineEnd:ih,polygonStart:function(){ij.lineEnd=ie},polygonEnd:function(){ij.lineEnd=ih;ij.point=d3},pointRadius:function(ik){id=g8(ik);return ij},result:function(){if(ic.length){var ik=ic.join("");ic=[];return ik}}};function d3(ik,il){ic.push("M",ik,",",il,id)}function ii(ik,il){ic.push("M",ik,",",il);ij.point=ig}function ig(ik,il){ic.push("L",ik,",",il)}function ih(){ij.point=d3}function ie(){ic.push("Z")}return ij}function g8(d3){return"m0,"+d3+"a"+d3+","+d3+" 0 1,1 0,"+-2*d3+"a"+d3+","+d3+" 0 1,1 0,"+2*d3+"z"}var g7={point:cQ,lineStart:fS,lineEnd:cP,polygonStart:function(){g7.lineStart=b1},polygonEnd:function(){g7.point=cQ;g7.lineStart=fS;g7.lineEnd=cP}};function cQ(d3,ic){dL+=d3;dm+=ic;++c7}function fS(){var d3,ic;g7.point=function(ie,ig){g7.point=id;cQ(d3=ie,ic=ig)};function id(ie,ij){var ih=ie-d3,ig=ij-ic,ii=Math.sqrt(ih*ih+ig*ig);dK+=ii*(d3+ie)/2;dl+=ii*(ic+ij)/2;c5+=ii;cQ(d3=ie,ic=ij)}}function cP(){g7.point=cQ}function b1(){var ie,d3,ic,id;g7.point=function(ih,ii){g7.point=ig;cQ(ie=ic=ih,d3=id=ii)};function ig(ih,il){var ij=ih-ic,ii=il-id,ik=Math.sqrt(ij*ij+ii*ii);dK+=ik*(ic+ih)/2;dl+=ik*(id+il)/2;c5+=ik;ik=id*ih-ic*il;dJ+=ik*(ic+ih);dk+=ik*(id+il);c4+=ik*3;cQ(ic=ih,id=il)}g7.lineEnd=function(){ig(ie,d3)}}function cF(ic){var ig=4.5;var ij={point:d3,lineStart:function(){ij.point=ii},lineEnd:ih,polygonStart:function(){ij.lineEnd=id},polygonEnd:function(){ij.lineEnd=ih;ij.point=d3},pointRadius:function(ik){ig=ik;return ij},result:aH};function d3(ik,il){ic.moveTo(ik+ig,il);ic.arc(ik,il,ig,0,f8)}function ii(ik,il){ic.moveTo(ik,il);ij.point=ie}function ie(ik,il){ic.lineTo(ik,il)}function ih(){ij.point=d3}function id(){ic.closePath()}return ij}function fO(ii){var ig=0.5,ih=Math.cos(30*J),ij=16;function id(ik){return(ij?ie:d3)(ik)}function d3(ik){return eH(ik,function(il,im){il=ii(il,im);ik.point(il[0],il[1])})}function ie(ir){var ix,iD,iC,it,iG,iv,il,im,iF,io,iH,iu,iy;var ip={point:iB,lineStart:iw,lineEnd:iE,polygonStart:function(){ir.polygonStart();ip.lineStart=iq},polygonEnd:function(){ir.polygonEnd();ip.lineStart=iw}};function iB(iI,iJ){iI=ii(iI,iJ);ir.point(iI[0],iI[1])}function iw(){iF=NaN;ip.point=ik;ir.lineStart()}function ik(iJ,iI){var iL=av([iJ,iI]),iK=ii(iJ,iI);ic(iF,io,im,iH,iu,iy,iF=iK[0],io=iK[1],im=iJ,iH=iL[0],iu=iL[1],iy=iL[2],ij,ir);ir.point(iF,io)}function iE(){ip.point=iB;ir.lineEnd()}function iq(){iw();ip.point=iA;ip.lineEnd=iz}function iA(iJ,iI){ik(ix=iJ,iD=iI),iC=iF,it=io,iG=iH,iv=iu,il=iy;ip.point=ik}function iz(){ic(iF,io,im,iH,iu,iy,iC,it,ix,iG,iv,il,ij,ir);ip.lineEnd=iE;iE()}return ip}function ic(iH,ir,im,iO,iv,iD,iG,iq,il,iM,iu,iB,iL,it){var iz=iG-iH,iy=iq-ir,iN=iz*iz+iy*iy;if(iN>4*ig&&iL--){var iK=iO+iM,iJ=iv+iu,iI=iD+iB,iC=Math.sqrt(iK*iK+iJ*iJ+iI*iI),iF=Math.asin(iI/=iC),ik=cH(cH(iI)-1)<gn||cH(im-il)<gn?(im+il)/2:Math.atan2(iJ,iK),iA=ii(ik,iF),iE=iA[0],ip=iA[1],io=iE-iH,ix=ip-ir,iw=iy*io-iz*ix;if(iw*iw/iN>ig||cH((iz*io+iy*ix)/iN-0.5)>0.3||iO*iM+iv*iu+iD*iB<ih){ic(iH,ir,im,iO,iv,iD,iE,ip,ik,iK/=iC,iJ/=iC,iI,iL,it);it.point(iE,ip);ic(iE,ip,ik,iK,iJ,iI,iG,iq,il,iM,iu,iB,iL,it)}}}id.precision=function(ik){if(!arguments.length){return Math.sqrt(ig)}ij=(ig=ik*ik)>0&&16;return id};return id}ho.geo.path=function(){var ii=4.5,ic,ie,ig,d3,id;function ij(ik){if(ik){if(typeof ii==="function"){d3.pointRadius(+ii.apply(this,arguments))}if(!id||!id.valid){id=ig(d3)}ho.geo.stream(ik,id)}return d3.result()}ij.area=function(ik){fN=0;ho.geo.stream(ik,ig(dC));return fN};ij.centroid=function(ik){dL=dm=c7=dK=dl=c5=dJ=dk=c4=0;ho.geo.stream(ik,ig(g7));return c4?[dJ/c4,dk/c4]:c5?[dK/c5,dl/c5]:c7?[dL/c7,dm/c7]:[NaN,NaN]};ij.bounds=function(ik){eK=eo=-(eM=ep=Infinity);ho.geo.stream(ik,ig(ax));return[[eM,ep],[eK,eo]]};ij.projection=function(ik){if(!arguments.length){return ic}ig=(ic=ik)?ik.stream||hh(ik):gl;return ih()};ij.context=function(ik){if(!arguments.length){return ie}d3=(ie=ik)==null?new ck():new cF(ik);if(typeof ii!=="function"){d3.pointRadius(ii)}return ih()};ij.pointRadius=function(ik){if(!arguments.length){return ii}ii=typeof ik==="function"?ik:(d3.pointRadius(+ik),+ik);return ij};function ih(){id=null;return ij}return ij.projection(ho.geo.albersUsa()).context(null)};function hh(ic){var d3=fO(function(id,ie){return ic([id*hF,ie*hF])});return function(id){return ci(d3(id))}}ho.geo.transform=function(d3){return{stream:function(ie){var id=new eb(ie);for(var ic in d3){id[ic]=d3[ic]}return id}}};function eb(d3){this.stream=d3}eb.prototype={point:function(d3,ic){this.stream.point(d3,ic)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function eH(ic,d3){return{point:d3,sphere:function(){ic.sphere()},lineStart:function(){ic.lineStart()},lineEnd:function(){ic.lineEnd()},polygonStart:function(){ic.polygonStart()},polygonEnd:function(){ic.polygonEnd()}}}ho.geo.projection=fA;ho.geo.projectionMutator=fh;function fA(d3){return fh(function(){return d3})()}function fh(ir){var ie,ix,ij,iu=fO(function(iC,iD){iC=ie(iC,iD);return[iC[0]*iw+ih,id-iC[1]*iw]}),iw=150,ip=480,im=250,iv=0,io=0,ik=0,ig=0,it=0,ih,id,iB=l,iy=gl,d3=null,ic=null,ii;function iA(iC){iC=ij(iC[0]*J,iC[1]*J);return[iC[0]*iw+ih,id-iC[1]*iw]}function iq(iC){iC=ij.invert((iC[0]-ih)/iw,(id-iC[1])/iw);return iC&&[iC[0]*hF,iC[1]*hF]}iA.stream=function(iC){if(ii){ii.valid=false}ii=ci(iB(ix,iu(iy(iC))));ii.valid=true;return ii};iA.clipAngle=function(iC){if(!arguments.length){return d3}iB=iC==null?(d3=iC,l):aL((d3=+iC)*J);return il()};iA.clipExtent=function(iC){if(!arguments.length){return ic}ic=iC;iy=iC?ef(iC[0][0],iC[0][1],iC[1][0],iC[1][1]):gl;return il()};iA.scale=function(iC){if(!arguments.length){return iw}iw=+iC;return iz()};iA.translate=function(iC){if(!arguments.length){return[ip,im]}ip=+iC[0];im=+iC[1];return iz()};iA.center=function(iC){if(!arguments.length){return[iv*hF,io*hF]}iv=iC[0]%360*J;io=iC[1]%360*J;return iz()};iA.rotate=function(iC){if(!arguments.length){return[ik*hF,ig*hF,it*hF]}ik=iC[0]%360*J;ig=iC[1]%360*J;it=iC.length>2?iC[2]%360*J:0;return iz()};ho.rebind(iA,iu,"precision");function iz(){ij=e6(ix=dH(ik,ig,it),ie);var iC=ie(iv,io);ih=ip-iC[0]*iw;id=im+iC[1]*iw;return il()}function il(){if(ii){ii.valid=false,ii=null}return iA}return function(){ie=ir.apply(this,arguments);iA.invert=ie.invert&&iq;return iz()}}function ci(d3){return eH(d3,function(ic,id){d3.point(ic*J,id*J)})}function bA(ic,d3){return[ic,d3]}(ho.geo.equirectangular=function(){return fA(bA)}).raw=bA.invert=bA;ho.geo.rotation=function(ic){ic=dH(ic[0]%360*J,ic[1]*J,ic.length>2?ic[2]*J:0);function d3(id){id=ic(id[0]*J,id[1]*J);return id[0]*=hF,id[1]*=hF,id}d3.invert=function(id){id=ic.invert(id[0]*J,id[1]*J);return id[0]*=hF,id[1]*=hF,id};return d3};function bJ(ic,d3){return[ic>ge?ic-f8:ic<-ge?ic+f8:ic,d3]}bJ.invert=bA;function dH(id,ic,d3){return id?ic||d3?e6(e1(id),bV(ic,d3)):e1(id):ic||d3?bV(ic,d3):bJ}function gZ(d3){return function(id,ic){return id+=d3,[id>ge?id-f8:id<-ge?id+f8:id,ic]}}function e1(ic){var d3=gZ(ic);d3.invert=gZ(-ic);return d3}function bV(ih,ic){var ig=Math.cos(ih),ii=Math.sin(ih),d3=Math.cos(ic),id=Math.sin(ic);function ie(il,ik){var io=Math.cos(ik),ij=Math.cos(il)*io,iq=Math.sin(il)*io,ip=Math.sin(ik),im=ip*ig+ij*ii;return[Math.atan2(iq*d3-im*id,ij*ig-ip*ii),cg(im*d3+iq*id)]}ie.invert=function(il,ik){var io=Math.cos(ik),ij=Math.cos(il)*io,iq=Math.sin(il)*io,ip=Math.sin(ik),im=ip*d3-iq*id;return[Math.atan2(iq*d3+ip*id,ij*ig+im*ii),cg(im*ig-ij*ii)]};return ie}ho.geo.circle=function(){var ic=[0,0],ig,d3=6,id;function ie(){var ih=typeof ic==="function"?ic.apply(this,arguments):ic,ij=dH(-ih[0]*J,-ih[1]*J,0).invert,ii=[];id(null,null,1,{point:function(ik,il){ii.push(ik=ij(ik,il));ik[0]*=hF,ik[1]*=hF}});return{type:"Polygon",coordinates:[ii]}}ie.origin=function(ih){if(!arguments.length){return ic}ic=ih;return ie};ie.angle=function(ih){if(!arguments.length){return ig}id=b6((ig=+ih)*J,d3*J);return ie};ie.precision=function(ih){if(!arguments.length){return d3}id=b6(ig*J,(d3=+ih)*J);return ie};return ie.angle(90)};function b6(d3,ic){var ie=Math.cos(d3),id=Math.sin(d3);return function(im,il,ik,ij){var ii=ik*ic;if(im!=null){im=hS(ie,im);il=hS(ie,il);if(ik>0?im<il:im>il){im+=ik*f8}}else{im=d3+ik*f8;il=d3-0.5*ii}for(var ig,ih=im;ik>0?ih>il:ih<il;ih-=ii){ij.point((ig=h8([ie,-id*Math.cos(ih),-id*Math.sin(ih)]))[0],ig[1])}}}function hS(id,d3){var ic=av(d3);ic[0]-=id;fk(ic);var ie=ad(-ic[1]);return((-ic[2]<0?-ie:ie)+2*Math.PI-gn)%(2*Math.PI)}ho.geo.distance=function(ij,ii){var ik=(ii[0]-ij[0])*J,im=ij[1]*J,il=ii[1]*J,ig=Math.sin(ik),ic=Math.cos(ik),ih=Math.sin(im),id=Math.cos(im),ie=Math.sin(il),d3=Math.cos(il),io;return Math.atan2(Math.sqrt((io=d3*ig)*io+(io=id*ie-ih*d3*ic)*io),ih*ie+id*d3*ic)};ho.geo.graticule=function(){var ir,iu,iv,iw,ie,ig,ih,ij,ip=10,io=ip,ik=90,ii=360,im,il,id,ic,iq=2.5;function it(){return{type:"MultiLineString",coordinates:d3()}}function d3(){return ho.range(Math.ceil(iw/ik)*ik,iv,ik).map(id).concat(ho.range(Math.ceil(ij/ii)*ii,ih,ii).map(ic)).concat(ho.range(Math.ceil(iu/ip)*ip,ir,ip).filter(function(ix){return cH(ix%ik)>gn}).map(im)).concat(ho.range(Math.ceil(ig/io)*io,ie,io).filter(function(ix){return cH(ix%ii)>gn}).map(il))}it.lines=function(){return d3().map(function(ix){return{type:"LineString",coordinates:ix}})};it.outline=function(){return{type:"Polygon",coordinates:[id(iw).concat(ic(ih).slice(1),id(iv).reverse().slice(1),ic(ij).reverse().slice(1))]}};it.extent=function(ix){if(!arguments.length){return it.minorExtent()}return it.majorExtent(ix).minorExtent(ix)};it.majorExtent=function(ix){if(!arguments.length){return[[iw,ij],[iv,ih]]}iw=+ix[0][0],iv=+ix[1][0];ij=+ix[0][1],ih=+ix[1][1];if(iw>iv){ix=iw,iw=iv,iv=ix}if(ij>ih){ix=ij,ij=ih,ih=ix}return it.precision(iq)};it.minorExtent=function(ix){if(!arguments.length){return[[iu,ig],[ir,ie]]}iu=+ix[0][0],ir=+ix[1][0];ig=+ix[0][1],ie=+ix[1][1];if(iu>ir){ix=iu,iu=ir,ir=ix}if(ig>ie){ix=ig,ig=ie,ie=ix}return it.precision(iq)};it.step=function(ix){if(!arguments.length){return it.minorStep()}return it.majorStep(ix).minorStep(ix)};it.majorStep=function(ix){if(!arguments.length){return[ik,ii]}ik=+ix[0],ii=+ix[1];return it};it.minorStep=function(ix){if(!arguments.length){return[ip,io]}ip=+ix[0],io=+ix[1];return it};it.precision=function(ix){if(!arguments.length){return iq}iq=+ix;im=aK(ig,ie,90);il=aJ(iu,ir,iq);id=aK(ij,ih,90);ic=aJ(iw,iv,iq);return it};return it.majorExtent([[-180,-90+gn],[180,90-gn]]).minorExtent([[-180,-80-gn],[180,80+gn]])};function aK(id,ic,d3){var ie=ho.range(id,ic-gn,d3).concat(ic);return function(ig){return ie.map(function(ih){return[ig,ih]})}}function aJ(ie,id,ic){var d3=ho.range(ie,id-gn,ic).concat(id);return function(ig){return d3.map(function(ih){return[ih,ig]})}}function hJ(d3){return d3.source}function hQ(d3){return d3.target}ho.geo.greatArc=function(){var id=hJ,ic,ie=hQ,ig;function d3(){return{type:"LineString",coordinates:[ic||id.apply(this,arguments),ig||ie.apply(this,arguments)]}}d3.distance=function(){return ho.geo.distance(ic||id.apply(this,arguments),ig||ie.apply(this,arguments))};d3.source=function(ih){if(!arguments.length){return id}id=ih,ic=typeof ih==="function"?null:ih;return d3};d3.target=function(ih){if(!arguments.length){return ie}ie=ih,ig=typeof ih==="function"?null:ih;return d3};d3.precision=function(){return arguments.length?d3:0};return d3};ho.geo.interpolate=function(d3,ic){return h(d3[0]*J,d3[1]*J,ic[0]*J,ic[1]*J)};function h(ie,ir,id,ip){var ii=Math.cos(ir),iq=Math.sin(ir),ig=Math.cos(ip),io=Math.sin(ip),ik=ii*Math.cos(ie),ic=ii*Math.sin(ie),ij=ig*Math.cos(id),d3=ig*Math.sin(id),im=2*Math.asin(Math.sqrt(aE(ip-ir)+ii*ig*aE(id-ie))),ih=1/Math.sin(im);var il=im?function(iv){var iy=Math.sin(iv*=im)*ih,iu=Math.sin(im-iv)*ih,it=iu*ik+iy*ij,ix=iu*ic+iy*d3,iw=iu*iq+iy*io;return[Math.atan2(ix,it)*hF,Math.atan2(iw,Math.sqrt(it*it+ix*ix))*hF]}:function(){return[ie*hF,ir*hF]};il.distance=im;return il}ho.geo.length=function(d3){dU=0;ho.geo.stream(d3,fX);return dU};var dU;var fX={sphere:aH,point:aH,lineStart:hM,lineEnd:aH,polygonStart:aH,polygonEnd:aH};function hM(){var ic,id,d3;fX.point=function(ih,ig){ic=ih*J,id=Math.sin(ig*=J),d3=Math.cos(ig);fX.point=ie};fX.lineEnd=function(){fX.point=fX.lineEnd=aH};function ie(ih,ig){var ik=Math.sin(ig*=J),il=Math.cos(ig),ii=cH((ih*=J)-ic),ij=Math.cos(ii);dU+=Math.atan2(Math.sqrt((ii=il*Math.sin(ii))*ii+(ii=d3*ik-id*il*ij)*ii),id*ik+d3*il*ij);ic=ih,id=ik,d3=il}}function ez(id,ic){function d3(ig,ie){var ij=Math.cos(ig),ii=Math.cos(ie),ih=id(ij*ii);return[ih*ii*Math.sin(ig),ih*Math.sin(ie)]}d3.invert=function(ie,ik){var ii=Math.sqrt(ie*ie+ik*ik),ij=ic(ii),ig=Math.sin(ij),ih=Math.cos(ij);return[Math.atan2(ie*ig,ii*ih),Math.asin(ii&&ik*ig/ii)]};return d3}var bw=ez(function(d3){return Math.sqrt(2/(1+d3))},function(d3){return 2*Math.asin(d3/2)});(ho.geo.azimuthalEqualArea=function(){return fA(bw)}).raw=bw;var bI=ez(function(d3){var ic=Math.acos(d3);return ic&&ic/Math.sin(ic)},gl);(ho.geo.azimuthalEquidistant=function(){return fA(bI)}).raw=bI;function fJ(id,ic){var d3=Math.cos(id),ig=function(ij){return Math.tan(ge/4+ij/2)},ii=id===ic?Math.sin(id):Math.log(d3/Math.cos(ic))/Math.log(ig(ic)/ig(id)),ih=d3*Math.pow(ig(id),ii)/ii;if(!ii){return aT}function ie(ik,ij){if(ih>0){if(ij<-eq+gn){ij=-eq+gn}}else{if(ij>eq-gn){ij=eq-gn}}var il=ih/Math.pow(ig(ij),ii);return[il*Math.sin(ii*ik),ih-il*Math.cos(ii*ik)]}ie.invert=function(ij,im){var il=ih-im,ik=ca(ii)*Math.sqrt(ij*ij+il*il);return[Math.atan2(ij,il)/ii,2*Math.atan(Math.pow(ih/ik,1/ii))-eq]};return ie}(ho.geo.conicConformal=function(){return b8(fJ)}).raw=fJ;function hB(id,ic){var d3=Math.cos(id),ih=id===ic?Math.sin(id):(d3-Math.cos(ic))/(ic-id),ig=d3/ih+id;if(cH(ih)<gn){return bA}function ie(ij,ii){var ik=ig-ii;return[ik*Math.sin(ih*ij),ig-ik*Math.cos(ih*ij)]}ie.invert=function(ii,ik){var ij=ig-ik;return[Math.atan2(ii,ij)/ih,ig-ca(ih)*Math.sqrt(ii*ii+ij*ij)]};return ie}(ho.geo.conicEquidistant=function(){return b8(hB)}).raw=hB;var eG=ez(function(d3){return 1/d3},Math.atan);(ho.geo.gnomonic=function(){return fA(eG)}).raw=eG;function aT(ic,d3){return[ic,Math.log(Math.tan(ge/4+d3/2))]}aT.invert=function(d3,ic){return[d3,2*Math.atan(Math.exp(ic))-eq]};function c6(ih){var d3=fA(ih),ig=d3.scale,ie=d3.translate,ic=d3.clipExtent,id;d3.scale=function(){var ii=ig.apply(d3,arguments);return ii===d3?id?d3.clipExtent(null):d3:ii};d3.translate=function(){var ii=ie.apply(d3,arguments);return ii===d3?id?d3.clipExtent(null):d3:ii};d3.clipExtent=function(ik){var ij=ic.apply(d3,arguments);if(ij===d3){if(id=ik==null){var ii=ge*ig(),il=ie();ic([[il[0]-ii,il[1]-ii],[il[0]+ii,il[1]+ii]])}}else{if(id){ij=null}}return ij};return d3.clipExtent(null)}(ho.geo.mercator=function(){return c6(aT)}).raw=aT;var fZ=ez(function(){return 1},Math.asin);(ho.geo.orthographic=function(){return fA(fZ)}).raw=fZ;var ce=ez(function(d3){return 1/(1+d3)},function(d3){return 2*Math.atan(d3)});(ho.geo.stereographic=function(){return fA(ce)}).raw=ce;function aj(ic,d3){return[Math.log(Math.tan(ge/4+d3/2)),-ic]}aj.invert=function(d3,ic){return[-ic,2*Math.atan(Math.exp(d3))-eq]};(ho.geo.transverseMercator=function(){var ic=c6(aj),d3=ic.center,id=ic.rotate;ic.center=function(ie){return ie?d3([-ie[1],ie[0]]):(ie=d3(),[ie[1],-ie[0]])};ic.rotate=function(ie){return ie?id([ie[0],ie[1],ie.length>2?ie[2]+90:90]):(ie=id(),[ie[0],ie[1],ie[2]-90])};return id([0,0,90])}).raw=aj;ho.geom={};function hV(d3){return d3[0]}function hU(d3){return d3[1]}ho.geom.hull=function(ic){var d3=hV,ie=hU;if(arguments.length){return id(ic)}function id(im){if(im.length<3){return[]}var ii=R(d3),ih=R(ie),io,ig=im.length,iq=[],ir=[];for(io=0;io<ig;io++){iq.push([+ii.call(this,im[io],io),+ih.call(this,im[io],io),io])}iq.sort(h3);for(io=0;io<ig;io++){ir.push([iq[io][0],-iq[io][1]])}var it=bq(iq),il=bq(ir);var ij=il[0]===it[0],ik=il[il.length-1]===it[it.length-1],ip=[];for(io=it.length-1;io>=0;--io){ip.push(im[iq[it[io]][2]])}for(io=+ij;io<il.length-ik;++io){ip.push(im[iq[il[io]][2]])}return ip}id.x=function(ig){return arguments.length?(d3=ig,id):d3};id.y=function(ig){return arguments.length?(ie=ig,id):ie};return id};function bq(id){var ig=id.length,ie=[0,1],ic=2;for(var d3=2;d3<ig;d3++){while(ic>1&&e0(id[ie[ic-2]],id[ie[ic-1]],id[d3])<=0){--ic}ie[ic++]=d3}return ie.slice(0,ic)}function h3(ic,d3){return ic[0]-d3[0]||ic[1]-d3[1]}ho.geom.polygon=function(d3){h6(d3,er);return d3};var er=ho.geom.polygon.prototype=[];er.area=function(){var id=-1,ig=this.length,ic,d3=this[ig-1],ie=0;while(++id<ig){ic=d3;d3=this[id];ie+=ic[1]*d3[0]-ic[0]*d3[1]}return ie*0.5};er.centroid=function(ie){var ig=-1,ij=this.length,ic=0,ii=0,id,d3=this[ij-1],ih;if(!arguments.length){ie=-1/(6*this.area())}while(++ig<ij){id=d3;d3=this[ig];ih=id[0]*d3[1]-d3[0]*id[1];ic+=(id[0]+d3[0])*ih;ii+=(id[1]+d3[1])*ih}return[ic*ie,ii*ie]};er.clip=function(ij){var il,ig=gT(ij),ie=-1,d3=this.length-gT(this),id,ic,im=this[d3-1],ik,ii,ih;while(++ie<d3){il=ij.slice();ij.length=0;ik=this[ie];ii=il[(ic=il.length-ig)-1];id=-1;while(++id<ic){ih=il[id];if(E(ih,im,ik)){if(!E(ii,im,ik)){ij.push(gj(ii,ih,im,ik))}ij.push(ih)}else{if(E(ii,im,ik)){ij.push(gj(ii,ih,im,ik))}}ii=ih}if(ig){ij.push(ij[0])}im=ik}return ij};function E(id,ic,d3){return(d3[0]-ic[0])*(id[1]-ic[1])<(d3[1]-ic[1])*(id[0]-ic[0])}function gj(ii,ig,im,ij){var id=ii[0],d3=im[0],ie=ig[0]-id,io=ij[0]-d3,il=ii[1],ih=im[1],ik=ig[1]-il,ip=ij[1]-ih,ic=(io*(il-ih)-ip*(id-d3))/(ip*ie-io*ik);return[id+ic*ie,il+ic*ik]}function gT(id){var ic=id[0],d3=id[id.length-1];return !(ic[0]-d3[0]||ic[1]-d3[1])}var gP,ex,cS,de=[],he,d4,eu=[];function gD(){t(this);this.edge=this.site=this.circle=null}function eY(ic){var d3=de.pop()||new gD();d3.site=ic;return d3}function gC(d3){eN(d3);cS.remove(d3);de.push(d3);t(d3)}function hq(ic){var d3=ic.circle,il=d3.x,ii=d3.cy,ig={x:il,y:ii},ih=ic.P,ie=ic.N,ik=[ic];gC(ic);var io=ih;while(io.circle&&cH(il-io.circle.x)<gn&&cH(ii-io.circle.cy)<gn){ih=io.P;ik.unshift(io);gC(io);io=ih}ik.unshift(io);eN(io);var id=ie;while(id.circle&&cH(il-id.circle.x)<gn&&cH(ii-id.circle.cy)<gn){ie=id.N;ik.push(id);gC(id);id=ie}ik.push(id);eN(id);var im=ik.length,ij;for(ij=1;ij<im;++ij){id=ik[ij];io=ik[ij-1];cq(id.edge,io.site,id.site,ig)}io=ik[0];id=ik[im-1];id.edge=hk(io.site,id.site,null,ig);W(io);W(id)}function dv(im){var ik=im.x,ip=im.y,ir,io,iy,it,iq=cS._;while(iq){iy=c8(iq,ip)-ik;if(iy>gn){iq=iq.L}else{it=ik-gd(iq,ip);if(it>gn){if(!iq.R){ir=iq;break}iq=iq.R}else{if(iy>-gn){ir=iq.P;io=iq}else{if(it>-gn){ir=iq;io=iq.N}else{ir=io=iq}}break}}}var ie=eY(im);cS.insert(ir,ie);if(!ir&&!io){return}if(ir===io){eN(ir);io=eY(ir.site);cS.insert(ie,io);ie.edge=io.edge=hk(ir.site,ie.site);W(ir);W(io);return}if(!io){ie.edge=hk(ir.site,ie.site);return}eN(ir);eN(io);var ii=ir.site,il=ii.x,ij=ii.y,iw=im.x-il,iu=im.y-ij,d3=io.site,id=d3.x-il,ic=d3.y-ij,ix=2*(iw*ic-iu*id),ih=iw*iw+iu*iu,ig=id*id+ic*ic,iv={x:(ic*ih-iu*ig)/ix+il,y:(iw*ig-id*ih)/ix+ij};cq(io.edge,ii,d3,iv);ie.edge=hk(ii,im,null,iv);io.edge=hk(im,d3,null,iv);W(ir);W(io)}function c8(ie,ig){var d3=ie.site,io=d3.x,im=d3.y,il=im-ig;if(!il){return io}var ip=ie.P;if(!ip){return -Infinity}d3=ip.site;var ii=d3.x,ih=d3.y,id=ih-ig;if(!id){return ii}var ic=ii-io,ik=1/il-1/id,ij=ic/id;if(ik){return(-ij+Math.sqrt(ij*ij-2*ik*(ic*ic/(-2*id)-ih+id/2+im-il/2)))/ik+io}return(io+ii)/2}function gd(ic,id){var ie=ic.N;if(ie){return c8(ie,id)}var d3=ic.site;return d3.y===id?d3.x:Infinity}function bZ(d3){this.site=d3;this.edges=[]}bZ.prototype.prepare=function(){var id=this.edges,d3=id.length,ic;while(d3--){ic=id[d3].edge;if(!ic.b||!ic.a){id.splice(d3,1)}}id.sort(u);return id.length};function bz(iu){var ii=iu[0][0],ih=iu[1][0],ip=iu[0][1],io=iu[1][1],ie,im,d3,il,it=ex,id=it.length,ir,iq,ik,ic,ig,ij;while(id--){ir=it[id];if(!ir||!ir.prepare()){continue}ik=ir.edges;ic=ik.length;iq=0;while(iq<ic){ij=ik[iq].end(),d3=ij.x,il=ij.y;ig=ik[++iq%ic].start(),ie=ig.x,im=ig.y;if(cH(d3-ie)>gn||cH(il-im)>gn){ik.splice(iq,0,new h1(g9(ir.site,ij,cH(d3-ii)<gn&&io-il>gn?{x:ii,y:cH(ie-ii)<gn?im:io}:cH(il-io)<gn&&ih-d3>gn?{x:cH(im-io)<gn?ie:ih,y:io}:cH(d3-ih)<gn&&il-ip>gn?{x:ih,y:cH(ie-ih)<gn?im:ip}:cH(il-ip)<gn&&d3-ii>gn?{x:cH(im-ip)<gn?ie:ii,y:ip}:null),ir.site,null));++ic}}}}function u(ic,d3){return d3.angle-ic.angle}function aW(){t(this);this.x=this.y=this.arc=this.site=this.cy=null}function W(ii){var it=ii.P,iq=ii.N;if(!it||!iq){return}var ik=it.site,iw=ii.site,d3=iq.site;if(ik===d3){return}var iv=iw.x,iu=iw.y,io=ik.x-iv,il=ik.y-iu,id=d3.x-iv,ic=d3.y-iu;var ix=2*(io*ic-il*id);if(ix>=-eE){return}var ih=io*io+il*il,ig=id*id+ic*ic,im=(ic*ih-il*ig)/ix,ij=(io*ig-id*ih)/ix,ic=ij+iu;var ie=eu.pop()||new aW();ie.arc=ii;ie.site=iw;ie.x=im+iv;ie.y=ic+Math.sqrt(im*im+ij*ij);ie.cy=ic;ii.circle=ie;var ip=null,ir=d4._;while(ir){if(ie.y<ir.y||ie.y===ir.y&&ie.x<=ir.x){if(ir.L){ir=ir.L}else{ip=ir.P;break}}else{if(ir.R){ir=ir.R}else{ip=ir;break}}}d4.insert(ip,ie);if(!ip){he=ie}}function eN(d3){var ic=d3.circle;if(ic){if(!ic.P){he=ic.N}d4.remove(ic);eu.push(ic);t(ic);d3.circle=null}}function hD(id){var d3=gP,ie=ak(id[0][0],id[0][1],id[1][0],id[1][1]),ic=d3.length,ig;while(ic--){ig=d3[ic];if(!bn(ig,id)||!ie(ig)||cH(ig.a.x-ig.b.x)<gn&&cH(ig.a.y-ig.b.y)<gn){ig.a=ig.b=null;d3.splice(ic,1)}}}function bn(io,ir){var d3=io.b;if(d3){return true}var ic=io.a,iv=ir[0][0],iu=ir[1][0],ih=ir[0][1],ie=ir[1][1],iq=io.l,id=io.r,ik=iq.x,ij=iq.y,im=id.x,il=id.y,ii=(ik+im)/2,ig=(ij+il)/2,ip,it;if(il===ij){if(ii<iv||ii>=iu){return}if(ik>im){if(!ic){ic={x:ii,y:ih}}else{if(ic.y>=ie){return}}d3={x:ii,y:ie}}else{if(!ic){ic={x:ii,y:ie}}else{if(ic.y<ih){return}}d3={x:ii,y:ih}}}else{ip=(ik-im)/(il-ij);it=ig-ip*ii;if(ip<-1||ip>1){if(ik>im){if(!ic){ic={x:(ih-it)/ip,y:ih}}else{if(ic.y>=ie){return}}d3={x:(ie-it)/ip,y:ie}}else{if(!ic){ic={x:(ie-it)/ip,y:ie}}else{if(ic.y<ih){return}}d3={x:(ih-it)/ip,y:ih}}}else{if(ij<il){if(!ic){ic={x:iv,y:ip*iv+it}}else{if(ic.x>=iu){return}}d3={x:iu,y:ip*iu+it}}else{if(!ic){ic={x:iu,y:ip*iu+it}}else{if(ic.x<iv){return}}d3={x:iv,y:ip*iv+it}}}}io.a=ic;io.b=d3;return true}function G(ic,d3){this.l=ic;this.r=d3;this.a=this.b=null}function hk(ig,d3,ie,ic){var id=new G(ig,d3);gP.push(id);if(ie){cq(id,ig,d3,ie)}if(ic){cq(id,d3,ig,ic)}ex[ig.i].edges.push(new h1(id,ig,d3));ex[d3.i].edges.push(new h1(id,d3,ig));return id}function g9(ie,id,d3){var ic=new G(ie,null);ic.a=id;ic.b=d3;gP.push(ic);return ic}function cq(ic,ie,d3,id){if(!ic.a&&!ic.b){ic.a=id;ic.l=ie;ic.r=d3}else{if(ic.l===d3){ic.b=id}else{ic.a=id}}}function h1(ie,ig,d3){var id=ie.a,ic=ie.b;this.edge=ie;this.site=ig;this.angle=d3?Math.atan2(d3.y-ig.y,d3.x-ig.x):ie.l===ig?Math.atan2(ic.x-id.x,id.y-ic.y):Math.atan2(id.x-ic.x,ic.y-id.y)}h1.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function bb(){this._=null}function t(d3){d3.U=d3.C=d3.L=d3.R=d3.P=d3.N=null}bb.prototype={insert:function(ig,ie){var id,ic,d3;if(ig){ie.P=ig;ie.N=ig.N;if(ig.N){ig.N.P=ie}ig.N=ie;if(ig.R){ig=ig.R;while(ig.L){ig=ig.L}ig.L=ie}else{ig.R=ie}id=ig}else{if(this._){ig=db(this._);ie.P=null;ie.N=ig;ig.P=ig.L=ie;id=ig}else{ie.P=ie.N=null;this._=ie;id=null}}ie.L=ie.R=null;ie.U=id;ie.C=true;ig=ie;while(id&&id.C){ic=id.U;if(id===ic.L){d3=ic.R;if(d3&&d3.C){id.C=d3.C=false;ic.C=true;ig=ic}else{if(ig===id.R){ai(this,id);ig=id;id=ig.U}id.C=false;ic.C=true;eR(this,ic)}}else{d3=ic.L;if(d3&&d3.C){id.C=d3.C=false;ic.C=true;ig=ic}else{if(ig===id.L){eR(this,id);ig=id;id=ig.U}id.C=false;ic.C=true;ai(this,ic)}}id=ig.U}this._.C=false},remove:function(ig){if(ig.N){ig.N.P=ig.P}if(ig.P){ig.P.N=ig.N}ig.N=ig.P=null;var ie=ig.U,id,ii=ig.L,d3=ig.R,ic,ih;if(!ii){ic=d3}else{if(!d3){ic=ii}else{ic=db(d3)}}if(ie){if(ie.L===ig){ie.L=ic}else{ie.R=ic}}else{this._=ic}if(ii&&d3){ih=ic.C;ic.C=ig.C;ic.L=ii;ii.U=ic;if(ic!==d3){ie=ic.U;ic.U=ig.U;ig=ic.R;ie.L=ig;ic.R=d3;d3.U=ic}else{ic.U=ie;ie=ic;ig=ic.R}}else{ih=ig.C;ig=ic}if(ig){ig.U=ie}if(ih){return}if(ig&&ig.C){ig.C=false;return}do{if(ig===this._){break}if(ig===ie.L){id=ie.R;if(id.C){id.C=false;ie.C=true;ai(this,ie);id=ie.R}if(id.L&&id.L.C||id.R&&id.R.C){if(!id.R||!id.R.C){id.L.C=false;id.C=true;eR(this,id);id=ie.R}id.C=ie.C;ie.C=id.R.C=false;ai(this,ie);ig=this._;break}}else{id=ie.L;if(id.C){id.C=false;ie.C=true;eR(this,ie);id=ie.L}if(id.L&&id.L.C||id.R&&id.R.C){if(!id.L||!id.L.C){id.R.C=false;id.C=true;ai(this,id);id=ie.L}id.C=ie.C;ie.C=id.L.C=false;eR(this,ie);ig=this._;break}}id.C=true;ig=ie;ie=ie.U}while(!ig.C);if(ig){ig.C=false}}};function ai(d3,id){var ig=id,ie=id.R,ic=ig.U;if(ic){if(ic.L===ig){ic.L=ie}else{ic.R=ie}}else{d3._=ie}ie.U=ic;ig.U=ie;ig.R=ie.L;if(ig.R){ig.R.U=ig}ie.L=ig}function eR(d3,id){var ig=id,ie=id.L,ic=ig.U;if(ic){if(ic.L===ig){ic.L=ie}else{ic.R=ie}}else{d3._=ie}ie.U=ic;ig.U=ie;ig.L=ie.R;if(ig.L){ig.L.U=ig}ie.R=ig}function db(d3){while(d3.L){d3=d3.L}return d3}function g2(ih,ii){var ic=ih.sort(bl).pop(),id,ie,ig;gP=[];ex=new Array(ih.length);cS=new bb();d4=new bb();while(true){ig=he;if(ic&&(!ig||ic.y<ig.y||ic.y===ig.y&&ic.x<ig.x)){if(ic.x!==id||ic.y!==ie){ex[ic.i]=new bZ(ic);dv(ic);id=ic.x,ie=ic.y}ic=ih.pop()}else{if(ig){hq(ig.arc)}else{break}}}if(ii){hD(ii),bz(ii)}var d3={cells:ex,edges:gP};cS=d4=gP=ex=null;return d3}function bl(ic,d3){return d3.y-ic.y||d3.x-ic.x}ho.geom.voronoi=function(ie){var d3=hV,ij=hU,ig=d3,id=ij,ic=hH;if(ie){return ii(ie)}function ii(iq){var ik=new Array(iq.length),im=ic[0][0],ip=ic[0][1],il=ic[1][0],io=ic[1][1];g2(ih(iq),ic).cells.forEach(function(ir,iw){var it=ir.edges,iu=ir.site,iv=ik[iw]=it.length?it.map(function(iy){var ix=iy.start();return[ix.x,ix.y]}):iu.x>=im&&iu.x<=il&&iu.y>=ip&&iu.y<=io?[[im,io],[il,io],[il,ip],[im,ip]]:[];iv.point=iq[iw]});return ik}function ih(ik){return ik.map(function(im,il){return{x:Math.round(ig(im,il)/gn)*gn,y:Math.round(id(im,il)/gn)*gn,i:il}})}ii.links=function(ik){return g2(ih(ik)).edges.filter(function(il){return il.l&&il.r}).map(function(il){return{source:ik[il.l.i],target:ik[il.r.i]}})};ii.triangles=function(il){var ik=[];g2(ih(il)).cells.forEach(function(iw,ir){var im=iw.site,iq=iw.edges.sort(u),ip=-1,io=iq.length,iu,ix,it=iq[io-1].edge,iv=it.l===im?it.r:it.l;while(++ip<io){iu=it;ix=iv;it=iq[ip].edge;iv=it.l===im?it.r:it.l;if(ir<ix.i&&ir<iv.i&&gB(im,ix,iv)<0){ik.push([il[ir],il[ix.i],il[iv.i]])}}});return ik};ii.x=function(ik){return arguments.length?(ig=R(d3=ik),ii):d3};ii.y=function(ik){return arguments.length?(id=R(ij=ik),ii):ij};ii.clipExtent=function(ik){if(!arguments.length){return ic===hH?null:ic}ic=ik==null?hH:ik;return ii};ii.size=function(ik){if(!arguments.length){return ic===hH?null:ic&&ic[1]}return ii.clipExtent(ik&&[[0,0],ik])};return ii};var hH=[[-1000000,-1000000],[1000000,1000000]];function gB(ic,d3,id){return(ic.x-id.x)*(d3.y-ic.y)-(ic.x-d3.x)*(id.y-ic.y)}ho.geom.delaunay=function(d3){return ho.geom.voronoi().triangles(d3)};ho.geom.quadtree=function(ij,ic,ih,d3,ig){var ii=hV,ie=hU,ik;if(ik=arguments.length){ii=f4;ie=f2;if(ik===3){ig=ih;d3=ic;ih=ic=0}return id(ij)}function id(iF){var iC,iq=R(ii),io=R(ie),it,iz,iA,ix,il,iw,ir,iE;if(ic!=null){il=ic,iw=ih,ir=d3,iE=ig}else{ir=iE=-(il=iw=Infinity);it=[],iz=[];ix=iF.length;if(ik){for(iA=0;iA<ix;++iA){iC=iF[iA];if(iC.x<il){il=iC.x}if(iC.y<iw){iw=iC.y}if(iC.x>ir){ir=iC.x}if(iC.y>iE){iE=iC.y}it.push(iC.x);iz.push(iC.y)}}else{for(iA=0;iA<ix;++iA){var iB=+iq(iC=iF[iA],iA),ip=+io(iC,iA);if(iB<il){il=iB}if(ip<iw){iw=ip}if(iB>ir){ir=iB}if(ip>iE){iE=ip}it.push(iB);iz.push(ip)}}}var iv=ir-il,iu=iE-iw;if(iv>iu){iE=iw+iv}else{ir=il+iu}function im(iI,iM,iQ,iN,iH,iP,iG,iO){if(isNaN(iQ)||isNaN(iN)){return}if(iI.leaf){var iL=iI.x,iK=iI.y;if(iL!=null){if(cH(iL-iQ)+cH(iK-iN)<0.01){iD(iI,iM,iQ,iN,iH,iP,iG,iO)}else{var iJ=iI.point;iI.x=iI.y=iI.point=null;iD(iI,iJ,iL,iK,iH,iP,iG,iO);iD(iI,iM,iQ,iN,iH,iP,iG,iO)}}else{iI.x=iQ,iI.y=iN,iI.point=iM}}else{iD(iI,iM,iQ,iN,iH,iP,iG,iO)}}function iD(iJ,iM,iQ,iN,iH,iP,iG,iO){var iL=(iH+iG)*0.5,iI=(iP+iO)*0.5,iS=iQ>=iL,iR=iN>=iI,iK=iR<<1|iS;iJ.leaf=false;iJ=iJ.nodes[iK]||(iJ.nodes[iK]=fH());if(iS){iH=iL}else{iG=iL}if(iR){iP=iI}else{iO=iI}im(iJ,iM,iQ,iN,iH,iP,iG,iO)}var iy=fH();iy.add=function(iG){im(iy,iG,+iq(iG,++iA),+io(iG,iA),il,iw,ir,iE)};iy.visit=function(iG){cN(iG,iy,il,iw,ir,iE)};iy.find=function(iG){return el(iy,iG[0],iG[1],il,iw,ir,iE)};iA=-1;if(ic==null){while(++iA<ix){im(iy,iF[iA],it[iA],iz[iA],il,iw,ir,iE)}--iA}else{iF.forEach(iy.add)}it=iz=iF=iC=null;return iy}id.x=function(il){return arguments.length?(ii=il,id):ii};id.y=function(il){return arguments.length?(ie=il,id):ie};id.extent=function(il){if(!arguments.length){return ic==null?null:[[ic,ih],[d3,ig]]}if(il==null){ic=ih=d3=ig=null}else{ic=+il[0][0],ih=+il[0][1],d3=+il[1][0],ig=+il[1][1]}return id};id.size=function(il){if(!arguments.length){return ic==null?null:[d3-ic,ig-ih]}if(il==null){ic=ih=d3=ig=null}else{ic=ih=0,d3=+il[0],ig=+il[1]}return id};return id};function f4(d3){return d3.x}function f2(d3){return d3.y}function fH(){return{leaf:true,nodes:[],point:null,x:null,y:null}}function cN(ig,ie,ic,ik,d3,ii){if(!ig(ie,ic,ik,d3,ii)){var ij=(ic+d3)*0.5,ih=(ik+ii)*0.5,id=ie.nodes;if(id[0]){cN(ig,id[0],ic,ik,ij,ih)}if(id[1]){cN(ig,id[1],ij,ik,d3,ih)}if(id[2]){cN(ig,id[2],ic,ih,ij,ii)}if(id[3]){cN(ig,id[3],ij,ih,d3,ii)}}}function el(ii,ik,ih,id,il,d3,ig){var ij=Infinity,ic;(function ie(it,ip,iz,io,iy){if(ip>d3||iz>ig||io<id||iy<il){return}if(iB=it.point){var iB,iE=ik-it.x,iD=ih-it.y,ix=iE*iE+iD*iD;if(ix<ij){var im=Math.sqrt(ij=ix);id=ik-im,il=ih-im;d3=ik+im,ig=ih+im;ic=iB}}var ir=it.nodes,iw=(ip+io)*0.5,iq=(iz+iy)*0.5,iC=ik>=iw,iA=ih>=iq;for(var iv=iA<<1|iC,iu=iv+4;iv<iu;++iv){if(it=ir[iv&3]){switch(iv&3){case 0:ie(it,ip,iz,iw,iq);break;case 1:ie(it,iw,iz,io,iq);break;case 2:ie(it,ip,iq,iw,iy);break;case 3:ie(it,iw,iq,io,iy);break}}}})(ii,id,il,d3,ig);return ic}ho.interpolateRgb=aN;function aN(ic,d3){ic=ho.rgb(ic);d3=ho.rgb(d3);var ie=ic.r,id=ic.g,ii=ic.b,ih=d3.r-ie,ig=d3.g-id,ij=d3.b-ii;return function(ik){return"#"+cw(Math.round(ie+ih*ik))+cw(Math.round(id+ig*ik))+cw(Math.round(ii+ij*ik))}}ho.interpolateObject=bN;function bN(ic,d3){var ie={},ig={},id;for(id in ic){if(id in d3){ie[id]=fC(ic[id],d3[id])}else{ig[id]=ic[id]}}for(id in d3){if(!(id in ic)){ig[id]=d3[id]}}return function(ih){for(id in ie){ig[id]=ie[id](ih)}return ig}}ho.interpolateNumber=bH;function bH(ic,d3){ic=+ic,d3=+d3;return function(id){return ic*(1-id)+d3*id}}ho.interpolateString=b2;function b2(ii,ih){var id=hC.lastIndex=hA.lastIndex=0,ig,ic,ij,ie=-1,ik=[],d3=[];ii=ii+"",ih=ih+"";while((ig=hC.exec(ii))&&(ic=hA.exec(ih))){if((ij=ic.index)>id){ij=ih.slice(id,ij);if(ik[ie]){ik[ie]+=ij}else{ik[++ie]=ij}}if((ig=ig[0])===(ic=ic[0])){if(ik[ie]){ik[ie]+=ic}else{ik[++ie]=ic}}else{ik[++ie]=null;d3.push({i:ie,x:bH(ig,ic)})}id=hA.lastIndex}if(id<ih.length){ij=ih.slice(id);if(ik[ie]){ik[ie]+=ij}else{ik[++ie]=ij}}return ik.length<2?d3[0]?(ih=d3[0].x,function(il){return ih(il)+""}):function(){return ih}:(ih=d3.length,function(im){for(var il=0,io;il<ih;++il){ik[(io=d3[il]).i]=io.x(im)}return ik.join("")})}var hC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hA=new RegExp(hC.source,"g");ho.interpolate=fC;function fC(ic,d3){var id=ho.interpolators.length,ie;while(--id>=0&&!(ie=ho.interpolators[id](ic,d3))){}return ie}ho.interpolators=[function(ic,d3){var id=typeof d3;return(id==="string"?am.has(d3.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(d3)?aN:b2:d3 instanceof gV?aN:Array.isArray(d3)?eP:id==="object"&&isNaN(d3)?bN:bH)(ic,d3)}];ho.interpolateArray=eP;function eP(ig,id){var ic=[],ij=[],ie=ig.length,d3=id.length,ii=Math.min(ig.length,id.length),ih;for(ih=0;ih<ii;++ih){ic.push(fC(ig[ih],id[ih]))}for(;ih<ie;++ih){ij[ih]=ig[ih]}for(;ih<d3;++ih){ij[ih]=id[ih]}return function(ik){for(ih=0;ih<ii;++ih){ij[ih]=ic[ih](ik)}return ij}}var hj=function(){return gl};var ab=ho.map({linear:hj,poly:aS,quad:function(){return b0},cubic:function(){return I},sin:function(){return gc},exp:function(){return fu},circle:function(){return d6},elastic:V,back:g0,bounce:function(){return cl}});var k=ho.map({"in":gl,out:D,"in-out":a3,"out-in":function(d3){return a3(D(d3))}});ho.ease=function(ic){var ie=ic.indexOf("-"),id=ie>=0?ic.slice(0,ie):ic,d3=ie>=0?ic.slice(ie+1):"in";id=ab.get(id)||hj;d3=k.get(d3)||gl;return fz(d3(id.apply(null,bP.call(arguments,1))))};function fz(d3){return function(ic){return ic<=0?0:ic>=1?1:d3(ic)}}function D(d3){return function(ic){return 1-d3(1-ic)}}function a3(d3){return function(ic){return 0.5*(ic<0.5?d3(2*ic):2-d3(2-2*ic))}}function b0(d3){return d3*d3}function I(d3){return d3*d3*d3}function aw(ic){if(ic<=0){return 0}if(ic>=1){return 1}var id=ic*ic,d3=id*ic;return 4*(ic<0.5?d3:3*(ic-id)+d3-0.75)}function aS(d3){return function(ic){return Math.pow(ic,d3)}}function gc(d3){return 1-Math.cos(d3*eq)}function fu(d3){return Math.pow(2,10*(d3-1))}function d6(d3){return 1-Math.sqrt(1-d3*d3)}function V(d3,id){var ic;if(arguments.length<2){id=0.45}if(arguments.length){ic=id/f8*Math.asin(1/d3)}else{d3=1,ic=id/4}return function(ie){return 1+d3*Math.pow(2,-10*ie)*Math.sin((ie-ic)*f8/id)}}function g0(d3){if(!d3){d3=1.70158}return function(ic){return ic*ic*((d3+1)*ic-d3)}}function cl(d3){return d3<1/2.75?7.5625*d3*d3:d3<2/2.75?7.5625*(d3-=1.5/2.75)*d3+0.75:d3<2.5/2.75?7.5625*(d3-=2.25/2.75)*d3+0.9375:7.5625*(d3-=2.625/2.75)*d3+0.984375}ho.interpolateHcl=gS;function gS(id,d3){id=ho.hcl(id);d3=ho.hcl(d3);var ic=id.h,ig=id.c,ii=id.l,ie=d3.h-ic,ih=d3.c-ig,ij=d3.l-ii;if(isNaN(ih)){ih=0,ig=isNaN(ig)?d3.c:ig}if(isNaN(ie)){ie=0,ic=isNaN(ic)?d3.h:ic}else{if(ie>180){ie-=360}else{if(ie<-180){ie+=360}}}return function(ik){return bE(ic+ie*ik,ig+ih*ik,ii+ij*ik)+""}}ho.interpolateHsl=a4;function a4(ie,d3){ie=ho.hsl(ie);d3=ho.hsl(d3);var id=ie.h,ic=ie.s,ii=ie.l,ih=d3.h-id,ig=d3.s-ic,ij=d3.l-ii;if(isNaN(ig)){ig=0,ic=isNaN(ic)?d3.s:ic}if(isNaN(ih)){ih=0,id=isNaN(id)?d3.h:id}else{if(ih>180){ih-=360}else{if(ih<-180){ih+=360}}}return function(ik){return bh(id+ih*ik,ic+ig*ik,ii+ij*ik)+""}}ho.interpolateLab=hz;function hz(ic,d3){ic=ho.lab(ic);d3=ho.lab(d3);var ig=ic.l,ie=ic.a,id=ic.b,ij=d3.l-ig,ii=d3.a-ie,ih=d3.b-id;return function(ik){return aC(ig+ij*ik,ie+ii*ik,id+ih*ik)+""}}ho.interpolateRound=fx;function fx(ic,d3){d3-=ic;return function(id){return Math.round(ic+d3*id)}}ho.transform=function(d3){var ic=bO.createElementNS(ho.ns.prefix.svg,"g");return(ho.transform=function(id){if(id!=null){ic.setAttribute("transform",id);var ie=ic.transform.baseVal.consolidate()}return new p(ie?ie.matrix:f9)})(d3)};function p(d3){var ie=[d3.a,d3.b],ic=[d3.c,d3.d],ih=fp(ie),id=eZ(ie,ic),ig=fp(bT(ic,ie,-id))||0;if(ie[0]*ic[1]<ic[0]*ie[1]){ie[0]*=-1;ie[1]*=-1;ih*=-1;id*=-1}this.rotate=(ih?Math.atan2(ie[1],ie[0]):Math.atan2(-ic[0],ic[1]))*hF;this.translate=[d3.e,d3.f];this.scale=[ih,ig];this.skew=ig?Math.atan2(id,ig)*hF:0}p.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function eZ(ic,d3){return ic[0]*d3[0]+ic[1]*d3[1]}function fp(d3){var ic=Math.sqrt(eZ(d3,d3));if(ic){d3[0]/=ic;d3[1]/=ic}return ic}function bT(ic,d3,id){ic[0]+=id*d3[0];ic[1]+=id*d3[1];return ic}var f9={a:1,b:0,c:0,d:1,e:0,f:0};ho.interpolateTransform=eh;function aU(d3){return d3.length?d3.pop()+",":""}function hT(ic,d3,ie,ig){if(ic[0]!==d3[0]||ic[1]!==d3[1]){var id=ie.push("translate(",null,",",null,")");ig.push({i:id-4,x:bH(ic[0],d3[0])},{i:id-2,x:bH(ic[1],d3[1])})}else{if(d3[0]||d3[1]){ie.push("translate("+d3+")")}}}function g4(ie,id,d3,ic){if(ie!==id){if(ie-id>180){id+=360}else{if(id-ie>180){ie+=360}}ic.push({i:d3.push(aU(d3)+"rotate(",null,")")-2,x:bH(ie,id)})}else{if(id){d3.push(aU(d3)+"rotate("+id+")")}}}function dn(ie,id,d3,ic){if(ie!==id){ic.push({i:d3.push(aU(d3)+"skewX(",null,")")-2,x:bH(ie,id)})}else{if(id){d3.push(aU(d3)+"skewX("+id+")")}}}function gY(ie,id,ic,ig){if(ie[0]!==id[0]||ie[1]!==id[1]){var d3=ic.push(aU(ic)+"scale(",null,",",null,")");ig.push({i:d3-4,x:bH(ie[0],id[0])},{i:d3-2,x:bH(ie[1],id[1])})}else{if(id[0]!==1||id[1]!==1){ic.push(aU(ic)+"scale("+id+")")}}}function eh(ic,d3){var id=[],ie=[];ic=ho.transform(ic),d3=ho.transform(d3);hT(ic.translate,d3.translate,id,ie);g4(ic.rotate,d3.rotate,id,ie);dn(ic.skew,d3.skew,id,ie);gY(ic.scale,d3.scale,id,ie);ic=d3=null;return function(ih){var ig=-1,ij=ie.length,ii;while(++ig<ij){id[(ii=ie[ig]).i]=ii.x(ih)}return id.join("")}}function hw(ic,d3){d3=(d3-=ic=+ic)||1/d3;return function(id){return(id-ic)/d3}}function az(ic,d3){d3=(d3-=ic=+ic)||1/d3;return function(id){return Math.max(0,Math.min(1,(id-ic)/d3))}}ho.layout={};ho.layout.bundle=function(){return function(d3){var id=[],ic=-1,ie=d3.length;while(++ic<ie){id.push(eL(d3[ic]))}return id}};function eL(ie){var ih=ie.source,d3=ie.target,ig=fK(ih,d3),id=[ih];while(ih!==ig){ih=ih.parent;id.push(ih)}var ic=id.length;while(d3!==ig){id.splice(ic,0,d3);d3=d3.parent}return id}function fo(id){var ic=[],d3=id.parent;while(d3!=null){ic.push(id);id=d3;d3=d3.parent}ic.push(id);return ic}function fK(ie,ic){if(ie===ic){return ie}var id=fo(ie),d3=fo(ic),ig=id.pop(),ih=d3.pop(),ii=null;while(ig===ih){ii=ig;ig=id.pop();ih=d3.pop()}return ii}ho.layout.chord=function(){var ih={},ii,ie,im,id,il=0,d3,ic,ig;function ik(){var it={},iw=[],iE=ho.range(id),iA=[],iu,iC,ir,ix,iv;ii=[];ie=[];iu=0,ix=-1;while(++ix<id){iC=0,iv=-1;while(++iv<id){iC+=im[ix][iv]}iw.push(iC);iA.push(ho.range(id));iu+=iC}if(d3){iE.sort(function(iG,iF){return d3(iw[iG],iw[iF])})}if(ic){iA.forEach(function(iG,iF){iG.sort(function(iI,iH){return ic(im[iF][iI],im[iF][iH])})})}iu=(f8-il*id)/iu;iC=0,ix=-1;while(++ix<id){ir=iC,iv=-1;while(++iv<id){var iB=iE[ix],iz=iA[iB][iv],iD=im[iB][iz],iq=iC,ip=iC+=iD*iu;it[iB+"-"+iz]={index:iB,subindex:iz,startAngle:iq,endAngle:ip,value:iD}}ie[iB]={index:iB,startAngle:ir,endAngle:iC,value:iw[iB]};iC+=il}ix=-1;while(++ix<id){iv=ix-1;while(++iv<id){var io=it[ix+"-"+iv],iy=it[iv+"-"+ix];if(io.value||iy.value){ii.push(io.value<iy.value?{source:iy,target:io}:{source:io,target:iy})}}}if(ig){ij()}}function ij(){ii.sort(function(ip,io){return ig((ip.source.value+ip.target.value)/2,(io.source.value+io.target.value)/2)})}ih.matrix=function(io){if(!arguments.length){return im}id=(im=io)&&im.length;ii=ie=null;return ih};ih.padding=function(io){if(!arguments.length){return il}il=io;ii=ie=null;return ih};ih.sortGroups=function(io){if(!arguments.length){return d3}d3=io;ii=ie=null;return ih};ih.sortSubgroups=function(io){if(!arguments.length){return ic}ic=io;ii=null;return ih};ih.sortChords=function(io){if(!arguments.length){return ig}ig=io;if(ii){ij()}return ih};ih.chords=function(){if(!ii){ik()}return ii};ih.groups=function(){if(!ie){ik()}return ie};return ih};ho.layout.force=function(){var ic={},iu=ho.dispatch("start","tick","end"),ik,im=[1,1],iw,ig,ij=0.9,ix=fQ,ie=cu,it=-30,iq=cc,ih=0.1,io=0.64,ir=[],id=[],ii,d3,il;function iv(iy){return function(iF,iB,iE,iA){if(iF.point!==iy){var iH=iF.cx-iy.x,iG=iF.cy-iy.y,iz=iA-iB,iD=iH*iH+iG*iG;if(iz*iz/io<iD){if(iD<iq){var iC=iF.charge/iD;iy.px-=iH*iC;iy.py-=iG*iC}return true}if(iF.point&&iD&&iD<iq){var iC=iF.pointCharge/iD;iy.px-=iH*iC;iy.py-=iG*iC}}return !iF.charge}}ic.tick=function(){if((ig*=0.99)<0.005){ik=null;iu.end({type:"end",alpha:ig=0});return true}var iA=ir.length,iB=id.length,iy,iE,iz,iI,iH,iC,iD,iG,iF;for(iE=0;iE<iB;++iE){iz=id[iE];iI=iz.source;iH=iz.target;iG=iH.x-iI.x;iF=iH.y-iI.y;if(iC=iG*iG+iF*iF){iC=ig*d3[iE]*((iC=Math.sqrt(iC))-ii[iE])/iC;iG*=iC;iF*=iC;iH.x-=iG*(iD=iI.weight+iH.weight?iI.weight/(iI.weight+iH.weight):0.5);iH.y-=iF*iD;iI.x+=iG*(iD=1-iD);iI.y+=iF*iD}}if(iD=ig*ih){iG=im[0]/2;iF=im[1]/2;iE=-1;if(iD){while(++iE<iA){iz=ir[iE];iz.x+=(iG-iz.x)*iD;iz.y+=(iF-iz.y)*iD}}}if(it){gA(iy=ho.geom.quadtree(ir),ig,il);iE=-1;while(++iE<iA){if(!(iz=ir[iE]).fixed){iy.visit(iv(iz))}}}iE=-1;while(++iE<iA){iz=ir[iE];if(iz.fixed){iz.x=iz.px;iz.y=iz.py}else{iz.x-=(iz.px-(iz.px=iz.x))*ij;iz.y-=(iz.py-(iz.py=iz.y))*ij}}iu.tick({type:"tick",alpha:ig})};ic.nodes=function(iy){if(!arguments.length){return ir}ir=iy;return ic};ic.links=function(iy){if(!arguments.length){return id}id=iy;return ic};ic.size=function(iy){if(!arguments.length){return im}im=iy;return ic};ic.linkDistance=function(iy){if(!arguments.length){return ix}ix=typeof iy==="function"?iy:+iy;return ic};ic.distance=ic.linkDistance;ic.linkStrength=function(iy){if(!arguments.length){return ie}ie=typeof iy==="function"?iy:+iy;return ic};ic.friction=function(iy){if(!arguments.length){return ij}ij=+iy;return ic};ic.charge=function(iy){if(!arguments.length){return it}it=typeof iy==="function"?iy:+iy;return ic};ic.chargeDistance=function(iy){if(!arguments.length){return Math.sqrt(iq)}iq=iy*iy;return ic};ic.gravity=function(iy){if(!arguments.length){return ih}ih=+iy;return ic};ic.theta=function(iy){if(!arguments.length){return Math.sqrt(io)}io=iy*iy;return ic};ic.alpha=function(iy){if(!arguments.length){return ig}iy=+iy;if(ig){if(iy>0){ig=iy}else{ik.c=null,ik.t=NaN,ik=null;iu.end({type:"end",alpha:ig=0})}}else{if(iy>0){iu.start({type:"start",alpha:ig=iy});ik=g3(ic.tick)}}return ic};ic.start=function(){var iC,iF=ir.length,iz=id.length,iA=im[0],iD=im[1],iB,iE;for(iC=0;iC<iF;++iC){(iE=ir[iC]).index=iC;iE.weight=0}for(iC=0;iC<iz;++iC){iE=id[iC];if(typeof iE.source=="number"){iE.source=ir[iE.source]}if(typeof iE.target=="number"){iE.target=ir[iE.target]}++iE.source.weight;++iE.target.weight}for(iC=0;iC<iF;++iC){iE=ir[iC];if(isNaN(iE.x)){iE.x=iy("x",iA)}if(isNaN(iE.y)){iE.y=iy("y",iD)}if(isNaN(iE.px)){iE.px=iE.x}if(isNaN(iE.py)){iE.py=iE.y}}ii=[];if(typeof ix==="function"){for(iC=0;iC<iz;++iC){ii[iC]=+ix.call(this,id[iC],iC)}}else{for(iC=0;iC<iz;++iC){ii[iC]=ix}}d3=[];if(typeof ie==="function"){for(iC=0;iC<iz;++iC){d3[iC]=+ie.call(this,id[iC],iC)}}else{for(iC=0;iC<iz;++iC){d3[iC]=ie}}il=[];if(typeof it==="function"){for(iC=0;iC<iF;++iC){il[iC]=+it.call(this,ir[iC],iC)}}else{for(iC=0;iC<iF;++iC){il[iC]=it}}function iy(iL,iJ){if(!iB){iB=new Array(iF);for(iI=0;iI<iF;++iI){iB[iI]=[]}for(iI=0;iI<iz;++iI){var iM=id[iI];iB[iM.source.index].push(iM.target);iB[iM.target.index].push(iM.source)}}var iK=iB[iC],iI=-1,iH=iK.length,iG;while(++iI<iH){if(!isNaN(iG=iK[iI][iL])){return iG}}return Math.random()*iJ}return ic.resume()};ic.resume=function(){return ic.alpha(0.1)};ic.stop=function(){return ic.alpha(0)};ic.drag=function(){if(!iw){iw=ho.behavior.drag().origin(gl).on("dragstart.force",r).on("drag.force",ip).on("dragend.force",ed)}if(!arguments.length){return iw}this.on("mouseover.force",cx).on("mouseout.force",em).call(iw)};function ip(iy){iy.px=ho.event.x,iy.py=ho.event.y;ic.resume()}return ho.rebind(ic,iu,"on")};function r(d3){d3.fixed|=2}function ed(d3){d3.fixed&=~6}function cx(d3){d3.fixed|=4;d3.px=d3.x,d3.py=d3.y}function em(d3){d3.fixed&=~4}function gA(il,ig,ik){var ih=0,id=0;il.charge=0;if(!il.leaf){var d3=il.nodes,ic=d3.length,ii=-1,ij;while(++ii<ic){ij=d3[ii];if(ij==null){continue}gA(ij,ig,ik);il.charge+=ij.charge;ih+=ij.charge*ij.cx;id+=ij.charge*ij.cy}}if(il.point){if(!il.leaf){il.point.x+=Math.random()-0.5;il.point.y+=Math.random()-0.5}var ie=ig*ik[il.point.index];il.charge+=il.pointCharge=ie;ih+=ie*il.point.x;id+=ie*il.point.y}il.cx=ih/il.charge;il.cy=id/il.charge}var fQ=20,cu=1,cc=Infinity;ho.layout.hierarchy=function(){var id=dR,ic=a8,ie=hL;function d3(ih){var ig=[ih],ii=[],ij;ih.depth=0;while((ij=ig.pop())!=null){ii.push(ij);if((ik=ic.call(d3,ij,ij.depth))&&(im=ik.length)){var im,ik,il;while(--im>=0){ig.push(il=ik[im]);il.parent=ij;il.depth=ij.depth+1}if(ie){ij.value=0}ij.children=ik}else{if(ie){ij.value=+ie.call(d3,ij,ij.depth)||0}delete ij.children}}gM(ih,function(ip){var iq,io;if(id&&(iq=ip.children)){iq.sort(id)}if(ie&&(io=ip.parent)){io.value+=ip.value}});return ii}d3.sort=function(ig){if(!arguments.length){return id}id=ig;return d3};d3.children=function(ig){if(!arguments.length){return ic}ic=ig;return d3};d3.value=function(ig){if(!arguments.length){return ie}ie=ig;return d3};d3.revalue=function(ig){if(ie){ev(ig,function(ih){if(ih.children){ih.value=0}});gM(ig,function(ii){var ih;if(!ii.children){ii.value=+ie.call(d3,ii,ii.depth)||0}if(ih=ii.parent){ih.value+=ii.value}})}return ig};return d3};function gs(ic,d3){ho.rebind(ic,d3,"sort","children","value");ic.nodes=ic;ic.links=gw;return ic}function ev(id,ig){var d3=[id];while((id=d3.pop())!=null){ig(id);if((ic=id.children)&&(ie=ic.length)){var ie,ic;while(--ie>=0){d3.push(ic[ie])}}}}function gM(ig,ii){var ic=[ig],d3=[];while((ig=ic.pop())!=null){d3.push(ig);if((id=ig.children)&&(ih=id.length)){var ie=-1,ih,id;while(++ie<ih){ic.push(id[ie])}}}while((ig=d3.pop())!=null){ii(ig)}}function a8(d3){return d3.children}function hL(d3){return d3.value}function dR(ic,d3){return d3.value-ic.value}function gw(d3){return ho.merge(d3.map(function(ic){return(ic.children||[]).map(function(id){return{source:ic,target:id}})}))}ho.layout.partition=function(){var id=ho.layout.hierarchy(),ie=[1,1];function d3(ij,io,iq,ip){var ih=ij.children;ij.x=io;ij.y=ij.depth*ip;ij.dx=iq;ij.dy=ip;if(ih&&(ii=ih.length)){var ik=-1,ii,im,il;iq=ij.value?iq/ij.value:0;while(++ik<ii){d3(im=ih[ik],io,il=im.value*iq,ip);io+=il}}}function ig(ij){var ii=ij.children,ik=0;if(ii&&(il=ii.length)){var ih=-1,il;while(++ih<il){ik=Math.max(ik,ig(ii[ih]))}}return 1+ik}function ic(ij,ii){var ih=id.call(this,ij,ii);d3(ih[0],0,ie[0],ie[1]/ig(ih[0]));return ih}ic.size=function(ih){if(!arguments.length){return ie}ie=ih;return ic};return gs(ic,id)};ho.layout.pie=function(){var ih=Number,ie=U,id=0,ic=f8,ig=0;function d3(im){var ik=im.length,iu=im.map(function(ix,iw){return +ih.call(d3,ix,iw)}),iq=+(typeof id==="function"?id.apply(this,arguments):id),iv=(typeof ic==="function"?ic.apply(this,arguments):ic)-iq,ij=Math.min(Math.abs(iv)/ik,+(typeof ig==="function"?ig.apply(this,arguments):ig)),ir=ij*(iv<0?-1:1),ip=ho.sum(iu),il=ip?(iv-ik*ir)/ip:0,io=ho.range(ik),ii=[],it;if(ie!=null){io.sort(ie===U?function(ix,iw){return iu[iw]-iu[ix]}:function(ix,iw){return ie(im[ix],im[iw])})}io.forEach(function(iw){ii[iw]={data:im[iw],value:it=iu[iw],startAngle:iq,endAngle:iq+=it*il+ir,padAngle:ij}});return ii}d3.value=function(ii){if(!arguments.length){return ih}ih=ii;return d3};d3.sort=function(ii){if(!arguments.length){return ie}ie=ii;return d3};d3.startAngle=function(ii){if(!arguments.length){return id}id=ii;return d3};d3.endAngle=function(ii){if(!arguments.length){return ic}ic=ii;return d3};d3.padAngle=function(ii){if(!arguments.length){return ig}ig=ii;return d3};return d3};var U={};ho.layout.stack=function(){var ie=gl,id=bS,ih=fE,ig=fF,ic=an,ii=al;function d3(ir,iu){if(!(ik=ir.length)){return ir}var it=ir.map(function(ix,iw){return ie.call(d3,ix,iw)});var iv=it.map(function(iw){return iw.map(function(ix,iy){return[ic.call(d3,ix,iy),ii.call(d3,ix,iy)]})});var io=id.call(d3,iv,iu);it=ho.permute(it,io);iv=ho.permute(iv,io);var im=ih.call(d3,iv,iu);var il=it[0].length,ik,iq,ip,ij;for(ip=0;ip<il;++ip){ig.call(d3,it[0][ip],ij=im[ip],iv[0][ip][1]);for(iq=1;iq<ik;++iq){ig.call(d3,it[iq][ip],ij+=iv[iq-1][ip][1],iv[iq][ip][1])}}return ir}d3.values=function(ij){if(!arguments.length){return ie}ie=ij;return d3};d3.order=function(ij){if(!arguments.length){return id}id=typeof ij==="function"?ij:a6.get(ij)||bS;return d3};d3.offset=function(ij){if(!arguments.length){return ih}ih=typeof ij==="function"?ij:ag.get(ij)||fE;return d3};d3.x=function(ij){if(!arguments.length){return ic}ic=ij;return d3};d3.y=function(ij){if(!arguments.length){return ii}ii=ij;return d3};d3.out=function(ij){if(!arguments.length){return ig}ig=ij;return d3};return d3};function an(d3){return d3.x}function al(d3){return d3.y}function fF(ic,d3,id){ic.y0=d3;ic.y=id}var a6=ho.map({"inside-out":function(ig){var id=ig.length,ih,ie,il=ig.map(bY),ii=ig.map(du),ij=ho.range(id).sort(function(ip,io){return il[ip]-il[io]}),ik=0,d3=0,im=[],ic=[];for(ih=0;ih<id;++ih){ie=ij[ih];if(ik<d3){ik+=ii[ie];im.push(ie)}else{d3+=ii[ie];ic.push(ie)}}return ic.reverse().concat(im)},reverse:function(d3){return ho.range(d3.length).reverse()},"default":bS});var ag=ho.map({silhouette:function(ig){var ic=ig.length,id=ig[0].length,ii=[],ij=0,ih,ie,d3,ik=[];for(ie=0;ie<id;++ie){for(ih=0,d3=0;ih<ic;ih++){d3+=ig[ih][ie][1]}if(d3>ij){ij=d3}ii.push(d3)}for(ie=0;ie<id;++ie){ik[ie]=(ij-ii[ie])/2}return ik},wiggle:function(ii){var ic=ii.length,il=ii[0],id=il.length,ij,ih,ig,ip,io,ik,iq,d3,ie,im=[];im[0]=d3=ie=0;for(ih=1;ih<id;++ih){for(ij=0,ip=0;ij<ic;++ij){ip+=ii[ij][ih][1]}for(ij=0,io=0,iq=il[ih][0]-il[ih-1][0];ij<ic;++ij){for(ig=0,ik=(ii[ij][ih][1]-ii[ij][ih-1][1])/(2*iq);ig<ij;++ig){ik+=(ii[ig][ih][1]-ii[ig][ih-1][1])/iq}io+=ik*ii[ij][ih][1]}im[ih]=d3-=ip?io/ip*iq:0;if(d3<ie){ie=d3}}for(ih=0;ih<id;++ih){im[ih]-=ie}return im},expand:function(ih){var ij=ih.length,d3=ih[0].length,ic=1/ij,ie,id,ii,ig=[];for(id=0;id<d3;++id){for(ie=0,ii=0;ie<ij;ie++){ii+=ih[ie][id][1]}if(ii){for(ie=0;ie<ij;ie++){ih[ie][id][1]/=ii}}else{for(ie=0;ie<ij;ie++){ih[ie][id][1]=ic}}}for(id=0;id<d3;++id){ig[id]=0}return ig},zero:fE});function bS(d3){return ho.range(d3.length)}function fE(ie){var ic=-1,d3=ie[0].length,id=[];while(++ic<d3){id[ic]=0}return id}function bY(ih){var ie=1,id=0,ic=ih[0][1],d3,ig=ih.length;for(;ie<ig;++ie){if((d3=ih[ie][1])>ic){id=ie;ic=d3}}return id}function du(d3){return d3.reduce(fD,0)}function fD(d3,ic){return d3+ic[1]}ho.layout.histogram=function(){var ig=true,ic=Number,d3=bk,id=hx;function ie(ik,il){var ir=[],ip=ik.map(ic,this),im=d3.call(this,ip,il),iq=id.call(this,im,ip,il),it,il=-1,ih=ip.length,ii=iq.length-1,ij=ig?1:1/ih,io;while(++il<ii){it=ir[il]=[];it.dx=iq[il+1]-(it.x=iq[il]);it.y=0}if(ii>0){il=-1;while(++il<ih){io=ip[il];if(io>=im[0]&&io<=im[1]){it=ir[ho.bisect(iq,io,1,ii)-1];it.y+=ij;it.push(ik[il])}}}return ir}ie.value=function(ih){if(!arguments.length){return ic}ic=ih;return ie};ie.range=function(ih){if(!arguments.length){return d3}d3=R(ih);return ie};ie.bins=function(ih){if(!arguments.length){return id}id=typeof ih==="number"?function(ii){return j(ii,ih)}:R(ih);return ie};ie.frequency=function(ih){if(!arguments.length){return ig}ig=!!ih;return ie};return ie};function hx(ic,d3){return j(ic,Math.ceil(Math.log(d3.length)/Math.LN2+1))}function j(ie,ih){var id=-1,ic=+ie[0],d3=(ie[1]-ic)/ih,ig=[];while(++id<=ih){ig[id]=d3*id+ic}return ig}function bk(d3){return[ho.min(d3),ho.max(d3)]}ho.layout.pack=function(){var ic=ho.layout.hierarchy().sort(eB),ig=0,ie=[1,1],d3;function id(ip,ik){var ij=ic.call(this,ip,ik),ii=ij[0],ih=ie[0],il=ie[1],im=d3==null?Math.sqrt:typeof d3==="function"?d3:function(){return d3};ii.x=ii.y=0;gM(ii,function(iq){iq.r=+im(iq.value)});gM(ii,T);if(ig){var io=ig*(d3?1:Math.max(2*ii.r/ih,2*ii.r/il))/2;gM(ii,function(iq){iq.r+=io});gM(ii,T);gM(ii,function(iq){iq.r-=io})}fn(ii,ih/2,il/2,d3?1:1/Math.max(2*ii.r/ih,2*ii.r/il));return ij}id.size=function(ih){if(!arguments.length){return ie}ie=ih;return id};id.radius=function(ih){if(!arguments.length){return d3}d3=ih==null||typeof ih==="function"?ih:+ih;return id};id.padding=function(ih){if(!arguments.length){return ig}ig=+ih;return id};return gs(id,ic)};function eB(ic,d3){return ic.value-d3.value}function bR(ic,d3){var id=ic._pack_next;ic._pack_next=d3;d3._pack_prev=ic;d3._pack_next=id;id._pack_prev=d3}function bf(ic,d3){ic._pack_next=d3;d3._pack_prev=ic}function en(id,d3){var ie=d3.x-id.x,ic=d3.y-id.y,ig=id.r+d3.r;return 0.999*ig*ig>ie*ie+ic*ic}function T(io){if(!(im=io.children)||!(il=im.length)){return}var im,it=Infinity,ix=-Infinity,d3=Infinity,ig=-Infinity,iw,iv,iu,ir,iq,ip,il;function id(iy){it=Math.min(iy.x-iy.r,it);ix=Math.max(iy.x+iy.r,ix);d3=Math.min(iy.y-iy.r,d3);ig=Math.max(iy.y+iy.r,ig)}im.forEach(aR);iw=im[0];iw.x=-iw.r;iw.y=0;id(iw);if(il>1){iv=im[1];iv.x=iv.r;iv.y=0;id(iv);if(il>2){iu=im[2];be(iw,iv,iu);id(iu);bR(iw,iu);iw._pack_prev=iu;bR(iu,iv);iv=iw._pack_next;for(ir=3;ir<il;ir++){be(iw,iv,iu=im[ir]);var ic=0,ih=1,ie=1;for(iq=iv._pack_next;iq!==iv;iq=iq._pack_next,ih++){if(en(iq,iu)){ic=1;break}}if(ic==1){for(ip=iw._pack_prev;ip!==iq._pack_prev;ip=ip._pack_prev,ie++){if(en(ip,iu)){break}}}if(ic){if(ih<ie||ih==ie&&iv.r<iw.r){bf(iw,iv=iq)}else{bf(iw=ip,iv)}ir--}else{bR(iw,iu);iv=iu;id(iu)}}}}var ij=(it+ix)/2,ii=(d3+ig)/2,ik=0;for(ir=0;ir<il;ir++){iu=im[ir];iu.x-=ij;iu.y-=ii;ik=Math.max(ik,iu.r+Math.sqrt(iu.x*iu.x+iu.y*iu.y))}io.r=ik;im.forEach(eQ)}function aR(d3){d3._pack_next=d3._pack_prev=d3}function eQ(d3){delete d3._pack_next;delete d3._pack_prev}function fn(ig,d3,ii,ic){var ie=ig.children;ig.x=d3+=ic*ig.x;ig.y=ii+=ic*ig.y;ig.r*=ic;if(ie){var id=-1,ih=ie.length;while(++id<ih){fn(ie[id],d3,ii,ic)}}}function be(ig,id,d3){var ii=ig.r+d3.r,il=id.x-ig.x,ij=id.y-ig.y;if(ii&&(il||ij)){var ik=id.r+d3.r,ih=il*il+ij*ij;ik*=ik;ii*=ii;var ie=0.5+(ii-ik)/(2*ih),ic=Math.sqrt(Math.max(0,2*ik*(ii+ih)-(ii-=ih)*ii-ik*ik))/(2*ih);d3.x=ig.x+ie*il+ic*ij;d3.y=ig.y+ie*ij-ic*il}else{d3.x=ig.x+ii;d3.y=ig.y}}ho.layout.tree=function(){var ig=ho.layout.hierarchy().sort(null).value(null),ic=dA,ik=[1,1],ih=null;function il(iv,ir){var io=ig.call(this,iv,ir),ix=io[0],iw=ij(ix);gM(iw,ie),iw.parent.m=-iw.z;ev(iw,ii);if(ih){ev(ix,id)}else{var ip=ix,iy=ix,im=ix;ev(ix,function(iz){if(iz.x<ip.x){ip=iz}if(iz.x>iy.x){iy=iz}if(iz.depth>im.depth){im=iz}});var iq=ic(ip,iy)/2-ip.x,iu=ik[0]/(iy.x+ic(iy,ip)/2+iq),it=ik[1]/(im.depth||1);ev(ix,function(iz){iz.x=(iz.x+iq)*iu;iz.y=iz.depth*it})}return io}function ij(iq){var io={A:null,children:[iq]},im=[io],ip;while((ip=im.pop())!=null){for(var it=ip.children,iv,ir=0,iu=it.length;ir<iu;++ir){im.push((it[ir]=iv={_:it[ir],parent:ip,children:(iv=it[ir].children)&&iv.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:ir}).a=iv)}}return io.children[0]}function ie(io){var iq=io.children,ir=io.parent.children,im=io.i?ir[io.i-1]:null;if(iq.length){dD(io);var ip=(iq[0].z+iq[iq.length-1].z)/2;if(im){io.z=im.z+ic(io._,im._);io.m=io.z-ip}else{io.z=ip}}else{if(im){io.z=im.z+ic(io._,im._)}}io.parent.A=d3(io,im,io.parent.A||ir[0])}function ii(im){im._.x=im.z+im.parent.m;im.m+=im.parent.m}function d3(iz,iy,it){if(iy){var ip=iz,io=iz,ir=iy,iq=ip.parent.children[0],iv=ip.m,iu=io.m,ix=ir.m,iw=iq.m,im;while(ir=aB(ir),ip=hY(ip),ir&&ip){iq=hY(iq);io=aB(io);io.a=iz;im=ir.z+ix-ip.z-iv+ic(ir._,ip._);if(im>0){h0(fY(ir,iz,it),iz,im);iv+=im;iu+=im}ix+=ir.m;iv+=ip.m;iw+=iq.m;iu+=io.m}if(ir&&!aB(io)){io.t=ir;io.m+=ix-iu}if(ip&&!hY(iq)){iq.t=ip;iq.m+=iv-iw;it=iz}}return it}function id(im){im.x*=ik[0];im.y=im.depth*ik[1]}il.separation=function(im){if(!arguments.length){return ic}ic=im;return il};il.size=function(im){if(!arguments.length){return ih?null:ik}ih=(ik=im)==null?id:null;return il};il.nodeSize=function(im){if(!arguments.length){return ih?ik:null}ih=(ik=im)==null?null:id;return il};return gs(il,ig)};function dA(ic,d3){return ic.parent==d3.parent?1:2}function hY(d3){var ic=d3.children;return ic.length?ic[0]:d3.t}function aB(d3){var ic=d3.children,id;return(id=ic.length)?ic[id-1]:d3.t}function h0(id,ic,d3){var ie=d3/(ic.i-id.i);ic.c-=ie;ic.s+=d3;id.c+=ie;ic.z+=d3;ic.m+=d3}function dD(id){var ic=0,ih=0,ig=id.children,ie=ig.length,d3;while(--ie>=0){d3=ig[ie];d3.z+=ic;d3.m+=ic;ic+=d3.s+(ih+=d3.c)}}function fY(ic,d3,id){return ic.a.parent===d3.parent?ic.a:id}ho.layout.cluster=function(){var id=ho.layout.hierarchy().sort(null).value(null),ig=dA,ie=[1,1],ic=false;function d3(im,il){var ih=id.call(this,im,il),io=ih[0],ip,iq=0;gM(io,function(iu){var it=iu.children;if(it&&it.length){iu.x=by(it);iu.y=bx(it)}else{iu.x=ip?iq+=ig(iu,ip):0;iu.y=0;ip=iu}});var ik=eD(io),ir=dG(io),ij=ik.x-ig(ik,ir)/2,ii=ir.x+ig(ir,ik)/2;gM(io,ic?function(it){it.x=(it.x-io.x)*ie[0];it.y=(io.y-it.y)*ie[1]}:function(it){it.x=(it.x-ij)/(ii-ij)*ie[0];it.y=(1-(io.y?it.y/io.y:1))*ie[1]});return ih}d3.separation=function(ih){if(!arguments.length){return ig}ig=ih;return d3};d3.size=function(ih){if(!arguments.length){return ic?null:ie}ic=(ie=ih)==null;return d3};d3.nodeSize=function(ih){if(!arguments.length){return ic?ie:null}ic=(ie=ih)!=null;return d3};return gs(d3,id)};function bx(d3){return 1+ho.max(d3,function(ic){return ic.y})}function by(d3){return d3.reduce(function(ic,id){return ic+id.x},0)/d3.length}function eD(ic){var d3=ic.children;return d3&&d3.length?eD(d3[0]):ic}function dG(ic){var d3=ic.children,id;return d3&&(id=d3.length)?dG(d3[id-1]):ic}ho.layout.treemap=function(){var ik=ho.layout.hierarchy(),ip=Math.round,ir=[1,1],il=null,d3=e7,im=false,ii,ih="squarify",ij=0.5*(1+Math.sqrt(5));function ic(iv,it){var iu=-1,iy=iv.length,ix,iw;while(++iu<iy){iw=(ix=iv[iu]).value*(it<0?0:it);ix.area=isNaN(iw)||iw<=0?0:iw}}function ie(ix){var iu=ix.children;if(iu&&iu.length){var iA=d3(ix),iC=[],iz=iu.slice(),it,iy=Infinity,iw,iB=ih==="slice"?iA.dx:ih==="dice"?iA.dy:ih==="slice-dice"?ix.depth&1?iA.dy:iA.dx:Math.min(iA.dx,iA.dy),iv;ic(iz,iA.dx*iA.dy/ix.value);iC.area=0;while((iv=iz.length)>0){iC.push(it=iz[iv-1]);iC.area+=it.area;if(ih!=="squarify"||(iw=id(iC,iB))<=iy){iz.pop();iy=iw}else{iC.area-=iC.pop().area;ig(iC,iB,iA,false);iB=Math.min(iA.dx,iA.dy);iC.length=iC.area=0;iy=Infinity}}if(iC.length){ig(iC,iB,iA,true);iC.length=iC.area=0}iu.forEach(ie)}}function iq(iw){var it=iw.children;if(it&&it.length){var iv=d3(iw),iu=it.slice(),iy,ix=[];ic(iu,iv.dx*iv.dy/iw.value);ix.area=0;while(iy=iu.pop()){ix.push(iy);ix.area+=iy.area;if(iy.z!=null){ig(ix,iy.z?iv.dx:iv.dy,iv,!iu.length);ix.length=ix.area=0}}it.forEach(iq)}}function id(iy,iu){var iw=iy.area,ix,iA=0,it=Infinity,iv=-1,iz=iy.length;while(++iv<iz){if(!(ix=iy[iv].area)){continue}if(ix<it){it=ix}if(ix>iA){iA=ix}}iw*=iw;iu*=iu;return iw?Math.max(iu*iA*ij/iw,iw/(iu*it*ij)):Infinity}function ig(iC,iB,ix,iA){var iv=-1,iu=iC.length,iy=ix.x,iw=ix.y,iz=iB?ip(iC.area/iB):0,it;if(iB==ix.dx){if(iA||iz>ix.dy){iz=ix.dy}while(++iv<iu){it=iC[iv];it.x=iy;it.y=iw;it.dy=iz;iy+=it.dx=Math.min(ix.x+ix.dx-iy,iz?ip(it.area/iz):0)}it.z=true;it.dx+=ix.x+ix.dx-iy;ix.y+=iz;ix.dy-=iz}else{if(iA||iz>ix.dx){iz=ix.dx}while(++iv<iu){it=iC[iv];it.x=iy;it.y=iw;it.dx=iz;iw+=it.dy=Math.min(ix.y+ix.dy-iw,iz?ip(it.area/iz):0)}it.z=false;it.dy+=ix.y+ix.dy-iw;ix.x+=iz;ix.dx-=iz}}function io(iv){var iu=ii||ik(iv),it=iu[0];it.x=it.y=0;if(it.value){it.dx=ir[0],it.dy=ir[1]}else{it.dx=it.dy=0}if(ii){ik.revalue(it)}ic([it],it.dx*it.dy/it.value);(ii?iq:ie)(it);if(im){ii=iu}return iu}io.size=function(it){if(!arguments.length){return ir}ir=it;return io};io.padding=function(it){if(!arguments.length){return il}function iw(ix){var iy=it.call(io,ix,ix.depth);return iy==null?e7(ix):a0(ix,typeof iy==="number"?[iy,iy,iy,iy]:iy)}function iv(ix){return a0(ix,it)}var iu;d3=(il=it)==null?e7:(iu=typeof it)==="function"?iw:iu==="number"?(it=[it,it,it,it],iv):iv;return io};io.round=function(it){if(!arguments.length){return ip!=Number}ip=it?Math.round:Number;return io};io.sticky=function(it){if(!arguments.length){return im}im=it;ii=null;return io};io.ratio=function(it){if(!arguments.length){return ij}ij=it;return io};io.mode=function(it){if(!arguments.length){return ih}ih=it+"";return io};return gs(io,ik)};function e7(d3){return{x:d3.x,y:d3.y,dx:d3.dx,dy:d3.dy}}function a0(ie,ig){var d3=ie.x+ig[3],ih=ie.y+ig[0],id=ie.dx-ig[1]-ig[3],ic=ie.dy-ig[0]-ig[2];if(id<0){d3+=id/2;id=0}if(ic<0){ih+=ic/2;ic=0}return{x:d3,y:ih,dx:id,dy:ic}}ho.random={normal:function(ic,d3){var id=arguments.length;if(id<2){d3=1}if(id<1){ic=0}return function(){var ie,ih,ig;do{ie=Math.random()*2-1;ih=Math.random()*2-1;ig=ie*ie+ih*ih}while(!ig||ig>1);return ic+d3*ie*Math.sqrt(-2*Math.log(ig)/ig)}},logNormal:function(){var d3=ho.random.normal.apply(ho,arguments);return function(){return Math.exp(d3())}},bates:function(d3){var ic=ho.random.irwinHall(d3);return function(){return ic()/d3}},irwinHall:function(d3){return function(){for(var id=0,ic=0;ic<d3;ic++){id+=Math.random()}return id}}};ho.scale={};function et(ic){var id=ic[0],d3=ic[ic.length-1];return id<d3?[id,d3]:[d3,id]}function aZ(d3){return d3.rangeExtent?d3.rangeExtent():et(d3.range())}function aG(ig,d3,ih,id){var ic=ih(ig[0],ig[1]),ie=id(d3[0],d3[1]);return function(ii){return ie(ic(ii))}}function gi(ii,ig){var ih=0,ie=ii.length-1,id=ii[ih],ic=ii[ie],d3;if(ic<id){d3=ih,ih=ie,ie=d3;d3=id,id=ic,ic=d3}ii[ih]=ig.floor(id);ii[ie]=ig.ceil(ic);return ii}function a7(d3){return d3?{floor:function(ic){return Math.floor(ic/d3)*d3},ceil:function(ic){return Math.ceil(ic/d3)*d3}}:eC}var eC={floor:gl,ceil:gl};function M(ii,ic,ij,ig){var ie=[],ih=[],id=0,d3=Math.min(ii.length,ic.length)-1;if(ii[d3]<ii[0]){ii=ii.slice().reverse();ic=ic.slice().reverse()}while(++id<=d3){ie.push(ij(ii[id-1],ii[id]));ih.push(ig(ic[id-1],ic[id]))}return function(ik){var il=ho.bisect(ii,ik,1,d3)-1;return ih[il](ie[il](ik))}}ho.scale.linear=function(){return ej([0,1],[0,1],fC,false)};function ej(ih,ie,ig,ij){var id,ic;function d3(){var ik=Math.min(ih.length,ie.length)>2?M:aG,il=ij?az:hw;id=ik(ih,ie,il,ig);ic=ik(ie,ih,il,fC);return ii}function ii(ik){return id(ik)}ii.invert=function(ik){return ic(ik)};ii.domain=function(ik){if(!arguments.length){return ih}ih=ik.map(Number);return d3()};ii.range=function(ik){if(!arguments.length){return ie}ie=ik;return d3()};ii.rangeRound=function(ik){return ii.range(ik).interpolate(fx)};ii.clamp=function(ik){if(!arguments.length){return ij}ij=ik;return d3()};ii.interpolate=function(ik){if(!arguments.length){return ig}ig=ik;return d3()};ii.ticks=function(ik){return e2(ih,ik)};ii.tickFormat=function(ik,il){return fa(ih,ik,il)};ii.nice=function(ik){aM(ih,ik);return d3()};ii.copy=function(){return ej(ih,ie,ig,ij)};return d3()}function ga(ic,d3){return ho.rebind(ic,d3,"range","rangeRound","interpolate","clamp")}function aM(ic,d3){gi(ic,a7(q(ic,d3)[2]));gi(ic,a7(q(ic,d3)[2]));return ic}function q(ih,d3){if(d3==null){d3=10}var id=et(ih),ic=id[1]-id[0],ig=Math.pow(10,Math.floor(Math.log(ic/d3)/Math.LN10)),ie=d3/ic*ig;if(ie<=0.15){ig*=10}else{if(ie<=0.35){ig*=5}else{if(ie<=0.75){ig*=2}}}id[0]=Math.ceil(id[0]/ig)*ig;id[1]=Math.floor(id[1]/ig)*ig+ig*0.5;id[2]=ig;return id}function e2(ic,d3){return ho.range.apply(ho,q(ic,d3))}function fa(ig,d3,ih){var ic=q(ig,d3);if(ih){var id=cA.exec(ih);id.shift();if(id[8]==="s"){var ie=ho.formatPrefix(Math.max(cH(ic[0]),cH(ic[1])));if(!id[7]){id[7]="."+gW(ie.scale(ic[2]))}id[8]="f";ih=ho.format(id.join(""));return function(ii){return ih(ie.scale(ii))+ie.symbol}}if(!id[7]){id[7]="."+y(id[8],ic)}ih=id.join("")}else{ih=",."+gW(ic[2])+"f"}return ho.format(ih)}var hX={s:1,g:1,p:1,r:1,e:1};function gW(d3){return -Math.floor(Math.log(d3)/Math.LN10+0.01)}function y(ic,d3){var id=gW(d3[2]);return ic in hX?Math.abs(id-gW(Math.max(cH(d3[0]),cH(d3[1]))))+ +(ic!=="e"):id-(ic==="%")*2}ho.scale.log=function(){return gG(ho.scale.linear().domain([0,1]),10,true,[1,10])};function gG(ic,ih,d3,ig){function id(ij){return(d3?Math.log(ij<0?0:ij):-Math.log(ij>0?0:-ij))/Math.log(ih)}function ie(ij){return d3?Math.pow(ih,ij):-Math.pow(ih,-ij)}function ii(ij){return ic(id(ij))}ii.invert=function(ij){return ie(ic.invert(ij))};ii.domain=function(ij){if(!arguments.length){return ig}d3=ij[0]>=0;ic.domain((ig=ij.map(Number)).map(id));return ii};ii.base=function(ij){if(!arguments.length){return ih}ih=+ij;ic.domain(ig.map(id));return ii};ii.nice=function(){var ij=gi(ig.map(id),d3?Math:gL);ic.domain(ij);ig=ij.map(ie);return ii};ii.ticks=function(){var ip=et(ig),iq=[],im=ip[0],ik=ip[1],io=Math.floor(id(im)),il=Math.ceil(id(ik)),ir=ih%1?2:ih;if(isFinite(il-io)){if(d3){for(;io<il;io++){for(var ij=1;ij<ir;ij++){iq.push(ie(io)*ij)}}iq.push(ie(io))}else{iq.push(ie(io));for(;io++<il;){for(var ij=ir-1;ij>0;ij--){iq.push(ie(io)*ij)}}}for(io=0;iq[io]<im;io++){}for(il=iq.length;iq[il-1]>ik;il--){}iq=iq.slice(io,il)}return iq};ii.tickFormat=function(il,ik){if(!arguments.length){return dt}if(arguments.length<2){ik=dt}else{if(typeof ik!=="function"){ik=ho.format(ik)}}var ij=Math.max(1,ih*il/ii.ticks().length);return function(io){var im=io/ie(Math.round(id(io)));if(im*ih<ih-0.5){im*=ih}return im<=ij?ik(io):""}};ii.copy=function(){return gG(ic.copy(),ih,d3,ig)};return ga(ii,ic)}var dt=ho.format(".0e"),gL={floor:function(d3){return -Math.ceil(-d3)},ceil:function(d3){return -Math.floor(-d3)}};ho.scale.pow=function(){return gr(ho.scale.linear(),1,[0,1])};function gr(d3,ie,id){var ic=fT(ie),ig=fT(1/ie);function ih(ii){return d3(ic(ii))}ih.invert=function(ii){return ig(d3.invert(ii))};ih.domain=function(ii){if(!arguments.length){return id}d3.domain((id=ii.map(Number)).map(ic));return ih};ih.ticks=function(ii){return e2(id,ii)};ih.tickFormat=function(ii,ij){return fa(id,ii,ij)};ih.nice=function(ii){return ih.domain(aM(id,ii))};ih.exponent=function(ii){if(!arguments.length){return ie}ic=fT(ie=ii);ig=fT(1/ie);d3.domain(id.map(ic));return ih};ih.copy=function(){return gr(d3.copy(),ie,id)};return ga(ih,d3)}function fT(d3){return function(ic){return ic<0?-Math.pow(-ic,d3):Math.pow(ic,d3)}}ho.scale.sqrt=function(){return ho.scale.pow().exponent(0.5)};ho.scale.ordinal=function(){return ct([],{t:"range",a:[[]]})};function ct(ih,id){var ig,ic,ie;function ii(ij){return ic[((ig.get(ij)||(id.t==="range"?ig.set(ij,ih.push(ij)):NaN))-1)%ic.length]}function d3(ik,ij){return ho.range(ih.length).map(function(il){return ik+ij*il})}ii.domain=function(ij){if(!arguments.length){return ih}ih=[];ig=new aI();var il=-1,im=ij.length,ik;while(++il<im){if(!ig.has(ik=ij[il])){ig.set(ik,ih.push(ik))}}return ii[id.t].apply(ii,id.a)};ii.range=function(ij){if(!arguments.length){return ic}ic=ij;ie=0;id={t:"range",a:arguments};return ii};ii.rangePoints=function(ij,im){if(arguments.length<2){im=0}var io=ij[0],ik=ij[1],il=ih.length<2?(io=(io+ik)/2,0):(ik-io)/(ih.length-1+im);ic=d3(io+il*im/2,il);ie=0;id={t:"rangePoints",a:arguments};return ii};ii.rangeRoundPoints=function(ij,im){if(arguments.length<2){im=0}var io=ij[0],ik=ij[1],il=ih.length<2?(io=ik=Math.round((io+ik)/2),0):(ik-io)/(ih.length-1+im)|0;ic=d3(io+Math.round(il*im/2+(ik-io-(ih.length-1+im)*il)/2),il);ie=0;id={t:"rangeRoundPoints",a:arguments};return ii};ii.rangeBands=function(ik,ip,ij){if(arguments.length<2){ip=0}if(arguments.length<3){ij=ip}var il=ik[1]<ik[0],iq=ik[il-0],im=ik[1-il],io=(im-iq)/(ih.length-ip+2*ij);ic=d3(iq+io*ij,io);if(il){ic.reverse()}ie=io*(1-ip);id={t:"rangeBands",a:arguments};return ii};ii.rangeRoundBands=function(ik,ip,ij){if(arguments.length<2){ip=0}if(arguments.length<3){ij=ip}var il=ik[1]<ik[0],iq=ik[il-0],im=ik[1-il],io=Math.floor((im-iq)/(ih.length-ip+2*ij));ic=d3(iq+Math.round((im-iq-(ih.length-ip)*io)/2),io);if(il){ic.reverse()}ie=Math.round(io*(1-ip));id={t:"rangeRoundBands",a:arguments};return ii};ii.rangeBand=function(){return ie};ii.rangeExtent=function(){return et(id.a[0])};ii.copy=function(){return ct(ih,id)};return ii.domain(ih)}ho.scale.category10=function(){return ho.scale.ordinal().range(cB)};ho.scale.category20=function(){return ho.scale.ordinal().range(cj)};ho.scale.category20b=function(){return ho.scale.ordinal().range(hc)};ho.scale.category20c=function(){return ho.scale.ordinal().range(ha)};var cB=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(dx);var cj=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(dx);var hc=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(dx);var ha=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(dx);ho.scale.quantile=function(){return C([],[])};function C(id,ic){var ie;function d3(){var ih=0,ii=ic.length;ie=[];while(++ih<ii){ie[ih-1]=ho.quantile(id,ih/ii)}return ig}function ig(ih){if(!isNaN(ih=+ih)){return ic[ho.bisect(ie,ih)]}}ig.domain=function(ih){if(!arguments.length){return id}id=ih.map(ht).filter(bc).sort(fi);return d3()};ig.range=function(ih){if(!arguments.length){return ic}ic=ih;return d3()};ig.quantiles=function(){return ie};ig.invertExtent=function(ih){ih=ic.indexOf(ih);return ih<0?[NaN,NaN]:[ih>0?ie[ih-1]:id[0],ih<ie.length?ie[ih]:id[id.length-1]]};ig.copy=function(){return C(id,ic)};return d3()}ho.scale.quantize=function(){return dF(0,1,[0,1])};function dF(ig,id,ic){var ih,ie;function ii(ij){return ic[Math.max(0,Math.min(ie,Math.floor(ih*(ij-ig))))]}function d3(){ih=ic.length/(id-ig);ie=ic.length-1;return ii}ii.domain=function(ij){if(!arguments.length){return[ig,id]}ig=+ij[0];id=+ij[ij.length-1];return d3()};ii.range=function(ij){if(!arguments.length){return ic}ic=ij;return d3()};ii.invertExtent=function(ij){ij=ic.indexOf(ij);ij=ij<0?NaN:ij/ih+ig;return[ij,ij+1/ih]};ii.copy=function(){return dF(ig,id,ic)};return d3()}ho.scale.threshold=function(){return f5([0.5],[0,1])};function f5(ic,d3){function id(ie){if(ie<=ie){return d3[ho.bisect(ic,ie)]}}id.domain=function(ie){if(!arguments.length){return ic}ic=ie;return id};id.range=function(ie){if(!arguments.length){return d3}d3=ie;return id};id.invertExtent=function(ie){ie=d3.indexOf(ie);return[ic[ie-1],ic[ie]]};id.copy=function(){return f5(ic,d3)};return id}ho.scale.identity=function(){return eU([0,1])};function eU(ic){function d3(id){return +id}d3.invert=d3;d3.domain=d3.range=function(id){if(!arguments.length){return ic}ic=id.map(d3);return d3};d3.ticks=function(id){return e2(ic,id)};d3.tickFormat=function(id,ie){return fa(ic,id,ie)};d3.copy=function(){return eU(ic)};return d3}ho.svg={};function dp(){return 0}ho.svg.arc=function(){var ij=bC,ie=cT,ig=dp,ik=fU,ii=gg,ic=ao,id=bM;function d3(){var iw=Math.max(0,+ij.apply(this,arguments)),iv=Math.max(0,+ie.apply(this,arguments)),iR=ii.apply(this,arguments)-eq,iQ=ic.apply(this,arguments)-eq,iB=Math.abs(iQ-iR),iE=iR>iQ?0:1;if(iv<iw){iO=iv,iv=iw,iw=iO}if(iB>=gF){return ih(iv,iE)+(iw?ih(iw,1-iE):"")+"Z"}var iO,iF,iI,ir,iT=0,iS=0,iA,il,iz,iY,iy,iX,ix,iV,iP=[];if(ir=(+id.apply(this,arguments)||0)/2){iI=ik===fU?Math.sqrt(iw*iw+iv*iv):+ik.apply(this,arguments);if(!iE){iS*=-1}if(iv){iS=cg(iI/iv*Math.sin(ir))}if(iw){iT=cg(iI/iw*Math.sin(ir))}}if(iv){iA=iv*Math.cos(iR+iS);il=iv*Math.sin(iR+iS);iz=iv*Math.cos(iQ-iS);iY=iv*Math.sin(iQ-iS);var it=Math.abs(iQ-iR-2*iS)<=ge?0:1;if(iS&&hE(iA,il,iz,iY)===iE^it){var iG=(iR+iQ)/2;iA=iv*Math.cos(iG);il=iv*Math.sin(iG);iz=iY=null}}else{iA=il=0}if(iw){iy=iw*Math.cos(iQ-iT);iX=iw*Math.sin(iQ-iT);ix=iw*Math.cos(iR+iT);iV=iw*Math.sin(iR+iT);var iu=Math.abs(iR-iQ+2*iT)<=ge?0:1;if(iT&&hE(iy,iX,ix,iV)===1-iE^iu){var iH=(iR+iQ)/2;iy=iw*Math.cos(iH);iX=iw*Math.sin(iH);ix=iV=null}}else{iy=iX=0}if(iB>gn&&(iO=Math.min(Math.abs(iv-iw)/2,+ig.apply(this,arguments)))>0.001){iF=iw<iv^iE?0:1;var iU=iO,iW=iO;if(iB<ge){var iL=ix==null?[iy,iX]:iz==null?[iA,il]:gj([iA,il],[ix,iV],[iz,iY],[iy,iX]),iq=iA-iL[0],ip=il-iL[1],iN=iz-iL[0],iM=iY-iL[1],im=1/Math.sin(Math.acos((iq*iN+ip*iM)/(Math.sqrt(iq*iq+ip*ip)*Math.sqrt(iN*iN+iM*iM)))/2),iJ=Math.sqrt(iL[0]*iL[0]+iL[1]*iL[1]);iW=Math.min(iO,(iw-iJ)/(im-1));iU=Math.min(iO,(iv-iJ)/(im+1))}if(iz!=null){var iD=fe(ix==null?[iy,iX]:[ix,iV],[iA,il],iv,iU,iE),io=fe([iz,iY],[iy,iX],iv,iU,iE);if(iO===iU){iP.push("M",iD[0],"A",iU,",",iU," 0 0,",iF," ",iD[1],"A",iv,",",iv," 0 ",1-iE^hE(iD[1][0],iD[1][1],io[1][0],io[1][1]),",",iE," ",io[1],"A",iU,",",iU," 0 0,",iF," ",io[0])}else{iP.push("M",iD[0],"A",iU,",",iU," 0 1,",iF," ",io[0])}}else{iP.push("M",iA,",",il)}if(ix!=null){var iC=fe([iA,il],[ix,iV],iw,-iW,iE),iK=fe([iy,iX],iz==null?[iA,il]:[iz,iY],iw,-iW,iE);if(iO===iW){iP.push("L",iK[0],"A",iW,",",iW," 0 0,",iF," ",iK[1],"A",iw,",",iw," 0 ",iE^hE(iK[1][0],iK[1][1],iC[1][0],iC[1][1]),",",1-iE," ",iC[1],"A",iW,",",iW," 0 0,",iF," ",iC[0])}else{iP.push("L",iK[0],"A",iW,",",iW," 0 0,",iF," ",iC[0])}}else{iP.push("L",iy,",",iX)}}else{iP.push("M",iA,",",il);if(iz!=null){iP.push("A",iv,",",iv," 0 ",it,",",iE," ",iz,",",iY)}iP.push("L",iy,",",iX);if(ix!=null){iP.push("A",iw,",",iw," 0 ",iu,",",1-iE," ",ix,",",iV)}}iP.push("Z");return iP.join("")}function ih(im,il){return"M0,"+im+"A"+im+","+im+" 0 1,"+il+" 0,"+-im+"A"+im+","+im+" 0 1,"+il+" 0,"+im}d3.innerRadius=function(il){if(!arguments.length){return ij}ij=R(il);return d3};d3.outerRadius=function(il){if(!arguments.length){return ie}ie=R(il);return d3};d3.cornerRadius=function(il){if(!arguments.length){return ig}ig=R(il);return d3};d3.padRadius=function(il){if(!arguments.length){return ik}ik=il==fU?fU:R(il);return d3};d3.startAngle=function(il){if(!arguments.length){return ii}ii=R(il);return d3};d3.endAngle=function(il){if(!arguments.length){return ic}ic=R(il);return d3};d3.padAngle=function(il){if(!arguments.length){return id}id=R(il);return d3};d3.centroid=function(){var im=(+ij.apply(this,arguments)+ +ie.apply(this,arguments))/2,il=(+ii.apply(this,arguments)+ +ic.apply(this,arguments))/2-eq;return[Math.cos(il)*im,Math.sin(il)*im]};return d3};var fU="auto";function bC(d3){return d3.innerRadius}function cT(d3){return d3.outerRadius}function gg(d3){return d3.startAngle}function ao(d3){return d3.endAngle}function bM(d3){return d3&&d3.padAngle}function hE(ic,ie,d3,id){return(ic-d3)*ie-(ie-id)*ic>0?0:1}function fe(ic,d3,iA,iz,ij){var iy=ic[0]-d3[0],il=ic[1]-d3[1],io=(ij?iz:-iz)/Math.sqrt(iy*iy+il*il),im=io*il,ik=-io*iy,iD=ic[0]+im,ii=ic[1]+ik,iC=d3[0]+im,ig=d3[1]+ik,iB=(iD+iC)/2,id=(ii+ig)/2,it=iC-iD,iq=ig-ii,iH=it*it+iq*iq,iw=iA-iz,iu=iD*ig-iC*ii,iE=(iq<0?-1:1)*Math.sqrt(Math.max(0,iw*iw*iH-iu*iu)),ix=(iu*iq-it*iE)/iH,iG=(-iu*it-iq*iE)/iH,iv=(iu*iq+it*iE)/iH,iF=(-iu*it+iq*iE)/iH,ih=ix-iB,ir=iG-id,ie=iv-iB,ip=iF-id;if(ih*ih+ir*ir>ie*ie+ip*ip){ix=iv,iG=iF}return[[ix-im,iG-ik],[ix*iA/iw,iG*iA/iw]]}function e9(ic){var d3=hV,ij=hU,ii=ah,ie=hR,ih=ie.key,ig=0.7;function id(io){var iq=[],iu=[],ip=-1,ik=io.length,it,im=R(d3),il=R(ij);function ir(){iq.push("M",ie(ic(iu),ig))}while(++ip<ik){if(ii.call(this,it=io[ip],ip)){iu.push([+im.call(this,it,ip),+il.call(this,it,ip)])}else{if(iu.length){ir();iu=[]}}}if(iu.length){ir()}return iq.length?iq.join(""):null}id.x=function(ik){if(!arguments.length){return d3}d3=ik;return id};id.y=function(ik){if(!arguments.length){return ij}ij=ik;return id};id.defined=function(ik){if(!arguments.length){return ii}ii=ik;return id};id.interpolate=function(ik){if(!arguments.length){return ih}if(typeof ik==="function"){ih=ie=ik}else{ih=(ie=cf.get(ik)||hR).key}return id};id.tension=function(ik){if(!arguments.length){return ig}ig=ik;return id};return id}ho.svg.line=function(){return e9(gl)};var cf=ho.map({linear:hR,"linear-closed":Z,step:da,"step-before":bm,"step-after":hy,basis:fd,"basis-open":bj,"basis-closed":cO,bundle:cR,cardinal:dS,"cardinal-open":b5,"cardinal-closed":s,monotone:dj});cf.forEach(function(d3,ic){ic.key=d3;ic.closed=/-closed$/.test(d3)});function hR(d3){return d3.length>1?d3.join("L"):d3+"Z"}function Z(d3){return d3.join("L")+"Z"}function da(ic){var d3=0,ig=ic.length,ie=ic[0],id=[ie[0],",",ie[1]];while(++d3<ig){id.push("H",(ie[0]+(ie=ic[d3])[0])/2,"V",ie[1])}if(ig>1){id.push("H",ie[0])}return id.join("")}function bm(ic){var d3=0,ig=ic.length,ie=ic[0],id=[ie[0],",",ie[1]];while(++d3<ig){id.push("V",(ie=ic[d3])[1],"H",ie[0])}return id.join("")}function hy(ic){var d3=0,ig=ic.length,ie=ic[0],id=[ie[0],",",ie[1]];while(++d3<ig){id.push("H",(ie=ic[d3])[0],"V",ie[1])}return id.join("")}function b5(ic,d3){return ic.length<4?hR(ic):ic[1]+cY(ic.slice(1,-1),bX(ic,d3))}function s(ic,d3){return ic.length<3?Z(ic):ic[0]+cY((ic.push(ic[0]),ic),bX([ic[ic.length-2]].concat(ic,[ic[1]]),d3))}function dS(ic,d3){return ic.length<3?hR(ic):ic[0]+cY(ic,bX(ic,d3))}function cY(ii,ih){if(ih.length<1||ii.length!=ih.length&&ii.length!=ih.length+2){return hR(ii)}var ij=ii.length!=ih.length,im="",ik=ii[0],d3=ii[1],ig=ih[0],il=ig,id=1;if(ij){im+="Q"+(d3[0]-ig[0]*2/3)+","+(d3[1]-ig[1]*2/3)+","+d3[0]+","+d3[1];ik=ii[1];id=2}if(ih.length>1){il=ih[1];d3=ii[id];id++;im+="C"+(ik[0]+ig[0])+","+(ik[1]+ig[1])+","+(d3[0]-il[0])+","+(d3[1]-il[1])+","+d3[0]+","+d3[1];for(var ic=2;ic<ih.length;ic++,id++){d3=ii[id];il=ih[ic];im+="S"+(d3[0]-il[0])+","+(d3[1]-il[1])+","+d3[0]+","+d3[1]}}if(ij){var ie=ii[id];im+="Q"+(d3[0]+il[0]*2/3)+","+(d3[1]+il[1]*2/3)+","+ie[0]+","+ie[1]}return im}function bX(ii,ig){var id=[],ie=(1-ig)/2,ik,ij=ii[0],ih=ii[1],ic=1,d3=ii.length;while(++ic<d3){ik=ij;ij=ih;ih=ii[ic];id.push([ie*(ih[0]-ik[0]),ie*(ih[1]-ik[1])])}return id}function fd(ij){if(ij.length<3){return hR(ij)}var id=1,ic=ij.length,ie=ij[0],d3=ie[0],ih=ie[1],ii=[d3,d3,d3,(ie=ij[1])[0]],ig=[ih,ih,ih,ie[1]],ik=[d3,",",ih,"L",gm(hn,ii),",",gm(hn,ig)];ij.push(ij[ic-1]);while(++id<=ic){ie=ij[id];ii.shift();ii.push(ie[0]);ig.shift();ig.push(ie[1]);bQ(ik,ii,ig)}ij.pop();ik.push("L",ie);return ik.join("")}function bj(ie){if(ie.length<4){return hR(ie)}var ih=[],id=-1,ii=ie.length,ig,ic=[0],d3=[0];while(++id<3){ig=ie[id];ic.push(ig[0]);d3.push(ig[1])}ih.push(gm(hn,ic)+","+gm(hn,d3));--id;while(++id<ii){ig=ie[id];ic.shift();ic.push(ig[0]);d3.shift();d3.push(ig[1]);bQ(ih,ic,d3)}return ih.join("")}function cO(ig){var ii,ie=-1,ij=ig.length,d3=ij+4,ih,id=[],ic=[];while(++ie<4){ih=ig[ie%ij];id.push(ih[0]);ic.push(ih[1])}ii=[gm(hn,id),",",gm(hn,ic)];--ie;while(++ie<d3){ih=ig[ie%ij];id.shift();id.push(ih[0]);ic.shift();ic.push(ih[1]);bQ(ii,id,ic)}return ii.join("")}function cR(ii,ih){var id=ii.length-1;if(id){var ic=ii[0][0],ig=ii[0][1],il=ii[id][0]-ic,ik=ii[id][1]-ig,ie=-1,d3,ij;while(++ie<=id){d3=ii[ie];ij=ie/id;d3[0]=ih*d3[0]+(1-ih)*(ic+ij*il);d3[1]=ih*d3[1]+(1-ih)*(ig+ij*ik)}}return fd(ii)}function gm(ic,d3){return ic[0]*d3[0]+ic[1]*d3[1]+ic[2]*d3[2]+ic[3]*d3[3]}var hr=[0,2/3,1/3,0],hp=[0,1/3,2/3,0],hn=[0,1/6,2/3,1/6];function bQ(ic,d3,id){ic.push("C",gm(hr,d3),",",gm(hr,id),",",gm(hp,d3),",",gm(hp,id),",",gm(hn,d3),",",gm(hn,id))}function h5(ic,d3){return(d3[1]-ic[1])/(d3[0]-ic[0])}function d9(ie){var id=0,ic=ie.length-1,d3=[],ii=ie[0],ih=ie[1],ig=d3[0]=h5(ii,ih);while(++id<ic){d3[id]=(ig+(ig=h5(ii=ih,ih=ie[id+1])))/2}d3[id]=ig;return d3}function au(ij){var ig=[],ie,ii,ih,ik,d3=d9(ij),id=-1,ic=ij.length-1;while(++id<ic){ie=h5(ij[id],ij[id+1]);if(cH(ie)<gn){d3[id]=d3[id+1]=0}else{ii=d3[id]/ie;ih=d3[id+1]/ie;ik=ii*ii+ih*ih;if(ik>9){ik=ie*3/Math.sqrt(ik);d3[id]=ik*ii;d3[id+1]=ik*ih}}}id=-1;while(++id<=ic){ik=(ij[Math.min(ic,id+1)][0]-ij[Math.max(0,id-1)][0])/(6*(1+d3[id]*d3[id]));ig.push([ik||0,d3[id]*ik||0])}return ig}function dj(d3){return d3.length<3?hR(d3):d3[0]+cY(d3,au(d3))}ho.svg.line.radial=function(){var d3=e9(P);d3.radius=d3.x,delete d3.x;d3.angle=d3.y,delete d3.y;return d3};function P(ie){var d3,id=-1,ih=ie.length,ig,ic;while(++id<ih){d3=ie[id];ig=d3[0];ic=d3[1]-eq;d3[0]=ig*Math.cos(ic);d3[1]=ig*Math.sin(ic)}return ie}function h7(ig){var id=hV,ic=hV,im=0,ik=hU,ie=ah,ih=hR,io=ih.key,ij=ih,ii="L",il=0.7;function d3(iu){var iw=[],ip=[],iD=[],iv=-1,iq=iu.length,iy,it=R(id),iC=R(im),ir=id===ic?function(){return iA}:R(ic),iB=im===ik?function(){return iz}:R(ik),iA,iz;function ix(){iw.push("M",ih(ig(iD),il),ii,ij(ig(ip.reverse()),il),"Z")}while(++iv<iq){if(ie.call(this,iy=iu[iv],iv)){ip.push([iA=+it.call(this,iy,iv),iz=+iC.call(this,iy,iv)]);iD.push([+ir.call(this,iy,iv),+iB.call(this,iy,iv)])}else{if(ip.length){ix();ip=[];iD=[]}}}if(ip.length){ix()}return iw.length?iw.join(""):null}d3.x=function(ip){if(!arguments.length){return ic}id=ic=ip;return d3};d3.x0=function(ip){if(!arguments.length){return id}id=ip;return d3};d3.x1=function(ip){if(!arguments.length){return ic}ic=ip;return d3};d3.y=function(ip){if(!arguments.length){return ik}im=ik=ip;return d3};d3.y0=function(ip){if(!arguments.length){return im}im=ip;return d3};d3.y1=function(ip){if(!arguments.length){return ik}ik=ip;return d3};d3.defined=function(ip){if(!arguments.length){return ie}ie=ip;return d3};d3.interpolate=function(ip){if(!arguments.length){return io}if(typeof ip==="function"){io=ih=ip}else{io=(ih=cf.get(ip)||hR).key}ij=ih.reverse||ih;ii=ih.closed?"M":"L";return d3};d3.tension=function(ip){if(!arguments.length){return il}il=ip;return d3};return d3}bm.reverse=hy;hy.reverse=bm;ho.svg.area=function(){return h7(gl)};ho.svg.area.radial=function(){var d3=h7(P);d3.radius=d3.x,delete d3.x;d3.innerRadius=d3.x0,delete d3.x0;d3.outerRadius=d3.x1,delete d3.x1;d3.angle=d3.y,delete d3.y;d3.startAngle=d3.y0,delete d3.y0;d3.endAngle=d3.y1,delete d3.y1;return d3};ho.svg.chord=function(){var d3=hJ,ij=hQ,ii=H,ik=gg,ig=ao;function ih(iq,io){var ip=il(this,d3,iq,io),im=il(this,ij,iq,io);return"M"+ip.p0+ic(ip.r,ip.p1,ip.a1-ip.a0)+(id(ip,im)?ie(ip.r,ip.p1,ip.r,ip.p0):ie(ip.r,ip.p1,im.r,im.p0)+ic(im.r,im.p1,im.a1-im.a0)+ie(im.r,im.p1,ip.r,ip.p0))+"Z"}function il(iq,iu,iv,ir){var ip=iu.call(iq,iv,ir),it=ii.call(iq,ip,ir),io=ik.call(iq,ip,ir)-eq,im=ig.call(iq,ip,ir)-eq;return{r:it,a0:io,a1:im,p0:[it*Math.cos(io),it*Math.sin(io)],p1:[it*Math.cos(im),it*Math.sin(im)]}}function id(io,im){return io.a0==im.a0&&io.a1==im.a1}function ic(io,ip,im){return"A"+io+","+io+" 0 "+ +(im>ge)+",1 "+ip}function ie(io,iq,im,ip){return"Q 0,0 "+ip}ih.radius=function(im){if(!arguments.length){return ii}ii=R(im);return ih};ih.source=function(im){if(!arguments.length){return d3}d3=R(im);return ih};ih.target=function(im){if(!arguments.length){return ij}ij=R(im);return ih};ih.startAngle=function(im){if(!arguments.length){return ik}ik=R(im);return ih};ih.endAngle=function(im){if(!arguments.length){return ig}ig=R(im);return ih};return ih};function H(d3){return d3.radius}ho.svg.diagonal=function(){var id=hJ,ie=hQ,d3=n;function ic(ik,ih){var il=id.call(this,ik,ih),ii=ie.call(this,ik,ih),ig=(il.y+ii.y)/2,ij=[il,{x:il.x,y:ig},{x:ii.x,y:ig},ii];ij=ij.map(d3);return"M"+ij[0]+"C"+ij[1]+" "+ij[2]+" "+ij[3]}ic.source=function(ig){if(!arguments.length){return id}id=R(ig);return ic};ic.target=function(ig){if(!arguments.length){return ie}ie=R(ig);return ic};ic.projection=function(ig){if(!arguments.length){return d3}d3=ig;return ic};return ic};function n(d3){return[d3.x,d3.y]}ho.svg.diagonal.radial=function(){var id=ho.svg.diagonal(),d3=n,ic=id.projection;id.projection=function(ie){return arguments.length?ic(o(d3=ie)):d3};return id};function o(d3){return function(){var ie=d3.apply(this,arguments),id=ie[0],ic=ie[1]-eq;return[id*Math.cos(ic),id*Math.sin(ic)]}}ho.svg.symbol=function(){var ic=aV,d3=e5;function id(ig,ie){return(hO.get(ic.call(this,ig,ie))||ch)(d3.call(this,ig,ie))}id.type=function(ie){if(!arguments.length){return ic}ic=R(ie);return id};id.size=function(ie){if(!arguments.length){return d3}d3=R(ie);return id};return id};function e5(){return 64}function aV(){return"circle"}function ch(d3){var ic=Math.sqrt(d3/ge);return"M0,"+ic+"A"+ic+","+ic+" 0 1,1 0,"+-ic+"A"+ic+","+ic+" 0 1,1 0,"+ic+"Z"}var hO=ho.map({circle:ch,cross:function(d3){var ic=Math.sqrt(d3/5)/2;return"M"+-3*ic+","+-ic+"H"+-ic+"V"+-3*ic+"H"+ic+"V"+-ic+"H"+3*ic+"V"+ic+"H"+ic+"V"+3*ic+"H"+-ic+"V"+ic+"H"+-3*ic+"Z"},diamond:function(d3){var ic=Math.sqrt(d3/(2*cn)),id=ic*cn;return"M0,"+-ic+"L"+id+",0 0,"+ic+" "+-id+",0Z"},square:function(d3){var ic=Math.sqrt(d3)/2;return"M"+-ic+","+-ic+"L"+ic+","+-ic+" "+ic+","+ic+" "+-ic+","+ic+"Z"},"triangle-down":function(d3){var id=Math.sqrt(d3/b9),ic=id*b9/2;return"M0,"+ic+"L"+id+","+-ic+" "+-id+","+-ic+"Z"},"triangle-up":function(d3){var id=Math.sqrt(d3/b9),ic=id*b9/2;return"M0,"+-ic+"L"+id+","+ic+" "+-id+","+ic+"Z"}});ho.svg.symbolTypes=hO.keys();var b9=Math.sqrt(3),cn=Math.tan(30*J);dZ.transition=function(d3){var ic=ar||++hb,im=gz(d3),ig=[],ip,ii,il=d5||{time:Date.now(),ease:aw,delay:0,duration:250};for(var ij=-1,ih=this.length;++ij<ih;){ig.push(ip=[]);for(var io=this[ij],ik=-1,ie=io.length;++ik<ie;){if(ii=io[ik]){fB(ii,ik,im,ic,il)}ip.push(ii)}}return gR(ig,im,ic)};dZ.interrupt=function(d3){return this.each(d3==null?cV:dw(gz(d3)))};var cV=dw(gz());function dw(d3){return function(){var id,ic,ie;if((id=this[d3])&&(ie=id[ic=id.active])){ie.timer.c=null;ie.timer.t=NaN;if(--id.count){delete id[ic]}else{delete this[d3]}id.active+=0.5;ie.event&&ie.event.interrupt.call(this,this.__data__,ie.index)}}}function gR(d3,ic,ie){h6(d3,ew);d3.namespace=ic;d3.id=ie;return d3}var ew=[],hb=0,ar,d5;ew.call=dZ.call;ew.empty=dZ.empty;ew.node=dZ.node;ew.size=dZ.size;ho.transition=function(ic,d3){return ic&&ic.transition?ar?ic.transition(d3):ic:ho.selection().transition(ic)};ho.transition.prototype=ew;ew.select=function(ij){var d3=this.id,im=this.namespace,ig=[],ip,ic,ii;ij=z(ij);for(var ik=-1,ih=this.length;++ik<ih;){ig.push(ip=[]);for(var io=this[ik],il=-1,ie=io.length;++il<ie;){if((ii=io[il])&&(ic=ij.call(ii,ii.__data__,il,ik))){if("__data__" in ii){ic.__data__=ii.__data__}fB(ic,il,im,d3,ii[im][d3]);ip.push(ic)}else{ip.push(null)}}}return gR(ig,im,d3)};ew.selectAll=function(il){var ic=this.id,ir=this.namespace,ii=[],iu,d3,ik,ie,iq;il=c2(il);for(var io=-1,ij=this.length;++io<ij;){for(var it=this[io],ip=-1,ih=it.length;++ip<ih;){if(ik=it[ip]){iq=ik[ir][ic];d3=il.call(ik,ik.__data__,ip,io);ii.push(iu=[]);for(var im=-1,ig=d3.length;++im<ig;){if(ie=d3[im]){fB(ie,im,ir,ic,iq)}iu.push(ie)}}}}return gR(ii,ir,ic)};ew.filter=function(d3){var id=[],ik,ij,ie;if(typeof d3!=="function"){d3=a9(d3)}for(var ih=0,ig=this.length;ih<ig;ih++){id.push(ik=[]);for(var ij=this[ih],ii=0,ic=ij.length;ii<ic;ii++){if((ie=ij[ii])&&d3.call(ie,ie.__data__,ii,ih)){ik.push(ie)}}}return gR(id,this.namespace,this.id)};ew.tween=function(d3,ic){var ig=this.id,ie=this.namespace;if(arguments.length<2){return this.node()[ie][ig].tween.get(d3)}return cJ(this,ic==null?function(id){id[ie][ig].tween.remove(d3)}:function(id){id[ie][ig].tween.set(d3,ic)})};function hN(d3,ic,ih,ie){var ii=d3.id,ig=d3.namespace;return cJ(d3,typeof ih==="function"?function(ik,ij,id){ik[ig][ii].tween.set(ic,ie(ih.call(ik,ik.__data__,ij,id)))}:(ih=ie(ih),function(id){id[ig][ii].tween.set(ic,ih)}))}ew.attr=function(d3,ih){if(arguments.length<2){for(ih in d3){this.attr(ih,d3[ih])}return this}var ie=d3=="transform"?eh:fC,id=ho.ns.qualify(d3);function ic(){this.removeAttribute(id)}function ij(){this.removeAttributeNS(id.space,id.local)}function ig(ik){return ik==null?ic:(ik+="",function(){var il=this.getAttribute(id),im;return il!==ik&&(im=ie(il,ik),function(io){this.setAttribute(id,im(io))})})}function ii(ik){return ik==null?ij:(ik+="",function(){var il=this.getAttributeNS(id.space,id.local),im;return il!==ik&&(im=ie(il,ik),function(io){this.setAttributeNS(id.space,id.local,im(io))})})}return hN(this,"attr."+d3,ih,id.local?ii:ig)};ew.attrTween=function(d3,id){var ic=ho.ns.qualify(d3);function ie(ij,ih){var ii=id.call(this,ij,ih,this.getAttribute(ic));return ii&&function(ik){this.setAttribute(ic,ii(ik))}}function ig(ij,ih){var ii=id.call(this,ij,ih,this.getAttributeNS(ic.space,ic.local));return ii&&function(ik){this.setAttributeNS(ic.space,ic.local,ii(ik))}}return this.tween("attr."+d3,ic.local?ig:ie)};ew.style=function(id,ig,ie){var ih=arguments.length;if(ih<3){if(typeof id!=="string"){if(ih<2){ig=""}for(ie in id){this.style(ie,id[ie],ig)}return this}ie=""}function ic(){this.style.removeProperty(id)}function d3(ii){return ii==null?ic:(ii+="",function(){var ij=fy(this).getComputedStyle(this,null).getPropertyValue(id),ik;return ij!==ii&&(ik=fC(ij,ii),function(il){this.style.setProperty(id,ik(il),ie)})})}return hN(this,"style."+id,ig,d3)};ew.styleTween=function(d3,id,ic){if(arguments.length<3){ic=""}function ie(ii,ig){var ih=id.call(this,ii,ig,fy(this).getComputedStyle(this,null).getPropertyValue(d3));return ih&&function(ij){this.style.setProperty(d3,ih(ij),ic)}}return this.tween("style."+d3,ie)};ew.text=function(d3){return hN(this,"text",d3,ib)};function ib(d3){if(d3==null){d3=""}return function(){this.textContent=d3}}ew.remove=function(){var d3=this.namespace;return this.each("end.transition",function(){var ic;if(this[d3].count<2&&(ic=this.parentNode)){ic.removeChild(this)}})};ew.ease=function(ic){var ie=this.id,d3=this.namespace;if(arguments.length<1){return this.node()[d3][ie].ease}if(typeof ic!=="function"){ic=ho.ease.apply(ho,arguments)}return cJ(this,function(id){id[d3][ie].ease=ic})};ew.delay=function(ic){var ie=this.id,d3=this.namespace;if(arguments.length<1){return this.node()[d3][ie].delay}return cJ(this,typeof ic==="function"?function(ih,ig,id){ih[d3][ie].delay=+ic.call(ih,ih.__data__,ig,id)}:(ic=+ic,function(id){id[d3][ie].delay=ic}))};ew.duration=function(ic){var ie=this.id,d3=this.namespace;if(arguments.length<1){return this.node()[d3][ie].duration}return cJ(this,typeof ic==="function"?function(ih,ig,id){ih[d3][ie].duration=Math.max(1,ic.call(ih,ih.__data__,ig,id))}:(ic=Math.max(1,ic),function(id){id[d3][ie].duration=ic}))};ew.each=function(ie,ig){var ii=this.id,ic=this.namespace;if(arguments.length<2){var d3=d5,ih=ar;try{ar=ii;cJ(this,function(ik,ij,id){d5=ik[ic][ii];ie.call(ik,ik.__data__,ij,id)})}finally{d5=d3;ar=ih}}else{cJ(this,function(id){var ij=id[ic][ii];(ij.event||(ij.event=ho.dispatch("start","end","interrupt"))).on(ie,ig)})}return this};ew.transition=function(){var io=this.id,im=++hb,ij=this.namespace,ic=[],il,ik,ie,ii;for(var ig=0,id=this.length;ig<id;ig++){ic.push(il=[]);for(var ik=this[ig],ih=0,d3=ik.length;ih<d3;ih++){if(ie=ik[ih]){ii=ie[ij][io];fB(ie,ih,ij,im,{time:ii.time,ease:ii.ease,delay:ii.delay+ii.duration,duration:ii.duration})}il.push(ie)}}return gR(ic,ij,im)};function gz(d3){return d3==null?"__transition__":"__transition_"+d3+"__"}function fB(ih,ik,ir,ie,il){var it=ih[ir]||(ih[ir]={active:0,count:0}),iq=it[ie],ig,ic,ij,ii,ip;function io(id){var iu=iq.delay;ic.t=iu+ig;if(iu<=id){return d3(id-iu)}ic.c=d3}function d3(id){var iu=it.active,iw=it[iu];if(iw){iw.timer.c=null;iw.timer.t=NaN;--it.count;delete it[iu];iw.event&&iw.event.interrupt.call(ih,ih.__data__,iw.index)}for(var ix in it){if(+ix<ie){var iv=it[ix];iv.timer.c=null;iv.timer.t=NaN;--it.count;delete it[ix]}}ic.c=im;g3(function(){if(ic.c&&im(id||1)){ic.c=null;ic.t=NaN}return 1},0,ig);it.active=ie;iq.event&&iq.event.start.call(ih,ih.__data__,ik);ip=[];iq.tween.forEach(function(iy,iz){if(iz=iz.call(ih,ih.__data__,ik)){ip.push(iz)}});ii=iq.ease;ij=iq.duration}function im(id){var iu=id/ij,iv=ii(iu),iw=ip.length;while(iw>0){ip[--iw].call(ih,iv)}if(iu>=1){iq.event&&iq.event.end.call(ih,ih.__data__,ik);if(--it.count){delete it[ie]}else{delete ih[ir]}return 1}}if(!iq){ig=il.time;ic=g3(io,0,ig);iq=it[ie]={tween:new aI(),time:ig,timer:ic,delay:il.delay,duration:il.duration,ease:il.ease,index:ik};il=null;++it.count}}ho.svg.axis=function(){var id=ho.scale.linear(),ig=hW,d3=6,ih=6,ik=3,ij=[10],ie=null,ii;function ic(il){il.each(function(){var iJ=ho.select(this);var iE=this.__chart__||id,iD=this.__chart__=id.copy();var iM=ie==null?iD.ticks?iD.ticks.apply(iD,ij):iD.domain():ie,iC=ii==null?iD.tickFormat?iD.tickFormat.apply(iD,ij):gl:ii,iG=iJ.selectAll(".tick").data(iM,iD),iz=iG.enter().insert("g",".domain").attr("class","tick").style("opacity",gn),iB=ho.transition(iG.exit()).style("opacity",gn).remove(),iu=ho.transition(iG.order()).style("opacity",1),im=Math.max(d3,0)+ik,io;var iy=aZ(iD),iA=iJ.selectAll(".domain").data([0]),iN=(iA.enter().append("path").attr("class","domain"),ho.transition(iA));iz.append("line");iz.append("text");var ir=iz.select("line"),iL=iu.select("line"),ix=iG.select("text").text(iC),it=iz.select("text"),iI=iu.select("text"),iK=ig==="top"||ig==="left"?-1:1,iH,iF,iq,ip;if(ig==="bottom"||ig==="top"){io=fm,iH="x",iq="y",iF="x2",ip="y2";ix.attr("dy",iK<0?"0em":".71em").style("text-anchor","middle");iN.attr("d","M"+iy[0]+","+iK*ih+"V0H"+iy[1]+"V"+iK*ih)}else{io=fl,iH="y",iq="x",iF="y2",ip="x2";ix.attr("dy",".32em").style("text-anchor",iK<0?"end":"start");iN.attr("d","M"+iK*ih+","+iy[0]+"H0V"+iy[1]+"H"+iK*ih)}ir.attr(ip,iK*d3);it.attr(iq,iK*im);iL.attr(iF,0).attr(ip,iK*d3);iI.attr(iH,0).attr(iq,iK*im);if(iD.rangeBand){var iv=iD,iw=iv.rangeBand()/2;iE=iD=function(iO){return iv(iO)+iw}}else{if(iE.rangeBand){iE=iD}else{iB.call(io,iD,iE)}}iz.call(io,iE,iD);iu.call(io,iD,iD)})}ic.scale=function(il){if(!arguments.length){return id}id=il;return ic};ic.orient=function(il){if(!arguments.length){return ig}ig=il in e3?il+"":hW;return ic};ic.ticks=function(){if(!arguments.length){return ij}ij=dP(arguments);return ic};ic.tickValues=function(il){if(!arguments.length){return ie}ie=il;return ic};ic.tickFormat=function(il){if(!arguments.length){return ii}ii=il;return ic};ic.tickSize=function(il){var im=arguments.length;if(!im){return d3}d3=+il;ih=+arguments[im-1];return ic};ic.innerTickSize=function(il){if(!arguments.length){return d3}d3=+il;return ic};ic.outerTickSize=function(il){if(!arguments.length){return ih}ih=+il;return ic};ic.tickPadding=function(il){if(!arguments.length){return ik}ik=+il;return ic};ic.tickSubdivide=function(){return arguments.length&&ic};return ic};var hW="bottom",e3={top:1,right:1,bottom:1,left:1};function fm(id,ic,d3){id.attr("transform",function(ig){var ie=ic(ig);return"translate("+(isFinite(ie)?ie:d3(ig))+",0)"})}function fl(ic,id,d3){ic.attr("transform",function(ig){var ie=id(ig);return"translate(0,"+(isFinite(ie)?ie:d3(ig))+")"})}ho.svg.brush=function(){var ic=hi(ik,"brushstart","brush","brushend"),io=null,il=null,id=[0,0],ij=[0,0],im,ig,d3=true,ii=true,ip=at[0];function ik(it){it.each(function(){var iz=ho.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",iq).on("touchstart.brush",iq);var iy=iz.selectAll(".background").data([0]);iy.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");iz.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var ix=iz.selectAll(".resize").data(ip,gl);ix.exit().remove();ix.enter().append("g").attr("class",function(iA){return"resize "+iA}).style("cursor",function(iA){return eW[iA]}).append("rect").attr("x",function(iA){return/[ew]$/.test(iA)?-3:null}).attr("y",function(iA){return/^[ns]/.test(iA)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");ix.style("display",ik.empty()?"none":null);var iw=ho.transition(iz),iu=ho.transition(iy),iv;if(io){iv=aZ(io);iu.attr("x",iv[0]).attr("width",iv[1]-iv[0]);ih(iw)}if(il){iv=aZ(il);iu.attr("y",iv[0]).attr("height",iv[1]-iv[0]);ie(iw)}ir(iw)})}ik.event=function(it){it.each(function(){var iu=ic.of(this,arguments),iv={x:id,y:ij,i:im,j:ig},iw=this.__chart__||iv;this.__chart__=iv;if(ar){ho.select(this).transition().each("start.brush",function(){im=iw.i;ig=iw.j;id=iw.x;ij=iw.y;iu({type:"brushstart"})}).tween("brush:brush",function(){var ix=eP(id,iv.x),iy=eP(ij,iv.y);im=ig=null;return function(iz){id=iv.x=ix(iz);ij=iv.y=iy(iz);iu({type:"brush",mode:"resize"})}}).each("end.brush",function(){im=iv.i;ig=iv.j;iu({type:"brush",mode:"resize"});iu({type:"brushend"})})}else{iu({type:"brushstart"});iu({type:"brush",mode:"resize"});iu({type:"brushend"})}})};function ir(it){it.selectAll(".resize").attr("transform",function(iu){return"translate("+id[+/e$/.test(iu)]+","+ij[+/^s/.test(iu)]+")"})}function ih(it){it.select(".extent").attr("x",id[0]);it.selectAll(".extent,.n>rect,.s>rect").attr("width",id[1]-id[0])}function ie(it){it.select(".extent").attr("y",ij[0]);it.selectAll(".extent,.e>rect,.w>rect").attr("height",ij[1]-ij[0])}function iq(){var iM=this,iu=ho.select(ho.event.target),iB=ic.of(iM,arguments),iH=ho.select(iM),iJ=iu.datum(),iF=!/^(n|s)$/.test(iJ)&&io,iD=!/^(e|w)$/.test(iJ)&&il,iE=iu.classed("extent"),iw=bL(iM),iK,iL=ho.mouse(iM),iv;var iz=ho.select(fy(iM)).on("keydown.brush",iC).on("keyup.brush",iy);if(ho.event.changedTouches){iz.on("touchmove.brush",iA).on("touchend.brush",it)}else{iz.on("mousemove.brush",iA).on("mouseup.brush",it)}iH.interrupt().selectAll("*").interrupt();if(iE){iL[0]=id[0]-iL[0];iL[1]=ij[0]-iL[1]}else{if(iJ){var iI=+/w$/.test(iJ),iG=+/^n/.test(iJ);iv=[id[1-iI]-iL[0],ij[1-iG]-iL[1]];iL[0]=id[iI];iL[1]=ij[iG]}else{if(ho.event.altKey){iK=iL.slice()}}}iH.style("pointer-events","none").selectAll(".resize").style("display",null);ho.select("body").style("cursor",iu.style("cursor"));iB({type:"brushstart"});iA();function iC(){if(ho.event.keyCode==32){if(!iE){iK=null;iL[0]-=id[1];iL[1]-=ij[1];iE=2}w()}}function iy(){if(ho.event.keyCode==32&&iE==2){iL[0]+=id[1];iL[1]+=ij[1];iE=0;w()}}function iA(){var iN=ho.mouse(iM),iO=false;if(iv){iN[0]+=iv[0];iN[1]+=iv[1]}if(!iE){if(ho.event.altKey){if(!iK){iK=[(id[0]+id[1])/2,(ij[0]+ij[1])/2]}iL[0]=id[+(iN[0]<iK[0])];iL[1]=ij[+(iN[1]<iK[1])]}else{iK=null}}if(iF&&ix(iN,io,0)){ih(iH);iO=true}if(iD&&ix(iN,il,1)){ie(iH);iO=true}if(iO){ir(iH);iB({type:"brush",mode:iE?"move":"resize"})}}function ix(iV,iP,iR){var iS=aZ(iP),iO=iS[0],iN=iS[1],iT=iL[iR],iW=iR?ij:id,iX=iW[1]-iW[0],iQ,iU;if(iE){iO-=iT;iN-=iX+iT}iQ=(iR?ii:d3)?Math.max(iO,Math.min(iN,iV[iR])):iV[iR];if(iE){iU=(iQ+=iT)+iX}else{if(iK){iT=Math.max(iO,Math.min(iN,2*iK[iR]-iQ))}if(iT<iQ){iU=iQ;iQ=iT}else{iU=iT}}if(iW[0]!=iQ||iW[1]!=iU){if(iR){ig=null}else{im=null}iW[0]=iQ;iW[1]=iU;return true}}function it(){iA();iH.style("pointer-events","all").selectAll(".resize").style("display",ik.empty()?"none":null);ho.select("body").style("cursor",null);iz.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);iw();iB({type:"brushend"})}}ik.x=function(it){if(!arguments.length){return io}io=it;ip=at[!io<<1|!il];return ik};ik.y=function(it){if(!arguments.length){return il}il=it;ip=at[!io<<1|!il];return ik};ik.clamp=function(it){if(!arguments.length){return io&&il?[d3,ii]:io?d3:il?ii:null}if(io&&il){d3=!!it[0],ii=!!it[1]}else{if(io){d3=!!it}else{if(il){ii=!!it}}}return ik};ik.extent=function(iy){var iv,it,ix,iw,iu;if(!arguments.length){if(io){if(im){iv=im[0],it=im[1]}else{iv=id[0],it=id[1];if(io.invert){iv=io.invert(iv),it=io.invert(it)}if(it<iv){iu=iv,iv=it,it=iu}}}if(il){if(ig){ix=ig[0],iw=ig[1]}else{ix=ij[0],iw=ij[1];if(il.invert){ix=il.invert(ix),iw=il.invert(iw)}if(iw<ix){iu=ix,ix=iw,iw=iu}}}return io&&il?[[iv,ix],[it,iw]]:io?[iv,it]:il&&[ix,iw]}if(io){iv=iy[0],it=iy[1];if(il){iv=iv[0],it=it[0]}im=[iv,it];if(io.invert){iv=io(iv),it=io(it)}if(it<iv){iu=iv,iv=it,it=iu}if(iv!=id[0]||it!=id[1]){id=[iv,it]}}if(il){ix=iy[0],iw=iy[1];if(io){ix=ix[1],iw=iw[1]}ig=[ix,iw];if(il.invert){ix=il(ix),iw=il(iw)}if(iw<ix){iu=ix,ix=iw,iw=iu}if(ix!=ij[0]||iw!=ij[1]){ij=[ix,iw]}}return ik};ik.clear=function(){if(!ik.empty()){id=[0,0],ij=[0,0];im=ig=null}return ik};ik.empty=function(){return !!io&&id[0]==id[1]||!!il&&ij[0]==ij[1]};return ho.rebind(ik,ic,"on")};var eW={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var at=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];var ia=fG.format=di.timeFormat;var dg=ia.utc;var dQ=dg("%Y-%m-%dT%H:%M:%S.%LZ");ia.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?dy:dQ;function dy(d3){return d3.toISOString()}dy.parse=function(ic){var d3=new Date(ic);return isNaN(d3)?null:d3};dy.toString=dQ.toString;fG.second=c1(function(d3){return new hs(Math.floor(d3/1000)*1000)},function(d3,ic){d3.setTime(d3.getTime()+Math.floor(ic)*1000)},function(d3){return d3.getSeconds()});fG.seconds=fG.second.range;fG.seconds.utc=fG.second.utc.range;fG.minute=c1(function(d3){return new hs(Math.floor(d3/60000)*60000)},function(d3,ic){d3.setTime(d3.getTime()+Math.floor(ic)*60000)},function(d3){return d3.getMinutes()});fG.minutes=fG.minute.range;fG.minutes.utc=fG.minute.utc.range;fG.hour=c1(function(d3){var ic=d3.getTimezoneOffset()/60;return new hs((Math.floor(d3/3600000-ic)+ic)*3600000)},function(d3,ic){d3.setTime(d3.getTime()+Math.floor(ic)*3600000)},function(d3){return d3.getHours()});fG.hours=fG.hour.range;fG.hours.utc=fG.hour.utc.range;fG.month=c1(function(d3){d3=fG.day(d3);d3.setDate(1);return d3},function(d3,ic){d3.setMonth(d3.getMonth()+ic)},function(d3){return d3.getMonth()});fG.months=fG.month.range;fG.months.utc=fG.month.utc.range;function br(d3,ic,id){function ie(ih){return d3(ih)}ie.invert=function(ih){return f0(d3.invert(ih))};ie.domain=function(ih){if(!arguments.length){return d3.domain().map(f0)}d3.domain(ih);return ie};function ig(ij,ik){var ii=ij[1]-ij[0],il=ii/ik,ih=ho.bisect(fb,il);return ih==fb.length?[ic.year,q(ij.map(function(im){return im/31536000000}),ik)[2]]:!ih?[cz,q(ij,ik)[2]]:ic[il/fb[ih-1]<fb[ih]/il?ih-1:ih]}ie.nice=function(ii,ik){var il=ie.domain(),ij=et(il),im=ii==null?ig(ij,10):typeof ii==="number"&&ig(ij,ii);if(im){ii=im[0],ik=im[1]}function ih(io){return !isNaN(io)&&!ii.range(io,f0(+io+1),ik).length}return ie.domain(gi(il,ik>1?{floor:function(io){while(ih(io=ii.floor(io))){io=f0(io-1)}return io},ceil:function(io){while(ih(io=ii.ceil(io))){io=f0(+io+1)}return io}}:ii))};ie.ticks=function(ih,ij){var ii=et(ie.domain()),ik=ih==null?ig(ii,10):typeof ih==="number"?ig(ii,ih):!ih.range&&[{range:ih},ij];if(ik){ih=ik[0],ij=ik[1]}return ih.range(ii[0],f0(+ii[1]+1),ij<1?1:ij)};ie.tickFormat=function(){return id};ie.copy=function(){return br(d3.copy(),ic,id)};return ga(ie,d3)}function f0(d3){return new Date(d3)}var fb=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000];var cD=[[fG.second,1],[fG.second,5],[fG.second,15],[fG.second,30],[fG.minute,1],[fG.minute,5],[fG.minute,15],[fG.minute,30],[fG.hour,1],[fG.hour,3],[fG.hour,6],[fG.hour,12],[fG.day,1],[fG.day,2],[fG.week,1],[fG.month,1],[fG.month,3],[fG.year,1]];var S=ia.multi([[".%L",function(d3){return d3.getMilliseconds()}],[":%S",function(d3){return d3.getSeconds()}],["%I:%M",function(d3){return d3.getMinutes()}],["%I %p",function(d3){return d3.getHours()}],["%a %d",function(d3){return d3.getDay()&&d3.getDate()!=1}],["%b %d",function(d3){return d3.getDate()!=1}],["%B",function(d3){return d3.getMonth()}],["%Y",ah]]);var cz={range:function(id,d3,ic){return ho.range(Math.ceil(id/ic)*ic,+d3,ic).map(f0)},floor:gl,ceil:gl};cD.year=fG.year;fG.scale=function(){return br(ho.scale.linear(),cD,S)};var f3=cD.map(function(d3){return[d3[0].utc,d3[1]]});var fr=dg.multi([[".%L",function(d3){return d3.getUTCMilliseconds()}],[":%S",function(d3){return d3.getUTCSeconds()}],["%I:%M",function(d3){return d3.getUTCMinutes()}],["%I %p",function(d3){return d3.getUTCHours()}],["%a %d",function(d3){return d3.getUTCDay()&&d3.getUTCDate()!=1}],["%b %d",function(d3){return d3.getUTCDate()!=1}],["%B",function(d3){return d3.getUTCMonth()}],["%Y",ah]]);f3.year=fG.year.utc;fG.scale.utc=function(){return br(ho.scale.linear(),f3,fr)};ho.text=X(function(d3){return d3.responseText});ho.json=function(d3,ic){return hZ(d3,"application/json",dM,ic)};function dM(d3){return JSON.parse(d3.responseText)}ho.html=function(d3,ic){return hZ(d3,"text/html",h9,ic)};function h9(ic){var d3=bO.createRange();d3.selectNode(bO.body);return d3.createContextualFragment(ic.responseText)}ho.xml=X(function(d3){return d3.responseXML});if(typeof define==="function"&&define.amd){this.d3=ho,define(ho)}else{if(typeof c==="object"&&c.exports){c.exports=ho}else{this.d3=ho}}}()},{}]},{},[14]);